[INFO] Scanning for projects...
[INFO] 
[INFO] -----------------< com.socialplatform:gateway-service >-----------------
[INFO] Building gateway-service 0.0.1-SNAPSHOT
[INFO]   from pom.xml
[INFO] --------------------------------[ jar ]---------------------------------
[INFO] 
[INFO] >>> spring-boot:3.4.10:run (default-cli) > test-compile @ gateway-service >>>
[INFO] 
[INFO] --- resources:3.3.1:resources (default-resources) @ gateway-service ---
[INFO] Copying 2 resources from src/main/resources to target/classes
[INFO] Copying 0 resource from src/main/resources to target/classes
[INFO] 
[INFO] --- compiler:3.13.0:compile (default-compile) @ gateway-service ---
[INFO] Nothing to compile - all classes are up to date.
[INFO] 
[INFO] --- resources:3.3.1:testResources (default-testResources) @ gateway-service ---
[INFO] skip non existing resourceDirectory /home/abderahman/dev-setup/social-platform-backend/gateway-service/src/test/resources
[INFO] 
[INFO] --- compiler:3.13.0:testCompile (default-testCompile) @ gateway-service ---
[INFO] No sources to compile
[INFO] 
[INFO] <<< spring-boot:3.4.10:run (default-cli) < test-compile @ gateway-service <<<
[INFO] 
[INFO] 
[INFO] --- spring-boot:3.4.10:run (default-cli) @ gateway-service ---
[INFO] Attaching agents: []

  .   ____          _            __ _ _
 /\\ / ___'_ __ _ _(_)_ __  __ _ \ \ \ \
( ( )\___ | '_ | '_| | '_ \/ _` | \ \ \ \
 \\/  ___)| |_)| | | | | || (_| |  ) ) ) )
  '  |____| .__|_| |_|_| |_\__, | / / / /
 =========|_|==============|___/=/_/_/_/

 :: Spring Boot ::               (v3.4.10)

2025-10-18T05:11:02.801Z  INFO 120789 --- [gateway-service] [           main] c.s.b.g.GatewayServiceApplication        : Starting GatewayServiceApplication using Java 21.0.8 with PID 120789 (/home/abderahman/dev-setup/social-platform-backend/gateway-service/target/classes started by abderahman in /home/abderahman/dev-setup/social-platform-backend/gateway-service)
2025-10-18T05:11:02.803Z  INFO 120789 --- [gateway-service] [           main] c.s.b.g.GatewayServiceApplication        : No active profile set, falling back to 1 default profile: "default"
2025-10-18T05:11:03.444Z  INFO 120789 --- [gateway-service] [           main] o.s.cloud.context.scope.GenericScope     : BeanFactory id=db33b841-874b-374d-9d99-52e56b42bbab
2025-10-18T05:11:03.632Z  INFO 120789 --- [gateway-service] [           main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port 8082 (http)
2025-10-18T05:11:03.642Z  INFO 120789 --- [gateway-service] [           main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2025-10-18T05:11:03.642Z  INFO 120789 --- [gateway-service] [           main] o.apache.catalina.core.StandardEngine    : Starting Servlet engine: [Apache Tomcat/10.1.46]
2025-10-18T05:11:03.748Z  INFO 120789 --- [gateway-service] [           main] ctiveUserDetailsServiceAutoConfiguration : 

Using generated security password: dadacc1a-deb0-405f-ba6d-e34d69068ae4

2025-10-18T05:11:04.089Z DEBUG 120789 --- [gateway-service] [           main] o.s.c.gateway.config.GatewayProperties   : Routes supplied from Gateway Properties: [RouteDefinition{id='user-service-public', predicates=[PredicateDefinition{name='Path', args={_genkey_0=/api/users/user/public}}], filters=[FilterDefinition{name='StripPrefix', args={_genkey_0=2}}, FilterDefinition{name='AddResponseHeader', args={_genkey_0=X-Gateway-Routed, _genkey_1=true}}], uri=http://localhost:8081, order=0, metadata={}, enabled=true}, RouteDefinition{id='user-service-register', predicates=[PredicateDefinition{name='Path', args={_genkey_0=/api/users/register}}], filters=[FilterDefinition{name='StripPrefix', args={_genkey_0=2}}, FilterDefinition{name='AddResponseHeader', args={_genkey_0=X-Gateway-Routed, _genkey_1=true}}], uri=http://localhost:8081, order=0, metadata={}, enabled=true}, RouteDefinition{id='user-service-login', predicates=[PredicateDefinition{name='Path', args={_genkey_0=/api/users/login}}], filters=[FilterDefinition{name='StripPrefix', args={_genkey_0=2}}, FilterDefinition{name='AddResponseHeader', args={_genkey_0=X-Gateway-Routed, _genkey_1=true}}], uri=http://localhost:8081, order=0, metadata={}, enabled=true}, RouteDefinition{id='user-service-protected', predicates=[PredicateDefinition{name='Path', args={_genkey_0=/api/users/user/**}}], filters=[FilterDefinition{name='StripPrefix', args={_genkey_0=2}}, FilterDefinition{name='AddResponseHeader', args={_genkey_0=X-Gateway-Routed, _genkey_1=true}}], uri=http://localhost:8081, order=0, metadata={}, enabled=true}]
2025-10-18T05:11:04.183Z  INFO 120789 --- [gateway-service] [           main] o.s.c.g.r.RouteDefinitionRouteLocator    : Loaded RoutePredicateFactory [After]
2025-10-18T05:11:04.183Z  INFO 120789 --- [gateway-service] [           main] o.s.c.g.r.RouteDefinitionRouteLocator    : Loaded RoutePredicateFactory [Before]
2025-10-18T05:11:04.184Z  INFO 120789 --- [gateway-service] [           main] o.s.c.g.r.RouteDefinitionRouteLocator    : Loaded RoutePredicateFactory [Between]
2025-10-18T05:11:04.184Z  INFO 120789 --- [gateway-service] [           main] o.s.c.g.r.RouteDefinitionRouteLocator    : Loaded RoutePredicateFactory [Cookie]
2025-10-18T05:11:04.184Z  INFO 120789 --- [gateway-service] [           main] o.s.c.g.r.RouteDefinitionRouteLocator    : Loaded RoutePredicateFactory [Header]
2025-10-18T05:11:04.184Z  INFO 120789 --- [gateway-service] [           main] o.s.c.g.r.RouteDefinitionRouteLocator    : Loaded RoutePredicateFactory [Host]
2025-10-18T05:11:04.184Z  INFO 120789 --- [gateway-service] [           main] o.s.c.g.r.RouteDefinitionRouteLocator    : Loaded RoutePredicateFactory [Method]
2025-10-18T05:11:04.184Z  INFO 120789 --- [gateway-service] [           main] o.s.c.g.r.RouteDefinitionRouteLocator    : Loaded RoutePredicateFactory [Path]
2025-10-18T05:11:04.184Z  INFO 120789 --- [gateway-service] [           main] o.s.c.g.r.RouteDefinitionRouteLocator    : Loaded RoutePredicateFactory [Query]
2025-10-18T05:11:04.184Z  INFO 120789 --- [gateway-service] [           main] o.s.c.g.r.RouteDefinitionRouteLocator    : Loaded RoutePredicateFactory [ReadBody]
2025-10-18T05:11:04.184Z  INFO 120789 --- [gateway-service] [           main] o.s.c.g.r.RouteDefinitionRouteLocator    : Loaded RoutePredicateFactory [RemoteAddr]
2025-10-18T05:11:04.184Z  INFO 120789 --- [gateway-service] [           main] o.s.c.g.r.RouteDefinitionRouteLocator    : Loaded RoutePredicateFactory [XForwardedRemoteAddr]
2025-10-18T05:11:04.184Z  INFO 120789 --- [gateway-service] [           main] o.s.c.g.r.RouteDefinitionRouteLocator    : Loaded RoutePredicateFactory [Weight]
2025-10-18T05:11:04.184Z  INFO 120789 --- [gateway-service] [           main] o.s.c.g.r.RouteDefinitionRouteLocator    : Loaded RoutePredicateFactory [CloudFoundryRouteService]
2025-10-18T05:11:04.306Z  INFO 120789 --- [gateway-service] [           main] o.s.b.a.e.web.EndpointLinksResolver      : Exposing 3 endpoints beneath base path '/actuator'
2025-10-18T05:11:04.455Z DEBUG 120789 --- [gateway-service] [           main] reactor.netty.tcp.TcpResources           : [http] resources will use the default LoopResources: DefaultLoopResources {prefix=reactor-http, daemon=true, selectCount=8, workerCount=8}
2025-10-18T05:11:04.456Z DEBUG 120789 --- [gateway-service] [           main] reactor.netty.tcp.TcpResources           : [http] resources will use the default ConnectionProvider: reactor.netty.resources.DefaultPooledConnectionProvider@22a63740
2025-10-18T05:11:04.469Z  WARN 120789 --- [gateway-service] [           main] onfigReactiveWebServerApplicationContext : Exception encountered during context initialization - cancelling refresh attempt: org.springframework.context.ApplicationContextException: Failed to start bean 'webServerStartStop'
2025-10-18T05:11:04.489Z  INFO 120789 --- [gateway-service] [           main] .s.b.a.l.ConditionEvaluationReportLogger : 

Error starting ApplicationContext. To display the condition evaluation report re-run your application with 'debug' enabled.
2025-10-18T05:11:04.502Z ERROR 120789 --- [gateway-service] [           main] o.s.b.d.LoggingFailureAnalysisReporter   : 

***************************
APPLICATION FAILED TO START
***************************

Description:

Web server failed to start. Port 8082 was already in use.

Action:

Identify and stop the process that's listening on port 8082 or configure this application to listen on another port.

[INFO] ------------------------------------------------------------------------
[INFO] BUILD FAILURE
[INFO] ------------------------------------------------------------------------
[INFO] Total time:  3.404 s
[INFO] Finished at: 2025-10-18T05:11:04Z
[INFO] ------------------------------------------------------------------------
[ERROR] Failed to execute goal org.springframework.boot:spring-boot-maven-plugin:3.4.10:run (default-cli) on project gateway-service: Process terminated with exit code: 1 -> [Help 1]
[ERROR] 
[ERROR] To see the full stack trace of the errors, re-run Maven with the -e switch.
[ERROR] Re-run Maven using the -X switch to enable full debug logging.
[ERROR] 
[ERROR] For more information about the errors and possible solutions, please read the following articles:
[ERROR] [Help 1] http://cwiki.apache.org/confluence/display/MAVEN/MojoExecutionException
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                               2025-10-18T05:11:10.230Z DEBUG 119791 --- [gateway-service] [     parallel-3] o.s.c.g.h.RoutePredicateHandlerMapping   : Route matched: user-service-public
2025-10-18T05:11:10.230Z DEBUG 119791 --- [gateway-service] [     parallel-3] o.s.c.g.h.RoutePredicateHandlerMapping   : Mapping [Exchange: GET http://localhost:8082/api/users/user/public] to Route{id='user-service-public', uri=http://localhost:8081, order=0, predicate=Paths: [/api/users/user/public], match trailing slash: true, gatewayFilters=[[[AddRequestHeader X-Forwarded-Host = 'localhost:8080'], order = 1], [[StripPrefix parts = 2], order = 1], [[DedupeResponseHeader Access-Control-Allow-Origin Access-Control-Allow-Credentials = RETAIN_UNIQUE], order = 2], [[AddResponseHeader X-Gateway-Routed = 'true'], order = 2]], metadata={}}
2025-10-18T05:11:10.230Z DEBUG 119791 --- [gateway-service] [     parallel-3] o.s.c.g.h.RoutePredicateHandlerMapping   : [12eb4d1a] Mapped to org.springframework.cloud.gateway.handler.FilteringWebHandler@685e6a68
2025-10-18T05:11:10.230Z DEBUG 119791 --- [gateway-service] [     parallel-3] o.s.c.g.handler.FilteringWebHandler      : Sorted gatewayFilterFactories: [[GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.RemoveCachedBodyFilter@c6a692e}, order = -2147483648], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.AdaptCachedBodyGlobalFilter@350d26f3}, order = -2147482648], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.NettyWriteResponseFilter@33215ffb}, order = -1], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ForwardPathFilter@17d2b646}, order = 0], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.GatewayMetricsFilter@7b3a6e95}, order = 0], [[AddRequestHeader X-Forwarded-Host = 'localhost:8080'], order = 1], [[StripPrefix parts = 2], order = 1], [[DedupeResponseHeader Access-Control-Allow-Origin Access-Control-Allow-Credentials = RETAIN_UNIQUE], order = 2], [[AddResponseHeader X-Gateway-Routed = 'true'], order = 2], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.RouteToRequestUrlFilter@27502e5c}, order = 10000], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.config.GatewayNoLoadBalancerClientAutoConfiguration$NoLoadBalancerClientFilter@8ac512e}, order = 10150], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.WebsocketRoutingFilter@323e026d}, order = 2147483646], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.NettyRoutingFilter@2bf3ec4}, order = 2147483647], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ForwardRoutingFilter@4b343b6d}, order = 2147483647]]
2025-10-18T05:11:10.231Z DEBUG 119791 --- [gateway-service] [     parallel-3] g.f.h.o.ObservedRequestHttpHeadersFilter : Will instrument the HTTP request headers [host:"localhost:8082", user-agent:"curl/7.81.0", accept:"*/*", X-Forwarded-Host:"localhost:8080,localhost:8082", Forwarded:"proto=http;host="localhost:8082";for="127.0.0.1:54346"", X-Forwarded-For:"127.0.0.1", X-Forwarded-Proto:"http", X-Forwarded-Prefix:"/api/users", X-Forwarded-Port:"8082"]
2025-10-18T05:11:10.232Z DEBUG 119791 --- [gateway-service] [     parallel-3] g.f.h.o.ObservedRequestHttpHeadersFilter : Client observation  {name=http.client.requests(null), error=null, context=name='http.client.requests', contextualName='null', error='null', lowCardinalityKeyValues=[http.method='GET', http.status_code='UNKNOWN', spring.cloud.gateway.route.id='user-service-public', spring.cloud.gateway.route.uri='http://localhost:8081'], highCardinalityKeyValues=[http.uri='http://localhost:8082/user/public'], map=[class io.micrometer.core.instrument.LongTaskTimer$Sample='SampleImpl{duration(seconds)=6.6895E-5, duration(nanos)=66895.0, startTimeNanos=7568652051065}', class io.micrometer.core.instrument.Timer$Sample='io.micrometer.core.instrument.Timer$Sample@16d81f1e'], parentObservation=org.springframework.security.web.server.ObservationWebFilterChainDecorator$PhasedObservation@181ff3b5} created for the request. New headers are [host:"localhost:8082", user-agent:"curl/7.81.0", accept:"*/*", X-Forwarded-Host:"localhost:8080,localhost:8082", Forwarded:"proto=http;host="localhost:8082";for="127.0.0.1:54346"", X-Forwarded-For:"127.0.0.1", X-Forwarded-Proto:"http", X-Forwarded-Prefix:"/api/users", X-Forwarded-Port:"8082"]
2025-10-18T05:11:10.232Z DEBUG 119791 --- [gateway-service] [or-http-epoll-2] r.n.resources.PooledConnectionProvider   : [c3cc2276, L:/127.0.0.1:49096 - R:localhost/127.0.0.1:8081] Channel acquired, now: 1 active connections, 0 inactive connections 0 pending acquire requests.
2025-10-18T05:11:10.232Z DEBUG 119791 --- [gateway-service] [or-http-epoll-2] r.netty.http.client.HttpClientConnect    : [c3cc2276-3, L:/127.0.0.1:49096 - R:localhost/127.0.0.1:8081] Handler is being applied: {uri=http://localhost:8081/user/public, method=GET}
2025-10-18T05:11:10.232Z DEBUG 119791 --- [gateway-service] [or-http-epoll-2] r.n.r.DefaultPooledConnectionProvider    : [c3cc2276-3, L:/127.0.0.1:49096 - R:localhost/127.0.0.1:8081] onStateChange(GET{uri=/user/public, connection=PooledConnection{channel=[id: 0xc3cc2276, L:/127.0.0.1:49096 - R:localhost/127.0.0.1:8081]}}, [request_prepared])
2025-10-18T05:11:10.233Z DEBUG 119791 --- [gateway-service] [or-http-epoll-2] r.n.r.DefaultPooledConnectionProvider    : [c3cc2276-3, L:/127.0.0.1:49096 - R:localhost/127.0.0.1:8081] onStateChange(GET{uri=/user/public, connection=PooledConnection{channel=[id: 0xc3cc2276, L:/127.0.0.1:49096 - R:localhost/127.0.0.1:8081]}}, [request_sent])
2025-10-18T05:11:10.236Z DEBUG 119791 --- [gateway-service] [or-http-epoll-2] r.n.http.client.HttpClientOperations     : [c3cc2276-3, L:/127.0.0.1:49096 - R:localhost/127.0.0.1:8081] Received response (auto-read:false) : RESPONSE(decodeResult: success, version: HTTP/1.1)
HTTP/1.1 200 
X-Content-Type-Options: <filtered>
X-XSS-Protection: <filtered>
Cache-Control: <filtered>
Pragma: <filtered>
Expires: <filtered>
X-Frame-Options: <filtered>
Content-Type: <filtered>
Transfer-Encoding: <filtered>
Date: <filtered>
2025-10-18T05:11:10.236Z DEBUG 119791 --- [gateway-service] [or-http-epoll-2] r.n.r.DefaultPooledConnectionProvider    : [c3cc2276-3, L:/127.0.0.1:49096 - R:localhost/127.0.0.1:8081] onStateChange(GET{uri=/user/public, connection=PooledConnection{channel=[id: 0xc3cc2276, L:/127.0.0.1:49096 - R:localhost/127.0.0.1:8081]}}, [response_received])
2025-10-18T05:11:10.236Z DEBUG 119791 --- [gateway-service] [or-http-epoll-2] .f.h.o.ObservedResponseHttpHeadersFilter : Will instrument the response
2025-10-18T05:11:10.236Z DEBUG 119791 --- [gateway-service] [or-http-epoll-2] .f.h.o.ObservedResponseHttpHeadersFilter : The response was handled for observation {name=http.client.requests(null), error=null, context=name='http.client.requests', contextualName='null', error='null', lowCardinalityKeyValues=[http.method='GET', http.status_code='UNKNOWN', spring.cloud.gateway.route.id='user-service-public', spring.cloud.gateway.route.uri='http://localhost:8081'], highCardinalityKeyValues=[http.uri='http://localhost:8082/user/public'], map=[class io.micrometer.core.instrument.LongTaskTimer$Sample='SampleImpl{duration(seconds)=0.004850941, duration(nanos)=4850941.0, startTimeNanos=7568652051065}', class io.micrometer.core.instrument.Timer$Sample='io.micrometer.core.instrument.Timer$Sample@16d81f1e'], parentObservation=org.springframework.security.web.server.ObservationWebFilterChainDecorator$PhasedObservation@181ff3b5}
2025-10-18T05:11:10.237Z DEBUG 119791 --- [gateway-service] [or-http-epoll-2] reactor.netty.channel.FluxReceive        : [c3cc2276-3, L:/127.0.0.1:49096 - R:localhost/127.0.0.1:8081] [terminated=false, cancelled=false, pending=0, error=null]: subscribing inbound receiver
2025-10-18T05:11:10.238Z DEBUG 119791 --- [gateway-service] [or-http-epoll-2] r.n.http.client.HttpClientOperations     : [c3cc2276-3, L:/127.0.0.1:49096 - R:localhost/127.0.0.1:8081] Received last HTTP packet
2025-10-18T05:11:10.239Z DEBUG 119791 --- [gateway-service] [or-http-epoll-2] r.n.r.DefaultPooledConnectionProvider    : [c3cc2276, L:/127.0.0.1:49096 - R:localhost/127.0.0.1:8081] onStateChange(GET{uri=/user/public, connection=PooledConnection{channel=[id: 0xc3cc2276, L:/127.0.0.1:49096 - R:localhost/127.0.0.1:8081]}}, [response_completed])
2025-10-18T05:11:10.239Z DEBUG 119791 --- [gateway-service] [or-http-epoll-2] r.n.r.DefaultPooledConnectionProvider    : [c3cc2276, L:/127.0.0.1:49096 - R:localhost/127.0.0.1:8081] onStateChange(GET{uri=/user/public, connection=PooledConnection{channel=[id: 0xc3cc2276, L:/127.0.0.1:49096 - R:localhost/127.0.0.1:8081]}}, [disconnecting])
2025-10-18T05:11:10.239Z DEBUG 119791 --- [gateway-service] [or-http-epoll-2] r.n.r.DefaultPooledConnectionProvider    : [c3cc2276, L:/127.0.0.1:49096 - R:localhost/127.0.0.1:8081] Releasing channel
2025-10-18T05:11:10.239Z DEBUG 119791 --- [gateway-service] [or-http-epoll-2] r.n.resources.PooledConnectionProvider   : [c3cc2276, L:/127.0.0.1:49096 - R:localhost/127.0.0.1:8081] Channel cleaned, now: 0 active connections, 1 inactive connections 0 pending acquire requests.
2025-10-18T05:11:10.246Z DEBUG 119791 --- [gateway-service] [     parallel-4] o.s.c.g.h.RoutePredicateHandlerMapping   : Route matched: user-service-public
2025-10-18T05:11:10.247Z DEBUG 119791 --- [gateway-service] [     parallel-4] o.s.c.g.h.RoutePredicateHandlerMapping   : Mapping [Exchange: GET http://localhost:8082/api/users/user/public] to Route{id='user-service-public', uri=http://localhost:8081, order=0, predicate=Paths: [/api/users/user/public], match trailing slash: true, gatewayFilters=[[[AddRequestHeader X-Forwarded-Host = 'localhost:8080'], order = 1], [[StripPrefix parts = 2], order = 1], [[DedupeResponseHeader Access-Control-Allow-Origin Access-Control-Allow-Credentials = RETAIN_UNIQUE], order = 2], [[AddResponseHeader X-Gateway-Routed = 'true'], order = 2]], metadata={}}
2025-10-18T05:11:10.247Z DEBUG 119791 --- [gateway-service] [     parallel-4] o.s.c.g.h.RoutePredicateHandlerMapping   : [72418463] Mapped to org.springframework.cloud.gateway.handler.FilteringWebHandler@685e6a68
2025-10-18T05:11:10.247Z DEBUG 119791 --- [gateway-service] [     parallel-4] o.s.c.g.handler.FilteringWebHandler      : Sorted gatewayFilterFactories: [[GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.RemoveCachedBodyFilter@c6a692e}, order = -2147483648], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.AdaptCachedBodyGlobalFilter@350d26f3}, order = -2147482648], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.NettyWriteResponseFilter@33215ffb}, order = -1], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ForwardPathFilter@17d2b646}, order = 0], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.GatewayMetricsFilter@7b3a6e95}, order = 0], [[AddRequestHeader X-Forwarded-Host = 'localhost:8080'], order = 1], [[StripPrefix parts = 2], order = 1], [[DedupeResponseHeader Access-Control-Allow-Origin Access-Control-Allow-Credentials = RETAIN_UNIQUE], order = 2], [[AddResponseHeader X-Gateway-Routed = 'true'], order = 2], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.RouteToRequestUrlFilter@27502e5c}, order = 10000], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.config.GatewayNoLoadBalancerClientAutoConfiguration$NoLoadBalancerClientFilter@8ac512e}, order = 10150], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.WebsocketRoutingFilter@323e026d}, order = 2147483646], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.NettyRoutingFilter@2bf3ec4}, order = 2147483647], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ForwardRoutingFilter@4b343b6d}, order = 2147483647]]
2025-10-18T05:11:10.248Z DEBUG 119791 --- [gateway-service] [     parallel-4] g.f.h.o.ObservedRequestHttpHeadersFilter : Will instrument the HTTP request headers [host:"localhost:8082", user-agent:"curl/7.81.0", accept:"*/*", X-Forwarded-Host:"localhost:8080,localhost:8082", Forwarded:"proto=http;host="localhost:8082";for="127.0.0.1:54352"", X-Forwarded-For:"127.0.0.1", X-Forwarded-Proto:"http", X-Forwarded-Prefix:"/api/users", X-Forwarded-Port:"8082"]
2025-10-18T05:11:10.248Z DEBUG 119791 --- [gateway-service] [     parallel-4] g.f.h.o.ObservedRequestHttpHeadersFilter : Client observation  {name=http.client.requests(null), error=null, context=name='http.client.requests', contextualName='null', error='null', lowCardinalityKeyValues=[http.method='GET', http.status_code='UNKNOWN', spring.cloud.gateway.route.id='user-service-public', spring.cloud.gateway.route.uri='http://localhost:8081'], highCardinalityKeyValues=[http.uri='http://localhost:8082/user/public'], map=[class io.micrometer.core.instrument.LongTaskTimer$Sample='SampleImpl{duration(seconds)=5.0782E-5, duration(nanos)=50782.0, startTimeNanos=7568668478538}', class io.micrometer.core.instrument.Timer$Sample='io.micrometer.core.instrument.Timer$Sample@37c3c878'], parentObservation=org.springframework.security.web.server.ObservationWebFilterChainDecorator$PhasedObservation@390430f0} created for the request. New headers are [host:"localhost:8082", user-agent:"curl/7.81.0", accept:"*/*", X-Forwarded-Host:"localhost:8080,localhost:8082", Forwarded:"proto=http;host="localhost:8082";for="127.0.0.1:54352"", X-Forwarded-For:"127.0.0.1", X-Forwarded-Proto:"http", X-Forwarded-Prefix:"/api/users", X-Forwarded-Port:"8082"]
2025-10-18T05:11:10.249Z DEBUG 119791 --- [gateway-service] [or-http-epoll-2] r.n.resources.PooledConnectionProvider   : [c3cc2276, L:/127.0.0.1:49096 - R:localhost/127.0.0.1:8081] Channel acquired, now: 1 active connections, 0 inactive connections 0 pending acquire requests.
2025-10-18T05:11:10.249Z DEBUG 119791 --- [gateway-service] [or-http-epoll-2] r.netty.http.client.HttpClientConnect    : [c3cc2276-4, L:/127.0.0.1:49096 - R:localhost/127.0.0.1:8081] Handler is being applied: {uri=http://localhost:8081/user/public, method=GET}
2025-10-18T05:11:10.249Z DEBUG 119791 --- [gateway-service] [or-http-epoll-2] r.n.r.DefaultPooledConnectionProvider    : [c3cc2276-4, L:/127.0.0.1:49096 - R:localhost/127.0.0.1:8081] onStateChange(GET{uri=/user/public, connection=PooledConnection{channel=[id: 0xc3cc2276, L:/127.0.0.1:49096 - R:localhost/127.0.0.1:8081]}}, [request_prepared])
2025-10-18T05:11:10.249Z DEBUG 119791 --- [gateway-service] [or-http-epoll-2] r.n.r.DefaultPooledConnectionProvider    : [c3cc2276-4, L:/127.0.0.1:49096 - R:localhost/127.0.0.1:8081] onStateChange(GET{uri=/user/public, connection=PooledConnection{channel=[id: 0xc3cc2276, L:/127.0.0.1:49096 - R:localhost/127.0.0.1:8081]}}, [request_sent])
2025-10-18T05:11:10.252Z DEBUG 119791 --- [gateway-service] [or-http-epoll-2] r.n.http.client.HttpClientOperations     : [c3cc2276-4, L:/127.0.0.1:49096 - R:localhost/127.0.0.1:8081] Received response (auto-read:false) : RESPONSE(decodeResult: success, version: HTTP/1.1)
HTTP/1.1 200 
X-Content-Type-Options: <filtered>
X-XSS-Protection: <filtered>
Cache-Control: <filtered>
Pragma: <filtered>
Expires: <filtered>
X-Frame-Options: <filtered>
Content-Type: <filtered>
Transfer-Encoding: <filtered>
Date: <filtered>
2025-10-18T05:11:10.252Z DEBUG 119791 --- [gateway-service] [or-http-epoll-2] r.n.r.DefaultPooledConnectionProvider    : [c3cc2276-4, L:/127.0.0.1:49096 - R:localhost/127.0.0.1:8081] onStateChange(GET{uri=/user/public, connection=PooledConnection{channel=[id: 0xc3cc2276, L:/127.0.0.1:49096 - R:localhost/127.0.0.1:8081]}}, [response_received])
2025-10-18T05:11:10.252Z DEBUG 119791 --- [gateway-service] [or-http-epoll-2] .f.h.o.ObservedResponseHttpHeadersFilter : Will instrument the response
2025-10-18T05:11:10.252Z DEBUG 119791 --- [gateway-service] [or-http-epoll-2] .f.h.o.ObservedResponseHttpHeadersFilter : The response was handled for observation {name=http.client.requests(null), error=null, context=name='http.client.requests', contextualName='null', error='null', lowCardinalityKeyValues=[http.method='GET', http.status_code='UNKNOWN', spring.cloud.gateway.route.id='user-service-public', spring.cloud.gateway.route.uri='http://localhost:8081'], highCardinalityKeyValues=[http.uri='http://localhost:8082/user/public'], map=[class io.micrometer.core.instrument.LongTaskTimer$Sample='SampleImpl{duration(seconds)=0.004361755, duration(nanos)=4361755.0, startTimeNanos=7568668478538}', class io.micrometer.core.instrument.Timer$Sample='io.micrometer.core.instrument.Timer$Sample@37c3c878'], parentObservation=org.springframework.security.web.server.ObservationWebFilterChainDecorator$PhasedObservation@390430f0}
2025-10-18T05:11:10.253Z DEBUG 119791 --- [gateway-service] [or-http-epoll-2] reactor.netty.channel.FluxReceive        : [c3cc2276-4, L:/127.0.0.1:49096 - R:localhost/127.0.0.1:8081] [terminated=false, cancelled=false, pending=0, error=null]: subscribing inbound receiver
2025-10-18T05:11:10.254Z DEBUG 119791 --- [gateway-service] [or-http-epoll-2] r.n.http.client.HttpClientOperations     : [c3cc2276-4, L:/127.0.0.1:49096 - R:localhost/127.0.0.1:8081] Received last HTTP packet
2025-10-18T05:11:10.254Z DEBUG 119791 --- [gateway-service] [or-http-epoll-2] r.n.r.DefaultPooledConnectionProvider    : [c3cc2276, L:/127.0.0.1:49096 - R:localhost/127.0.0.1:8081] onStateChange(GET{uri=/user/public, connection=PooledConnection{channel=[id: 0xc3cc2276, L:/127.0.0.1:49096 - R:localhost/127.0.0.1:8081]}}, [response_completed])
2025-10-18T05:11:10.254Z DEBUG 119791 --- [gateway-service] [or-http-epoll-2] r.n.r.DefaultPooledConnectionProvider    : [c3cc2276, L:/127.0.0.1:49096 - R:localhost/127.0.0.1:8081] onStateChange(GET{uri=/user/public, connection=PooledConnection{channel=[id: 0xc3cc2276, L:/127.0.0.1:49096 - R:localhost/127.0.0.1:8081]}}, [disconnecting])
2025-10-18T05:11:10.254Z DEBUG 119791 --- [gateway-service] [or-http-epoll-2] r.n.r.DefaultPooledConnectionProvider    : [c3cc2276, L:/127.0.0.1:49096 - R:localhost/127.0.0.1:8081] Releasing channel
2025-10-18T05:11:10.254Z DEBUG 119791 --- [gateway-service] [or-http-epoll-2] r.n.resources.PooledConnectionProvider   : [c3cc2276, L:/127.0.0.1:49096 - R:localhost/127.0.0.1:8081] Channel cleaned, now: 0 active connections, 1 inactive connections 0 pending acquire requests.
2025-10-18T05:11:12.911Z DEBUG 119791 --- [gateway-service] [     parallel-5] o.s.c.g.h.RoutePredicateHandlerMapping   : Route matched: user-service-public
2025-10-18T05:11:12.911Z DEBUG 119791 --- [gateway-service] [     parallel-5] o.s.c.g.h.RoutePredicateHandlerMapping   : Mapping [Exchange: GET http://localhost:8082/api/users/user/public] to Route{id='user-service-public', uri=http://localhost:8081, order=0, predicate=Paths: [/api/users/user/public], match trailing slash: true, gatewayFilters=[[[AddRequestHeader X-Forwarded-Host = 'localhost:8080'], order = 1], [[StripPrefix parts = 2], order = 1], [[DedupeResponseHeader Access-Control-Allow-Origin Access-Control-Allow-Credentials = RETAIN_UNIQUE], order = 2], [[AddResponseHeader X-Gateway-Routed = 'true'], order = 2]], metadata={}}
2025-10-18T05:11:12.911Z DEBUG 119791 --- [gateway-service] [     parallel-5] o.s.c.g.h.RoutePredicateHandlerMapping   : [32affec7] Mapped to org.springframework.cloud.gateway.handler.FilteringWebHandler@685e6a68
2025-10-18T05:11:12.911Z DEBUG 119791 --- [gateway-service] [     parallel-5] o.s.c.g.handler.FilteringWebHandler      : Sorted gatewayFilterFactories: [[GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.RemoveCachedBodyFilter@c6a692e}, order = -2147483648], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.AdaptCachedBodyGlobalFilter@350d26f3}, order = -2147482648], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.NettyWriteResponseFilter@33215ffb}, order = -1], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ForwardPathFilter@17d2b646}, order = 0], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.GatewayMetricsFilter@7b3a6e95}, order = 0], [[AddRequestHeader X-Forwarded-Host = 'localhost:8080'], order = 1], [[StripPrefix parts = 2], order = 1], [[DedupeResponseHeader Access-Control-Allow-Origin Access-Control-Allow-Credentials = RETAIN_UNIQUE], order = 2], [[AddResponseHeader X-Gateway-Routed = 'true'], order = 2], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.RouteToRequestUrlFilter@27502e5c}, order = 10000], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.config.GatewayNoLoadBalancerClientAutoConfiguration$NoLoadBalancerClientFilter@8ac512e}, order = 10150], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.WebsocketRoutingFilter@323e026d}, order = 2147483646], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.NettyRoutingFilter@2bf3ec4}, order = 2147483647], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ForwardRoutingFilter@4b343b6d}, order = 2147483647]]
2025-10-18T05:11:12.912Z DEBUG 119791 --- [gateway-service] [     parallel-5] g.f.h.o.ObservedRequestHttpHeadersFilter : Will instrument the HTTP request headers [host:"localhost:8082", user-agent:"curl/7.81.0", accept:"*/*", X-Forwarded-Host:"localhost:8080,localhost:8082", Forwarded:"proto=http;host="localhost:8082";for="127.0.0.1:54358"", X-Forwarded-For:"127.0.0.1", X-Forwarded-Proto:"http", X-Forwarded-Prefix:"/api/users", X-Forwarded-Port:"8082"]
2025-10-18T05:11:12.912Z DEBUG 119791 --- [gateway-service] [     parallel-5] g.f.h.o.ObservedRequestHttpHeadersFilter : Client observation  {name=http.client.requests(null), error=null, context=name='http.client.requests', contextualName='null', error='null', lowCardinalityKeyValues=[http.method='GET', http.status_code='UNKNOWN', spring.cloud.gateway.route.id='user-service-public', spring.cloud.gateway.route.uri='http://localhost:8081'], highCardinalityKeyValues=[http.uri='http://localhost:8082/user/public'], map=[class io.micrometer.core.instrument.LongTaskTimer$Sample='SampleImpl{duration(seconds)=4.3543E-5, duration(nanos)=43543.0, startTimeNanos=7571332811508}', class io.micrometer.core.instrument.Timer$Sample='io.micrometer.core.instrument.Timer$Sample@742f52d4'], parentObservation=org.springframework.security.web.server.ObservationWebFilterChainDecorator$PhasedObservation@7ae8a221} created for the request. New headers are [host:"localhost:8082", user-agent:"curl/7.81.0", accept:"*/*", X-Forwarded-Host:"localhost:8080,localhost:8082", Forwarded:"proto=http;host="localhost:8082";for="127.0.0.1:54358"", X-Forwarded-For:"127.0.0.1", X-Forwarded-Proto:"http", X-Forwarded-Prefix:"/api/users", X-Forwarded-Port:"8082"]
2025-10-18T05:11:12.913Z DEBUG 119791 --- [gateway-service] [or-http-epoll-2] r.n.resources.PooledConnectionProvider   : [c3cc2276, L:/127.0.0.1:49096 - R:localhost/127.0.0.1:8081] Channel acquired, now: 1 active connections, 0 inactive connections 0 pending acquire requests.
2025-10-18T05:11:12.913Z DEBUG 119791 --- [gateway-service] [or-http-epoll-2] r.netty.http.client.HttpClientConnect    : [c3cc2276-5, L:/127.0.0.1:49096 - R:localhost/127.0.0.1:8081] Handler is being applied: {uri=http://localhost:8081/user/public, method=GET}
2025-10-18T05:11:12.913Z DEBUG 119791 --- [gateway-service] [or-http-epoll-2] r.n.r.DefaultPooledConnectionProvider    : [c3cc2276-5, L:/127.0.0.1:49096 - R:localhost/127.0.0.1:8081] onStateChange(GET{uri=/user/public, connection=PooledConnection{channel=[id: 0xc3cc2276, L:/127.0.0.1:49096 - R:localhost/127.0.0.1:8081]}}, [request_prepared])
2025-10-18T05:11:12.914Z DEBUG 119791 --- [gateway-service] [or-http-epoll-2] r.n.r.DefaultPooledConnectionProvider    : [c3cc2276-5, L:/127.0.0.1:49096 - R:localhost/127.0.0.1:8081] onStateChange(GET{uri=/user/public, connection=PooledConnection{channel=[id: 0xc3cc2276, L:/127.0.0.1:49096 - R:localhost/127.0.0.1:8081]}}, [request_sent])
2025-10-18T05:11:12.916Z DEBUG 119791 --- [gateway-service] [or-http-epoll-2] r.n.http.client.HttpClientOperations     : [c3cc2276-5, L:/127.0.0.1:49096 - R:localhost/127.0.0.1:8081] Received response (auto-read:false) : RESPONSE(decodeResult: success, version: HTTP/1.1)
HTTP/1.1 200 
X-Content-Type-Options: <filtered>
X-XSS-Protection: <filtered>
Cache-Control: <filtered>
Pragma: <filtered>
Expires: <filtered>
X-Frame-Options: <filtered>
Content-Type: <filtered>
Transfer-Encoding: <filtered>
Date: <filtered>
2025-10-18T05:11:12.916Z DEBUG 119791 --- [gateway-service] [or-http-epoll-2] r.n.r.DefaultPooledConnectionProvider    : [c3cc2276-5, L:/127.0.0.1:49096 - R:localhost/127.0.0.1:8081] onStateChange(GET{uri=/user/public, connection=PooledConnection{channel=[id: 0xc3cc2276, L:/127.0.0.1:49096 - R:localhost/127.0.0.1:8081]}}, [response_received])
2025-10-18T05:11:12.916Z DEBUG 119791 --- [gateway-service] [or-http-epoll-2] .f.h.o.ObservedResponseHttpHeadersFilter : Will instrument the response
2025-10-18T05:11:12.916Z DEBUG 119791 --- [gateway-service] [or-http-epoll-2] .f.h.o.ObservedResponseHttpHeadersFilter : The response was handled for observation {name=http.client.requests(null), error=null, context=name='http.client.requests', contextualName='null', error='null', lowCardinalityKeyValues=[http.method='GET', http.status_code='UNKNOWN', spring.cloud.gateway.route.id='user-service-public', spring.cloud.gateway.route.uri='http://localhost:8081'], highCardinalityKeyValues=[http.uri='http://localhost:8082/user/public'], map=[class io.micrometer.core.instrument.LongTaskTimer$Sample='SampleImpl{duration(seconds)=0.003716784, duration(nanos)=3716784.0, startTimeNanos=7571332811508}', class io.micrometer.core.instrument.Timer$Sample='io.micrometer.core.instrument.Timer$Sample@742f52d4'], parentObservation=org.springframework.security.web.server.ObservationWebFilterChainDecorator$PhasedObservation@7ae8a221}
2025-10-18T05:11:12.916Z DEBUG 119791 --- [gateway-service] [or-http-epoll-2] reactor.netty.channel.FluxReceive        : [c3cc2276-5, L:/127.0.0.1:49096 - R:localhost/127.0.0.1:8081] [terminated=false, cancelled=false, pending=0, error=null]: subscribing inbound receiver
2025-10-18T05:11:12.917Z DEBUG 119791 --- [gateway-service] [or-http-epoll-2] r.n.http.client.HttpClientOperations     : [c3cc2276-5, L:/127.0.0.1:49096 - R:localhost/127.0.0.1:8081] Received last HTTP packet
2025-10-18T05:11:12.917Z DEBUG 119791 --- [gateway-service] [or-http-epoll-2] r.n.r.DefaultPooledConnectionProvider    : [c3cc2276, L:/127.0.0.1:49096 - R:localhost/127.0.0.1:8081] onStateChange(GET{uri=/user/public, connection=PooledConnection{channel=[id: 0xc3cc2276, L:/127.0.0.1:49096 - R:localhost/127.0.0.1:8081]}}, [response_completed])
2025-10-18T05:11:12.918Z DEBUG 119791 --- [gateway-service] [or-http-epoll-2] r.n.r.DefaultPooledConnectionProvider    : [c3cc2276, L:/127.0.0.1:49096 - R:localhost/127.0.0.1:8081] onStateChange(GET{uri=/user/public, connection=PooledConnection{channel=[id: 0xc3cc2276, L:/127.0.0.1:49096 - R:localhost/127.0.0.1:8081]}}, [disconnecting])
2025-10-18T05:11:12.918Z DEBUG 119791 --- [gateway-service] [or-http-epoll-2] r.n.r.DefaultPooledConnectionProvider    : [c3cc2276, L:/127.0.0.1:49096 - R:localhost/127.0.0.1:8081] Releasing channel
2025-10-18T05:11:12.918Z DEBUG 119791 --- [gateway-service] [or-http-epoll-2] r.n.resources.PooledConnectionProvider   : [c3cc2276, L:/127.0.0.1:49096 - R:localhost/127.0.0.1:8081] Channel cleaned, now: 0 active connections, 1 inactive connections 0 pending acquire requests.
2025-10-18T05:11:12.926Z DEBUG 119791 --- [gateway-service] [     parallel-6] o.s.c.g.h.RoutePredicateHandlerMapping   : Route matched: user-service-public
2025-10-18T05:11:12.926Z DEBUG 119791 --- [gateway-service] [     parallel-6] o.s.c.g.h.RoutePredicateHandlerMapping   : Mapping [Exchange: GET http://localhost:8082/api/users/user/public] to Route{id='user-service-public', uri=http://localhost:8081, order=0, predicate=Paths: [/api/users/user/public], match trailing slash: true, gatewayFilters=[[[AddRequestHeader X-Forwarded-Host = 'localhost:8080'], order = 1], [[StripPrefix parts = 2], order = 1], [[DedupeResponseHeader Access-Control-Allow-Origin Access-Control-Allow-Credentials = RETAIN_UNIQUE], order = 2], [[AddResponseHeader X-Gateway-Routed = 'true'], order = 2]], metadata={}}
2025-10-18T05:11:12.926Z DEBUG 119791 --- [gateway-service] [     parallel-6] o.s.c.g.h.RoutePredicateHandlerMapping   : [626f0dab] Mapped to org.springframework.cloud.gateway.handler.FilteringWebHandler@685e6a68
2025-10-18T05:11:12.926Z DEBUG 119791 --- [gateway-service] [     parallel-6] o.s.c.g.handler.FilteringWebHandler      : Sorted gatewayFilterFactories: [[GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.RemoveCachedBodyFilter@c6a692e}, order = -2147483648], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.AdaptCachedBodyGlobalFilter@350d26f3}, order = -2147482648], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.NettyWriteResponseFilter@33215ffb}, order = -1], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ForwardPathFilter@17d2b646}, order = 0], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.GatewayMetricsFilter@7b3a6e95}, order = 0], [[AddRequestHeader X-Forwarded-Host = 'localhost:8080'], order = 1], [[StripPrefix parts = 2], order = 1], [[DedupeResponseHeader Access-Control-Allow-Origin Access-Control-Allow-Credentials = RETAIN_UNIQUE], order = 2], [[AddResponseHeader X-Gateway-Routed = 'true'], order = 2], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.RouteToRequestUrlFilter@27502e5c}, order = 10000], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.config.GatewayNoLoadBalancerClientAutoConfiguration$NoLoadBalancerClientFilter@8ac512e}, order = 10150], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.WebsocketRoutingFilter@323e026d}, order = 2147483646], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.NettyRoutingFilter@2bf3ec4}, order = 2147483647], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ForwardRoutingFilter@4b343b6d}, order = 2147483647]]
2025-10-18T05:11:12.927Z DEBUG 119791 --- [gateway-service] [     parallel-6] g.f.h.o.ObservedRequestHttpHeadersFilter : Will instrument the HTTP request headers [host:"localhost:8082", user-agent:"curl/7.81.0", accept:"*/*", X-Forwarded-Host:"localhost:8080,localhost:8082", Forwarded:"proto=http;host="localhost:8082";for="127.0.0.1:54362"", X-Forwarded-For:"127.0.0.1", X-Forwarded-Proto:"http", X-Forwarded-Prefix:"/api/users", X-Forwarded-Port:"8082"]
2025-10-18T05:11:12.927Z DEBUG 119791 --- [gateway-service] [     parallel-6] g.f.h.o.ObservedRequestHttpHeadersFilter : Client observation  {name=http.client.requests(null), error=null, context=name='http.client.requests', contextualName='null', error='null', lowCardinalityKeyValues=[http.method='GET', http.status_code='UNKNOWN', spring.cloud.gateway.route.id='user-service-public', spring.cloud.gateway.route.uri='http://localhost:8081'], highCardinalityKeyValues=[http.uri='http://localhost:8082/user/public'], map=[class io.micrometer.core.instrument.LongTaskTimer$Sample='SampleImpl{duration(seconds)=4.5217E-5, duration(nanos)=45217.0, startTimeNanos=7571347443660}', class io.micrometer.core.instrument.Timer$Sample='io.micrometer.core.instrument.Timer$Sample@ab9ef44'], parentObservation=org.springframework.security.web.server.ObservationWebFilterChainDecorator$PhasedObservation@47e1063} created for the request. New headers are [host:"localhost:8082", user-agent:"curl/7.81.0", accept:"*/*", X-Forwarded-Host:"localhost:8080,localhost:8082", Forwarded:"proto=http;host="localhost:8082";for="127.0.0.1:54362"", X-Forwarded-For:"127.0.0.1", X-Forwarded-Proto:"http", X-Forwarded-Prefix:"/api/users", X-Forwarded-Port:"8082"]
2025-10-18T05:11:12.927Z DEBUG 119791 --- [gateway-service] [or-http-epoll-2] r.n.resources.PooledConnectionProvider   : [c3cc2276, L:/127.0.0.1:49096 - R:localhost/127.0.0.1:8081] Channel acquired, now: 1 active connections, 0 inactive connections 0 pending acquire requests.
2025-10-18T05:11:12.928Z DEBUG 119791 --- [gateway-service] [or-http-epoll-2] r.netty.http.client.HttpClientConnect    : [c3cc2276-6, L:/127.0.0.1:49096 - R:localhost/127.0.0.1:8081] Handler is being applied: {uri=http://localhost:8081/user/public, method=GET}
2025-10-18T05:11:12.928Z DEBUG 119791 --- [gateway-service] [or-http-epoll-2] r.n.r.DefaultPooledConnectionProvider    : [c3cc2276-6, L:/127.0.0.1:49096 - R:localhost/127.0.0.1:8081] onStateChange(GET{uri=/user/public, connection=PooledConnection{channel=[id: 0xc3cc2276, L:/127.0.0.1:49096 - R:localhost/127.0.0.1:8081]}}, [request_prepared])
2025-10-18T05:11:12.928Z DEBUG 119791 --- [gateway-service] [or-http-epoll-2] r.n.r.DefaultPooledConnectionProvider    : [c3cc2276-6, L:/127.0.0.1:49096 - R:localhost/127.0.0.1:8081] onStateChange(GET{uri=/user/public, connection=PooledConnection{channel=[id: 0xc3cc2276, L:/127.0.0.1:49096 - R:localhost/127.0.0.1:8081]}}, [request_sent])
2025-10-18T05:11:12.930Z DEBUG 119791 --- [gateway-service] [or-http-epoll-2] r.n.http.client.HttpClientOperations     : [c3cc2276-6, L:/127.0.0.1:49096 - R:localhost/127.0.0.1:8081] Received response (auto-read:false) : RESPONSE(decodeResult: success, version: HTTP/1.1)
HTTP/1.1 200 
X-Content-Type-Options: <filtered>
X-XSS-Protection: <filtered>
Cache-Control: <filtered>
Pragma: <filtered>
Expires: <filtered>
X-Frame-Options: <filtered>
Content-Type: <filtered>
Transfer-Encoding: <filtered>
Date: <filtered>
2025-10-18T05:11:12.930Z DEBUG 119791 --- [gateway-service] [or-http-epoll-2] r.n.r.DefaultPooledConnectionProvider    : [c3cc2276-6, L:/127.0.0.1:49096 - R:localhost/127.0.0.1:8081] onStateChange(GET{uri=/user/public, connection=PooledConnection{channel=[id: 0xc3cc2276, L:/127.0.0.1:49096 - R:localhost/127.0.0.1:8081]}}, [response_received])
2025-10-18T05:11:12.930Z DEBUG 119791 --- [gateway-service] [or-http-epoll-2] .f.h.o.ObservedResponseHttpHeadersFilter : Will instrument the response
2025-10-18T05:11:12.931Z DEBUG 119791 --- [gateway-service] [or-http-epoll-2] .f.h.o.ObservedResponseHttpHeadersFilter : The response was handled for observation {name=http.client.requests(null), error=null, context=name='http.client.requests', contextualName='null', error='null', lowCardinalityKeyValues=[http.method='GET', http.status_code='UNKNOWN', spring.cloud.gateway.route.id='user-service-public', spring.cloud.gateway.route.uri='http://localhost:8081'], highCardinalityKeyValues=[http.uri='http://localhost:8082/user/public'], map=[class io.micrometer.core.instrument.LongTaskTimer$Sample='SampleImpl{duration(seconds)=0.003596356, duration(nanos)=3596356.0, startTimeNanos=7571347443660}', class io.micrometer.core.instrument.Timer$Sample='io.micrometer.core.instrument.Timer$Sample@ab9ef44'], parentObservation=org.springframework.security.web.server.ObservationWebFilterChainDecorator$PhasedObservation@47e1063}
2025-10-18T05:11:12.931Z DEBUG 119791 --- [gateway-service] [or-http-epoll-2] reactor.netty.channel.FluxReceive        : [c3cc2276-6, L:/127.0.0.1:49096 - R:localhost/127.0.0.1:8081] [terminated=false, cancelled=false, pending=0, error=null]: subscribing inbound receiver
2025-10-18T05:11:12.932Z DEBUG 119791 --- [gateway-service] [or-http-epoll-2] r.n.http.client.HttpClientOperations     : [c3cc2276-6, L:/127.0.0.1:49096 - R:localhost/127.0.0.1:8081] Received last HTTP packet
2025-10-18T05:11:12.932Z DEBUG 119791 --- [gateway-service] [or-http-epoll-2] r.n.r.DefaultPooledConnectionProvider    : [c3cc2276, L:/127.0.0.1:49096 - R:localhost/127.0.0.1:8081] onStateChange(GET{uri=/user/public, connection=PooledConnection{channel=[id: 0xc3cc2276, L:/127.0.0.1:49096 - R:localhost/127.0.0.1:8081]}}, [response_completed])
2025-10-18T05:11:12.932Z DEBUG 119791 --- [gateway-service] [or-http-epoll-2] r.n.r.DefaultPooledConnectionProvider    : [c3cc2276, L:/127.0.0.1:49096 - R:localhost/127.0.0.1:8081] onStateChange(GET{uri=/user/public, connection=PooledConnection{channel=[id: 0xc3cc2276, L:/127.0.0.1:49096 - R:localhost/127.0.0.1:8081]}}, [disconnecting])
2025-10-18T05:11:12.932Z DEBUG 119791 --- [gateway-service] [or-http-epoll-2] r.n.r.DefaultPooledConnectionProvider    : [c3cc2276, L:/127.0.0.1:49096 - R:localhost/127.0.0.1:8081] Releasing channel
2025-10-18T05:11:12.933Z DEBUG 119791 --- [gateway-service] [or-http-epoll-2] r.n.resources.PooledConnectionProvider   : [c3cc2276, L:/127.0.0.1:49096 - R:localhost/127.0.0.1:8081] Channel cleaned, now: 0 active connections, 1 inactive connections 0 pending acquire requests.
2025-10-18T05:12:12.995Z DEBUG 119791 --- [gateway-service] [or-http-epoll-2] r.n.r.DefaultPooledConnectionProvider    : [c3cc2276, L:/127.0.0.1:49096 ! R:localhost/127.0.0.1:8081] onStateChange(PooledConnection{channel=[id: 0xc3cc2276, L:/127.0.0.1:49096 ! R:localhost/127.0.0.1:8081]}, [disconnecting])
2025-10-18T05:16:57.567Z DEBUG 119791 --- [gateway-service] [     parallel-7] o.s.c.g.h.RoutePredicateHandlerMapping   : Route matched: user-service-public
2025-10-18T05:16:57.567Z DEBUG 119791 --- [gateway-service] [     parallel-7] o.s.c.g.h.RoutePredicateHandlerMapping   : Mapping [Exchange: GET http://localhost:8082/api/users/user/public] to Route{id='user-service-public', uri=http://localhost:8081, order=0, predicate=Paths: [/api/users/user/public], match trailing slash: true, gatewayFilters=[[[AddRequestHeader X-Forwarded-Host = 'localhost:8080'], order = 1], [[StripPrefix parts = 2], order = 1], [[DedupeResponseHeader Access-Control-Allow-Origin Access-Control-Allow-Credentials = RETAIN_UNIQUE], order = 2], [[AddResponseHeader X-Gateway-Routed = 'true'], order = 2]], metadata={}}
2025-10-18T05:16:57.567Z DEBUG 119791 --- [gateway-service] [     parallel-7] o.s.c.g.h.RoutePredicateHandlerMapping   : [78de620] Mapped to org.springframework.cloud.gateway.handler.FilteringWebHandler@685e6a68
2025-10-18T05:16:57.567Z DEBUG 119791 --- [gateway-service] [     parallel-7] o.s.c.g.handler.FilteringWebHandler      : Sorted gatewayFilterFactories: [[GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.RemoveCachedBodyFilter@c6a692e}, order = -2147483648], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.AdaptCachedBodyGlobalFilter@350d26f3}, order = -2147482648], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.NettyWriteResponseFilter@33215ffb}, order = -1], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ForwardPathFilter@17d2b646}, order = 0], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.GatewayMetricsFilter@7b3a6e95}, order = 0], [[AddRequestHeader X-Forwarded-Host = 'localhost:8080'], order = 1], [[StripPrefix parts = 2], order = 1], [[DedupeResponseHeader Access-Control-Allow-Origin Access-Control-Allow-Credentials = RETAIN_UNIQUE], order = 2], [[AddResponseHeader X-Gateway-Routed = 'true'], order = 2], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.RouteToRequestUrlFilter@27502e5c}, order = 10000], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.config.GatewayNoLoadBalancerClientAutoConfiguration$NoLoadBalancerClientFilter@8ac512e}, order = 10150], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.WebsocketRoutingFilter@323e026d}, order = 2147483646], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.NettyRoutingFilter@2bf3ec4}, order = 2147483647], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ForwardRoutingFilter@4b343b6d}, order = 2147483647]]
2025-10-18T05:16:57.568Z DEBUG 119791 --- [gateway-service] [     parallel-7] g.f.h.o.ObservedRequestHttpHeadersFilter : Will instrument the HTTP request headers [host:"localhost:8082", user-agent:"curl/7.81.0", accept:"*/*", X-Forwarded-Host:"localhost:8080,localhost:8082", Forwarded:"proto=http;host="localhost:8082";for="127.0.0.1:53146"", X-Forwarded-For:"127.0.0.1", X-Forwarded-Proto:"http", X-Forwarded-Prefix:"/api/users", X-Forwarded-Port:"8082"]
2025-10-18T05:16:57.568Z DEBUG 119791 --- [gateway-service] [     parallel-7] g.f.h.o.ObservedRequestHttpHeadersFilter : Client observation  {name=http.client.requests(null), error=null, context=name='http.client.requests', contextualName='null', error='null', lowCardinalityKeyValues=[http.method='GET', http.status_code='UNKNOWN', spring.cloud.gateway.route.id='user-service-public', spring.cloud.gateway.route.uri='http://localhost:8081'], highCardinalityKeyValues=[http.uri='http://localhost:8082/user/public'], map=[class io.micrometer.core.instrument.LongTaskTimer$Sample='SampleImpl{duration(seconds)=6.3913E-5, duration(nanos)=63913.0, startTimeNanos=7915988481084}', class io.micrometer.core.instrument.Timer$Sample='io.micrometer.core.instrument.Timer$Sample@15e9a353'], parentObservation=org.springframework.security.web.server.ObservationWebFilterChainDecorator$PhasedObservation@1b2e4f9e} created for the request. New headers are [host:"localhost:8082", user-agent:"curl/7.81.0", accept:"*/*", X-Forwarded-Host:"localhost:8080,localhost:8082", Forwarded:"proto=http;host="localhost:8082";for="127.0.0.1:53146"", X-Forwarded-For:"127.0.0.1", X-Forwarded-Proto:"http", X-Forwarded-Prefix:"/api/users", X-Forwarded-Port:"8082"]
2025-10-18T05:16:57.570Z DEBUG 119791 --- [gateway-service] [or-http-epoll-3] r.n.resources.PooledConnectionProvider   : [21530c26] Created a new pooled channel, now: 0 active connections, 0 inactive connections 0 pending acquire requests.
2025-10-18T05:16:57.570Z DEBUG 119791 --- [gateway-service] [or-http-epoll-3] r.netty.transport.TransportConfig        : [21530c26] Initialized pipeline DefaultChannelPipeline{(reactor.left.httpCodec = io.netty.handler.codec.http.HttpClientCodec), (reactor.right.reactiveBridge = reactor.netty.channel.ChannelOperationsHandler)}
2025-10-18T05:16:57.570Z DEBUG 119791 --- [gateway-service] [or-http-epoll-3] r.netty.transport.TransportConnector     : [21530c26] Connecting to [localhost/127.0.0.1:8081].
2025-10-18T05:16:57.570Z DEBUG 119791 --- [gateway-service] [or-http-epoll-3] r.n.r.DefaultPooledConnectionProvider    : [21530c26, L:/127.0.0.1:46154 - R:localhost/127.0.0.1:8081] Registering pool release on close event for channel
2025-10-18T05:16:57.570Z DEBUG 119791 --- [gateway-service] [or-http-epoll-3] r.n.resources.PooledConnectionProvider   : [21530c26, L:/127.0.0.1:46154 - R:localhost/127.0.0.1:8081] Channel connected, now: 1 active connections, 0 inactive connections 0 pending acquire requests.
2025-10-18T05:16:57.570Z DEBUG 119791 --- [gateway-service] [or-http-epoll-3] r.n.r.DefaultPooledConnectionProvider    : [21530c26, L:/127.0.0.1:46154 - R:localhost/127.0.0.1:8081] onStateChange(PooledConnection{channel=[id: 0x21530c26, L:/127.0.0.1:46154 - R:localhost/127.0.0.1:8081]}, [connected])
2025-10-18T05:16:57.571Z DEBUG 119791 --- [gateway-service] [or-http-epoll-3] r.n.r.DefaultPooledConnectionProvider    : [21530c26-1, L:/127.0.0.1:46154 - R:localhost/127.0.0.1:8081] onStateChange(GET{uri=/, connection=PooledConnection{channel=[id: 0x21530c26, L:/127.0.0.1:46154 - R:localhost/127.0.0.1:8081]}}, [configured])
2025-10-18T05:16:57.571Z DEBUG 119791 --- [gateway-service] [or-http-epoll-3] r.netty.http.client.HttpClientConnect    : [21530c26-1, L:/127.0.0.1:46154 - R:localhost/127.0.0.1:8081] Handler is being applied: {uri=http://localhost:8081/user/public, method=GET}
2025-10-18T05:16:57.571Z DEBUG 119791 --- [gateway-service] [or-http-epoll-3] r.n.r.DefaultPooledConnectionProvider    : [21530c26-1, L:/127.0.0.1:46154 - R:localhost/127.0.0.1:8081] onStateChange(GET{uri=/user/public, connection=PooledConnection{channel=[id: 0x21530c26, L:/127.0.0.1:46154 - R:localhost/127.0.0.1:8081]}}, [request_prepared])
2025-10-18T05:16:57.573Z DEBUG 119791 --- [gateway-service] [or-http-epoll-3] r.n.r.DefaultPooledConnectionProvider    : [21530c26-1, L:/127.0.0.1:46154 - R:localhost/127.0.0.1:8081] onStateChange(GET{uri=/user/public, connection=PooledConnection{channel=[id: 0x21530c26, L:/127.0.0.1:46154 - R:localhost/127.0.0.1:8081]}}, [request_sent])
2025-10-18T05:16:57.575Z DEBUG 119791 --- [gateway-service] [or-http-epoll-3] r.n.http.client.HttpClientOperations     : [21530c26-1, L:/127.0.0.1:46154 - R:localhost/127.0.0.1:8081] Received response (auto-read:false) : RESPONSE(decodeResult: success, version: HTTP/1.1)
HTTP/1.1 200 
X-Content-Type-Options: <filtered>
X-XSS-Protection: <filtered>
Cache-Control: <filtered>
Pragma: <filtered>
Expires: <filtered>
X-Frame-Options: <filtered>
Content-Type: <filtered>
Transfer-Encoding: <filtered>
Date: <filtered>
2025-10-18T05:16:57.575Z DEBUG 119791 --- [gateway-service] [or-http-epoll-3] r.n.r.DefaultPooledConnectionProvider    : [21530c26-1, L:/127.0.0.1:46154 - R:localhost/127.0.0.1:8081] onStateChange(GET{uri=/user/public, connection=PooledConnection{channel=[id: 0x21530c26, L:/127.0.0.1:46154 - R:localhost/127.0.0.1:8081]}}, [response_received])
2025-10-18T05:16:57.575Z DEBUG 119791 --- [gateway-service] [or-http-epoll-3] .f.h.o.ObservedResponseHttpHeadersFilter : Will instrument the response
2025-10-18T05:16:57.575Z DEBUG 119791 --- [gateway-service] [or-http-epoll-3] .f.h.o.ObservedResponseHttpHeadersFilter : The response was handled for observation {name=http.client.requests(null), error=null, context=name='http.client.requests', contextualName='null', error='null', lowCardinalityKeyValues=[http.method='GET', http.status_code='UNKNOWN', spring.cloud.gateway.route.id='user-service-public', spring.cloud.gateway.route.uri='http://localhost:8081'], highCardinalityKeyValues=[http.uri='http://localhost:8082/user/public'], map=[class io.micrometer.core.instrument.LongTaskTimer$Sample='SampleImpl{duration(seconds)=0.007251202, duration(nanos)=7251202.0, startTimeNanos=7915988481084}', class io.micrometer.core.instrument.Timer$Sample='io.micrometer.core.instrument.Timer$Sample@15e9a353'], parentObservation=org.springframework.security.web.server.ObservationWebFilterChainDecorator$PhasedObservation@1b2e4f9e}
2025-10-18T05:16:57.576Z DEBUG 119791 --- [gateway-service] [or-http-epoll-3] reactor.netty.channel.FluxReceive        : [21530c26-1, L:/127.0.0.1:46154 - R:localhost/127.0.0.1:8081] [terminated=false, cancelled=false, pending=0, error=null]: subscribing inbound receiver
2025-10-18T05:16:57.576Z DEBUG 119791 --- [gateway-service] [or-http-epoll-3] r.n.http.client.HttpClientOperations     : [21530c26-1, L:/127.0.0.1:46154 - R:localhost/127.0.0.1:8081] Received last HTTP packet
2025-10-18T05:16:57.577Z DEBUG 119791 --- [gateway-service] [or-http-epoll-3] r.n.r.DefaultPooledConnectionProvider    : [21530c26, L:/127.0.0.1:46154 - R:localhost/127.0.0.1:8081] onStateChange(GET{uri=/user/public, connection=PooledConnection{channel=[id: 0x21530c26, L:/127.0.0.1:46154 - R:localhost/127.0.0.1:8081]}}, [response_completed])
2025-10-18T05:16:57.577Z DEBUG 119791 --- [gateway-service] [or-http-epoll-3] r.n.r.DefaultPooledConnectionProvider    : [21530c26, L:/127.0.0.1:46154 - R:localhost/127.0.0.1:8081] onStateChange(GET{uri=/user/public, connection=PooledConnection{channel=[id: 0x21530c26, L:/127.0.0.1:46154 - R:localhost/127.0.0.1:8081]}}, [disconnecting])
2025-10-18T05:16:57.577Z DEBUG 119791 --- [gateway-service] [or-http-epoll-3] r.n.r.DefaultPooledConnectionProvider    : [21530c26, L:/127.0.0.1:46154 - R:localhost/127.0.0.1:8081] Releasing channel
2025-10-18T05:16:57.577Z DEBUG 119791 --- [gateway-service] [or-http-epoll-3] r.n.resources.PooledConnectionProvider   : [21530c26, L:/127.0.0.1:46154 - R:localhost/127.0.0.1:8081] Channel cleaned, now: 0 active connections, 1 inactive connections 0 pending acquire requests.
2025-10-18T05:16:58.870Z DEBUG 119791 --- [gateway-service] [     parallel-8] o.s.c.g.h.RoutePredicateHandlerMapping   : Route matched: user-service-public
2025-10-18T05:16:58.871Z DEBUG 119791 --- [gateway-service] [     parallel-8] o.s.c.g.h.RoutePredicateHandlerMapping   : Mapping [Exchange: GET http://localhost:8082/api/users/user/public] to Route{id='user-service-public', uri=http://localhost:8081, order=0, predicate=Paths: [/api/users/user/public], match trailing slash: true, gatewayFilters=[[[AddRequestHeader X-Forwarded-Host = 'localhost:8080'], order = 1], [[StripPrefix parts = 2], order = 1], [[DedupeResponseHeader Access-Control-Allow-Origin Access-Control-Allow-Credentials = RETAIN_UNIQUE], order = 2], [[AddResponseHeader X-Gateway-Routed = 'true'], order = 2]], metadata={}}
2025-10-18T05:16:58.871Z DEBUG 119791 --- [gateway-service] [     parallel-8] o.s.c.g.h.RoutePredicateHandlerMapping   : [7c86645b] Mapped to org.springframework.cloud.gateway.handler.FilteringWebHandler@685e6a68
2025-10-18T05:16:58.871Z DEBUG 119791 --- [gateway-service] [     parallel-8] o.s.c.g.handler.FilteringWebHandler      : Sorted gatewayFilterFactories: [[GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.RemoveCachedBodyFilter@c6a692e}, order = -2147483648], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.AdaptCachedBodyGlobalFilter@350d26f3}, order = -2147482648], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.NettyWriteResponseFilter@33215ffb}, order = -1], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ForwardPathFilter@17d2b646}, order = 0], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.GatewayMetricsFilter@7b3a6e95}, order = 0], [[AddRequestHeader X-Forwarded-Host = 'localhost:8080'], order = 1], [[StripPrefix parts = 2], order = 1], [[DedupeResponseHeader Access-Control-Allow-Origin Access-Control-Allow-Credentials = RETAIN_UNIQUE], order = 2], [[AddResponseHeader X-Gateway-Routed = 'true'], order = 2], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.RouteToRequestUrlFilter@27502e5c}, order = 10000], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.config.GatewayNoLoadBalancerClientAutoConfiguration$NoLoadBalancerClientFilter@8ac512e}, order = 10150], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.WebsocketRoutingFilter@323e026d}, order = 2147483646], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.NettyRoutingFilter@2bf3ec4}, order = 2147483647], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ForwardRoutingFilter@4b343b6d}, order = 2147483647]]
2025-10-18T05:16:58.872Z DEBUG 119791 --- [gateway-service] [     parallel-8] g.f.h.o.ObservedRequestHttpHeadersFilter : Will instrument the HTTP request headers [host:"localhost:8082", user-agent:"curl/7.81.0", accept:"*/*", X-Forwarded-Host:"localhost:8080,localhost:8082", Forwarded:"proto=http;host="localhost:8082";for="127.0.0.1:53162"", X-Forwarded-For:"127.0.0.1", X-Forwarded-Proto:"http", X-Forwarded-Prefix:"/api/users", X-Forwarded-Port:"8082"]
2025-10-18T05:16:58.872Z DEBUG 119791 --- [gateway-service] [     parallel-8] g.f.h.o.ObservedRequestHttpHeadersFilter : Client observation  {name=http.client.requests(null), error=null, context=name='http.client.requests', contextualName='null', error='null', lowCardinalityKeyValues=[http.method='GET', http.status_code='UNKNOWN', spring.cloud.gateway.route.id='user-service-public', spring.cloud.gateway.route.uri='http://localhost:8081'], highCardinalityKeyValues=[http.uri='http://localhost:8082/user/public'], map=[class io.micrometer.core.instrument.LongTaskTimer$Sample='SampleImpl{duration(seconds)=3.6788E-5, duration(nanos)=36788.0, startTimeNanos=7917292215392}', class io.micrometer.core.instrument.Timer$Sample='io.micrometer.core.instrument.Timer$Sample@4448da53'], parentObservation=org.springframework.security.web.server.ObservationWebFilterChainDecorator$PhasedObservation@4a8f2caa} created for the request. New headers are [host:"localhost:8082", user-agent:"curl/7.81.0", accept:"*/*", X-Forwarded-Host:"localhost:8080,localhost:8082", Forwarded:"proto=http;host="localhost:8082";for="127.0.0.1:53162"", X-Forwarded-For:"127.0.0.1", X-Forwarded-Proto:"http", X-Forwarded-Prefix:"/api/users", X-Forwarded-Port:"8082"]
2025-10-18T05:16:58.872Z DEBUG 119791 --- [gateway-service] [or-http-epoll-3] r.n.resources.PooledConnectionProvider   : [21530c26, L:/127.0.0.1:46154 - R:localhost/127.0.0.1:8081] Channel acquired, now: 1 active connections, 0 inactive connections 0 pending acquire requests.
2025-10-18T05:16:58.872Z DEBUG 119791 --- [gateway-service] [or-http-epoll-3] r.netty.http.client.HttpClientConnect    : [21530c26-2, L:/127.0.0.1:46154 - R:localhost/127.0.0.1:8081] Handler is being applied: {uri=http://localhost:8081/user/public, method=GET}
2025-10-18T05:16:58.872Z DEBUG 119791 --- [gateway-service] [or-http-epoll-3] r.n.r.DefaultPooledConnectionProvider    : [21530c26-2, L:/127.0.0.1:46154 - R:localhost/127.0.0.1:8081] onStateChange(GET{uri=/user/public, connection=PooledConnection{channel=[id: 0x21530c26, L:/127.0.0.1:46154 - R:localhost/127.0.0.1:8081]}}, [request_prepared])
2025-10-18T05:16:58.873Z DEBUG 119791 --- [gateway-service] [or-http-epoll-3] r.n.r.DefaultPooledConnectionProvider    : [21530c26-2, L:/127.0.0.1:46154 - R:localhost/127.0.0.1:8081] onStateChange(GET{uri=/user/public, connection=PooledConnection{channel=[id: 0x21530c26, L:/127.0.0.1:46154 - R:localhost/127.0.0.1:8081]}}, [request_sent])
2025-10-18T05:16:58.876Z DEBUG 119791 --- [gateway-service] [or-http-epoll-3] r.n.http.client.HttpClientOperations     : [21530c26-2, L:/127.0.0.1:46154 - R:localhost/127.0.0.1:8081] Received response (auto-read:false) : RESPONSE(decodeResult: success, version: HTTP/1.1)
HTTP/1.1 200 
X-Content-Type-Options: <filtered>
X-XSS-Protection: <filtered>
Cache-Control: <filtered>
Pragma: <filtered>
Expires: <filtered>
X-Frame-Options: <filtered>
Content-Type: <filtered>
Transfer-Encoding: <filtered>
Date: <filtered>
2025-10-18T05:16:58.876Z DEBUG 119791 --- [gateway-service] [or-http-epoll-3] r.n.r.DefaultPooledConnectionProvider    : [21530c26-2, L:/127.0.0.1:46154 - R:localhost/127.0.0.1:8081] onStateChange(GET{uri=/user/public, connection=PooledConnection{channel=[id: 0x21530c26, L:/127.0.0.1:46154 - R:localhost/127.0.0.1:8081]}}, [response_received])
2025-10-18T05:16:58.876Z DEBUG 119791 --- [gateway-service] [or-http-epoll-3] .f.h.o.ObservedResponseHttpHeadersFilter : Will instrument the response
2025-10-18T05:16:58.876Z DEBUG 119791 --- [gateway-service] [or-http-epoll-3] .f.h.o.ObservedResponseHttpHeadersFilter : The response was handled for observation {name=http.client.requests(null), error=null, context=name='http.client.requests', contextualName='null', error='null', lowCardinalityKeyValues=[http.method='GET', http.status_code='UNKNOWN', spring.cloud.gateway.route.id='user-service-public', spring.cloud.gateway.route.uri='http://localhost:8081'], highCardinalityKeyValues=[http.uri='http://localhost:8082/user/public'], map=[class io.micrometer.core.instrument.LongTaskTimer$Sample='SampleImpl{duration(seconds)=0.004468087, duration(nanos)=4468087.0, startTimeNanos=7917292215392}', class io.micrometer.core.instrument.Timer$Sample='io.micrometer.core.instrument.Timer$Sample@4448da53'], parentObservation=org.springframework.security.web.server.ObservationWebFilterChainDecorator$PhasedObservation@4a8f2caa}
2025-10-18T05:16:58.877Z DEBUG 119791 --- [gateway-service] [or-http-epoll-3] reactor.netty.channel.FluxReceive        : [21530c26-2, L:/127.0.0.1:46154 - R:localhost/127.0.0.1:8081] [terminated=false, cancelled=false, pending=0, error=null]: subscribing inbound receiver
2025-10-18T05:16:58.878Z DEBUG 119791 --- [gateway-service] [or-http-epoll-3] r.n.http.client.HttpClientOperations     : [21530c26-2, L:/127.0.0.1:46154 - R:localhost/127.0.0.1:8081] Received last HTTP packet
2025-10-18T05:16:58.878Z DEBUG 119791 --- [gateway-service] [or-http-epoll-3] r.n.r.DefaultPooledConnectionProvider    : [21530c26, L:/127.0.0.1:46154 - R:localhost/127.0.0.1:8081] onStateChange(GET{uri=/user/public, connection=PooledConnection{channel=[id: 0x21530c26, L:/127.0.0.1:46154 - R:localhost/127.0.0.1:8081]}}, [response_completed])
2025-10-18T05:16:58.879Z DEBUG 119791 --- [gateway-service] [or-http-epoll-3] r.n.r.DefaultPooledConnectionProvider    : [21530c26, L:/127.0.0.1:46154 - R:localhost/127.0.0.1:8081] onStateChange(GET{uri=/user/public, connection=PooledConnection{channel=[id: 0x21530c26, L:/127.0.0.1:46154 - R:localhost/127.0.0.1:8081]}}, [disconnecting])
2025-10-18T05:16:58.879Z DEBUG 119791 --- [gateway-service] [or-http-epoll-3] r.n.r.DefaultPooledConnectionProvider    : [21530c26, L:/127.0.0.1:46154 - R:localhost/127.0.0.1:8081] Releasing channel
2025-10-18T05:16:58.879Z DEBUG 119791 --- [gateway-service] [or-http-epoll-3] r.n.resources.PooledConnectionProvider   : [21530c26, L:/127.0.0.1:46154 - R:localhost/127.0.0.1:8081] Channel cleaned, now: 0 active connections, 1 inactive connections 0 pending acquire requests.
2025-10-18T05:16:58.888Z DEBUG 119791 --- [gateway-service] [     parallel-1] o.s.c.g.h.RoutePredicateHandlerMapping   : Route matched: user-service-protected
2025-10-18T05:16:58.889Z DEBUG 119791 --- [gateway-service] [     parallel-1] o.s.c.g.h.RoutePredicateHandlerMapping   : Mapping [Exchange: POST http://localhost:8082/api/users/user/register] to Route{id='user-service-protected', uri=http://localhost:8081, order=0, predicate=Paths: [/api/users/user/**], match trailing slash: true, gatewayFilters=[[[AddRequestHeader X-Forwarded-Host = 'localhost:8080'], order = 1], [[StripPrefix parts = 2], order = 1], [[DedupeResponseHeader Access-Control-Allow-Origin Access-Control-Allow-Credentials = RETAIN_UNIQUE], order = 2], [[AddResponseHeader X-Gateway-Routed = 'true'], order = 2]], metadata={}}
2025-10-18T05:16:58.889Z DEBUG 119791 --- [gateway-service] [     parallel-1] o.s.c.g.h.RoutePredicateHandlerMapping   : [4690e955] Mapped to org.springframework.cloud.gateway.handler.FilteringWebHandler@685e6a68
2025-10-18T05:16:58.889Z DEBUG 119791 --- [gateway-service] [     parallel-1] o.s.c.g.handler.FilteringWebHandler      : Sorted gatewayFilterFactories: [[GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.RemoveCachedBodyFilter@c6a692e}, order = -2147483648], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.AdaptCachedBodyGlobalFilter@350d26f3}, order = -2147482648], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.NettyWriteResponseFilter@33215ffb}, order = -1], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ForwardPathFilter@17d2b646}, order = 0], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.GatewayMetricsFilter@7b3a6e95}, order = 0], [[AddRequestHeader X-Forwarded-Host = 'localhost:8080'], order = 1], [[StripPrefix parts = 2], order = 1], [[DedupeResponseHeader Access-Control-Allow-Origin Access-Control-Allow-Credentials = RETAIN_UNIQUE], order = 2], [[AddResponseHeader X-Gateway-Routed = 'true'], order = 2], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.RouteToRequestUrlFilter@27502e5c}, order = 10000], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.config.GatewayNoLoadBalancerClientAutoConfiguration$NoLoadBalancerClientFilter@8ac512e}, order = 10150], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.WebsocketRoutingFilter@323e026d}, order = 2147483646], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.NettyRoutingFilter@2bf3ec4}, order = 2147483647], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ForwardRoutingFilter@4b343b6d}, order = 2147483647]]
2025-10-18T05:16:58.889Z DEBUG 119791 --- [gateway-service] [     parallel-1] g.f.h.o.ObservedRequestHttpHeadersFilter : Will instrument the HTTP request headers [host:"localhost:8082", user-agent:"curl/7.81.0", accept:"*/*", content-type:"application/json", content-length:"97", X-Forwarded-Host:"localhost:8080,localhost:8082", Forwarded:"proto=http;host="localhost:8082";for="127.0.0.1:53174"", X-Forwarded-For:"127.0.0.1", X-Forwarded-Proto:"http", X-Forwarded-Prefix:"/api/users", X-Forwarded-Port:"8082"]
2025-10-18T05:16:58.890Z DEBUG 119791 --- [gateway-service] [     parallel-1] g.f.h.o.ObservedRequestHttpHeadersFilter : Client observation  {name=http.client.requests(null), error=null, context=name='http.client.requests', contextualName='null', error='null', lowCardinalityKeyValues=[http.method='POST', http.status_code='UNKNOWN', spring.cloud.gateway.route.id='user-service-protected', spring.cloud.gateway.route.uri='http://localhost:8081'], highCardinalityKeyValues=[http.uri='http://localhost:8082/user/register'], map=[class io.micrometer.core.instrument.LongTaskTimer$Sample='SampleImpl{duration(seconds)=4.9172E-5, duration(nanos)=49172.0, startTimeNanos=7917310181445}', class io.micrometer.core.instrument.Timer$Sample='io.micrometer.core.instrument.Timer$Sample@5bcbfb0e'], parentObservation=org.springframework.security.web.server.ObservationWebFilterChainDecorator$PhasedObservation@2a83b272} created for the request. New headers are [host:"localhost:8082", user-agent:"curl/7.81.0", accept:"*/*", content-type:"application/json", content-length:"97", X-Forwarded-Host:"localhost:8080,localhost:8082", Forwarded:"proto=http;host="localhost:8082";for="127.0.0.1:53174"", X-Forwarded-For:"127.0.0.1", X-Forwarded-Proto:"http", X-Forwarded-Prefix:"/api/users", X-Forwarded-Port:"8082"]
2025-10-18T05:16:58.890Z DEBUG 119791 --- [gateway-service] [or-http-epoll-3] r.n.resources.PooledConnectionProvider   : [21530c26, L:/127.0.0.1:46154 - R:localhost/127.0.0.1:8081] Channel acquired, now: 1 active connections, 0 inactive connections 0 pending acquire requests.
2025-10-18T05:16:58.891Z DEBUG 119791 --- [gateway-service] [or-http-epoll-3] r.netty.http.client.HttpClientConnect    : [21530c26-3, L:/127.0.0.1:46154 - R:localhost/127.0.0.1:8081] Handler is being applied: {uri=http://localhost:8081/user/register, method=POST}
2025-10-18T05:16:58.891Z DEBUG 119791 --- [gateway-service] [or-http-epoll-3] r.n.r.DefaultPooledConnectionProvider    : [21530c26-3, L:/127.0.0.1:46154 - R:localhost/127.0.0.1:8081] onStateChange(POST{uri=/user/register, connection=PooledConnection{channel=[id: 0x21530c26, L:/127.0.0.1:46154 - R:localhost/127.0.0.1:8081]}}, [request_prepared])
2025-10-18T05:16:58.896Z DEBUG 119791 --- [gateway-service] [or-http-epoll-3] r.n.r.DefaultPooledConnectionProvider    : [21530c26-3, L:/127.0.0.1:46154 - R:localhost/127.0.0.1:8081] onStateChange(POST{uri=/user/register, connection=PooledConnection{channel=[id: 0x21530c26, L:/127.0.0.1:46154 - R:localhost/127.0.0.1:8081]}}, [request_sent])
2025-10-18T05:16:59.135Z DEBUG 119791 --- [gateway-service] [or-http-epoll-3] r.n.http.client.HttpClientOperations     : [21530c26-3, L:/127.0.0.1:46154 - R:localhost/127.0.0.1:8081] Received response (auto-read:false) : RESPONSE(decodeResult: success, version: HTTP/1.1)
HTTP/1.1 201 
X-Content-Type-Options: <filtered>
X-XSS-Protection: <filtered>
Cache-Control: <filtered>
Pragma: <filtered>
Expires: <filtered>
X-Frame-Options: <filtered>
Content-Type: <filtered>
Transfer-Encoding: <filtered>
Date: <filtered>
2025-10-18T05:16:59.135Z DEBUG 119791 --- [gateway-service] [or-http-epoll-3] r.n.r.DefaultPooledConnectionProvider    : [21530c26-3, L:/127.0.0.1:46154 - R:localhost/127.0.0.1:8081] onStateChange(POST{uri=/user/register, connection=PooledConnection{channel=[id: 0x21530c26, L:/127.0.0.1:46154 - R:localhost/127.0.0.1:8081]}}, [response_received])
2025-10-18T05:16:59.135Z DEBUG 119791 --- [gateway-service] [or-http-epoll-3] .f.h.o.ObservedResponseHttpHeadersFilter : Will instrument the response
2025-10-18T05:16:59.135Z DEBUG 119791 --- [gateway-service] [or-http-epoll-3] .f.h.o.ObservedResponseHttpHeadersFilter : The response was handled for observation {name=http.client.requests(null), error=null, context=name='http.client.requests', contextualName='null', error='null', lowCardinalityKeyValues=[http.method='POST', http.status_code='UNKNOWN', spring.cloud.gateway.route.id='user-service-protected', spring.cloud.gateway.route.uri='http://localhost:8081'], highCardinalityKeyValues=[http.uri='http://localhost:8082/user/register'], map=[class io.micrometer.core.instrument.LongTaskTimer$Sample='SampleImpl{duration(seconds)=0.245410103, duration(nanos)=2.45410103E8, startTimeNanos=7917310181445}', class io.micrometer.core.instrument.Timer$Sample='io.micrometer.core.instrument.Timer$Sample@5bcbfb0e'], parentObservation=org.springframework.security.web.server.ObservationWebFilterChainDecorator$PhasedObservation@2a83b272}
2025-10-18T05:16:59.135Z DEBUG 119791 --- [gateway-service] [or-http-epoll-3] reactor.netty.channel.FluxReceive        : [21530c26-3, L:/127.0.0.1:46154 - R:localhost/127.0.0.1:8081] [terminated=false, cancelled=false, pending=0, error=null]: subscribing inbound receiver
2025-10-18T05:16:59.136Z DEBUG 119791 --- [gateway-service] [or-http-epoll-3] r.n.http.client.HttpClientOperations     : [21530c26-3, L:/127.0.0.1:46154 - R:localhost/127.0.0.1:8081] Received last HTTP packet
2025-10-18T05:16:59.137Z DEBUG 119791 --- [gateway-service] [or-http-epoll-3] r.n.r.DefaultPooledConnectionProvider    : [21530c26, L:/127.0.0.1:46154 - R:localhost/127.0.0.1:8081] onStateChange(POST{uri=/user/register, connection=PooledConnection{channel=[id: 0x21530c26, L:/127.0.0.1:46154 - R:localhost/127.0.0.1:8081]}}, [response_completed])
2025-10-18T05:16:59.137Z DEBUG 119791 --- [gateway-service] [or-http-epoll-3] r.n.r.DefaultPooledConnectionProvider    : [21530c26, L:/127.0.0.1:46154 - R:localhost/127.0.0.1:8081] onStateChange(POST{uri=/user/register, connection=PooledConnection{channel=[id: 0x21530c26, L:/127.0.0.1:46154 - R:localhost/127.0.0.1:8081]}}, [disconnecting])
2025-10-18T05:16:59.137Z DEBUG 119791 --- [gateway-service] [or-http-epoll-3] r.n.r.DefaultPooledConnectionProvider    : [21530c26, L:/127.0.0.1:46154 - R:localhost/127.0.0.1:8081] Releasing channel
2025-10-18T05:16:59.137Z DEBUG 119791 --- [gateway-service] [or-http-epoll-3] r.n.resources.PooledConnectionProvider   : [21530c26, L:/127.0.0.1:46154 - R:localhost/127.0.0.1:8081] Channel cleaned, now: 0 active connections, 1 inactive connections 0 pending acquire requests.
2025-10-18T05:16:59.160Z DEBUG 119791 --- [gateway-service] [     parallel-2] o.s.c.g.h.RoutePredicateHandlerMapping   : Route matched: user-service-protected
2025-10-18T05:16:59.160Z DEBUG 119791 --- [gateway-service] [     parallel-2] o.s.c.g.h.RoutePredicateHandlerMapping   : Mapping [Exchange: POST http://localhost:8082/api/users/user/login] to Route{id='user-service-protected', uri=http://localhost:8081, order=0, predicate=Paths: [/api/users/user/**], match trailing slash: true, gatewayFilters=[[[AddRequestHeader X-Forwarded-Host = 'localhost:8080'], order = 1], [[StripPrefix parts = 2], order = 1], [[DedupeResponseHeader Access-Control-Allow-Origin Access-Control-Allow-Credentials = RETAIN_UNIQUE], order = 2], [[AddResponseHeader X-Gateway-Routed = 'true'], order = 2]], metadata={}}
2025-10-18T05:16:59.160Z DEBUG 119791 --- [gateway-service] [     parallel-2] o.s.c.g.h.RoutePredicateHandlerMapping   : [4c48fb0c] Mapped to org.springframework.cloud.gateway.handler.FilteringWebHandler@685e6a68
2025-10-18T05:16:59.160Z DEBUG 119791 --- [gateway-service] [     parallel-2] o.s.c.g.handler.FilteringWebHandler      : Sorted gatewayFilterFactories: [[GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.RemoveCachedBodyFilter@c6a692e}, order = -2147483648], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.AdaptCachedBodyGlobalFilter@350d26f3}, order = -2147482648], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.NettyWriteResponseFilter@33215ffb}, order = -1], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ForwardPathFilter@17d2b646}, order = 0], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.GatewayMetricsFilter@7b3a6e95}, order = 0], [[AddRequestHeader X-Forwarded-Host = 'localhost:8080'], order = 1], [[StripPrefix parts = 2], order = 1], [[DedupeResponseHeader Access-Control-Allow-Origin Access-Control-Allow-Credentials = RETAIN_UNIQUE], order = 2], [[AddResponseHeader X-Gateway-Routed = 'true'], order = 2], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.RouteToRequestUrlFilter@27502e5c}, order = 10000], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.config.GatewayNoLoadBalancerClientAutoConfiguration$NoLoadBalancerClientFilter@8ac512e}, order = 10150], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.WebsocketRoutingFilter@323e026d}, order = 2147483646], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.NettyRoutingFilter@2bf3ec4}, order = 2147483647], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ForwardRoutingFilter@4b343b6d}, order = 2147483647]]
2025-10-18T05:16:59.161Z DEBUG 119791 --- [gateway-service] [     parallel-2] g.f.h.o.ObservedRequestHttpHeadersFilter : Will instrument the HTTP request headers [host:"localhost:8082", user-agent:"curl/7.81.0", accept:"*/*", content-type:"application/json", content-length:"60", X-Forwarded-Host:"localhost:8080,localhost:8082", Forwarded:"proto=http;host="localhost:8082";for="127.0.0.1:53180"", X-Forwarded-For:"127.0.0.1", X-Forwarded-Proto:"http", X-Forwarded-Prefix:"/api/users", X-Forwarded-Port:"8082"]
2025-10-18T05:16:59.161Z DEBUG 119791 --- [gateway-service] [     parallel-2] g.f.h.o.ObservedRequestHttpHeadersFilter : Client observation  {name=http.client.requests(null), error=null, context=name='http.client.requests', contextualName='null', error='null', lowCardinalityKeyValues=[http.method='POST', http.status_code='UNKNOWN', spring.cloud.gateway.route.id='user-service-protected', spring.cloud.gateway.route.uri='http://localhost:8081'], highCardinalityKeyValues=[http.uri='http://localhost:8082/user/login'], map=[class io.micrometer.core.instrument.LongTaskTimer$Sample='SampleImpl{duration(seconds)=5.9268E-5, duration(nanos)=59268.0, startTimeNanos=7917581631840}', class io.micrometer.core.instrument.Timer$Sample='io.micrometer.core.instrument.Timer$Sample@2dd2f893'], parentObservation=org.springframework.security.web.server.ObservationWebFilterChainDecorator$PhasedObservation@fdc295c} created for the request. New headers are [host:"localhost:8082", user-agent:"curl/7.81.0", accept:"*/*", content-type:"application/json", content-length:"60", X-Forwarded-Host:"localhost:8080,localhost:8082", Forwarded:"proto=http;host="localhost:8082";for="127.0.0.1:53180"", X-Forwarded-For:"127.0.0.1", X-Forwarded-Proto:"http", X-Forwarded-Prefix:"/api/users", X-Forwarded-Port:"8082"]
2025-10-18T05:16:59.162Z DEBUG 119791 --- [gateway-service] [or-http-epoll-3] r.n.resources.PooledConnectionProvider   : [21530c26, L:/127.0.0.1:46154 - R:localhost/127.0.0.1:8081] Channel acquired, now: 1 active connections, 0 inactive connections 0 pending acquire requests.
2025-10-18T05:16:59.162Z DEBUG 119791 --- [gateway-service] [or-http-epoll-3] r.netty.http.client.HttpClientConnect    : [21530c26-4, L:/127.0.0.1:46154 - R:localhost/127.0.0.1:8081] Handler is being applied: {uri=http://localhost:8081/user/login, method=POST}
2025-10-18T05:16:59.162Z DEBUG 119791 --- [gateway-service] [or-http-epoll-3] r.n.r.DefaultPooledConnectionProvider    : [21530c26-4, L:/127.0.0.1:46154 - R:localhost/127.0.0.1:8081] onStateChange(POST{uri=/user/login, connection=PooledConnection{channel=[id: 0x21530c26, L:/127.0.0.1:46154 - R:localhost/127.0.0.1:8081]}}, [request_prepared])
2025-10-18T05:16:59.163Z DEBUG 119791 --- [gateway-service] [or-http-epoll-3] r.n.r.DefaultPooledConnectionProvider    : [21530c26-4, L:/127.0.0.1:46154 - R:localhost/127.0.0.1:8081] onStateChange(POST{uri=/user/login, connection=PooledConnection{channel=[id: 0x21530c26, L:/127.0.0.1:46154 - R:localhost/127.0.0.1:8081]}}, [request_sent])
2025-10-18T05:16:59.269Z DEBUG 119791 --- [gateway-service] [or-http-epoll-3] r.n.http.client.HttpClientOperations     : [21530c26-4, L:/127.0.0.1:46154 - R:localhost/127.0.0.1:8081] Received response (auto-read:false) : RESPONSE(decodeResult: success, version: HTTP/1.1)
HTTP/1.1 200 
X-Content-Type-Options: <filtered>
X-XSS-Protection: <filtered>
Cache-Control: <filtered>
Pragma: <filtered>
Expires: <filtered>
X-Frame-Options: <filtered>
Content-Type: <filtered>
Transfer-Encoding: <filtered>
Date: <filtered>
2025-10-18T05:16:59.269Z DEBUG 119791 --- [gateway-service] [or-http-epoll-3] r.n.r.DefaultPooledConnectionProvider    : [21530c26-4, L:/127.0.0.1:46154 - R:localhost/127.0.0.1:8081] onStateChange(POST{uri=/user/login, connection=PooledConnection{channel=[id: 0x21530c26, L:/127.0.0.1:46154 - R:localhost/127.0.0.1:8081]}}, [response_received])
2025-10-18T05:16:59.269Z DEBUG 119791 --- [gateway-service] [or-http-epoll-3] .f.h.o.ObservedResponseHttpHeadersFilter : Will instrument the response
2025-10-18T05:16:59.270Z DEBUG 119791 --- [gateway-service] [or-http-epoll-3] .f.h.o.ObservedResponseHttpHeadersFilter : The response was handled for observation {name=http.client.requests(null), error=null, context=name='http.client.requests', contextualName='null', error='null', lowCardinalityKeyValues=[http.method='POST', http.status_code='UNKNOWN', spring.cloud.gateway.route.id='user-service-protected', spring.cloud.gateway.route.uri='http://localhost:8081'], highCardinalityKeyValues=[http.uri='http://localhost:8082/user/login'], map=[class io.micrometer.core.instrument.LongTaskTimer$Sample='SampleImpl{duration(seconds)=0.108394692, duration(nanos)=1.08394692E8, startTimeNanos=7917581631840}', class io.micrometer.core.instrument.Timer$Sample='io.micrometer.core.instrument.Timer$Sample@2dd2f893'], parentObservation=org.springframework.security.web.server.ObservationWebFilterChainDecorator$PhasedObservation@fdc295c}
2025-10-18T05:16:59.270Z DEBUG 119791 --- [gateway-service] [or-http-epoll-3] reactor.netty.channel.FluxReceive        : [21530c26-4, L:/127.0.0.1:46154 - R:localhost/127.0.0.1:8081] [terminated=false, cancelled=false, pending=0, error=null]: subscribing inbound receiver
2025-10-18T05:16:59.271Z DEBUG 119791 --- [gateway-service] [or-http-epoll-3] r.n.http.client.HttpClientOperations     : [21530c26-4, L:/127.0.0.1:46154 - R:localhost/127.0.0.1:8081] Received last HTTP packet
2025-10-18T05:16:59.271Z DEBUG 119791 --- [gateway-service] [or-http-epoll-3] r.n.r.DefaultPooledConnectionProvider    : [21530c26, L:/127.0.0.1:46154 - R:localhost/127.0.0.1:8081] onStateChange(POST{uri=/user/login, connection=PooledConnection{channel=[id: 0x21530c26, L:/127.0.0.1:46154 - R:localhost/127.0.0.1:8081]}}, [response_completed])
2025-10-18T05:16:59.271Z DEBUG 119791 --- [gateway-service] [or-http-epoll-3] r.n.r.DefaultPooledConnectionProvider    : [21530c26, L:/127.0.0.1:46154 - R:localhost/127.0.0.1:8081] onStateChange(POST{uri=/user/login, connection=PooledConnection{channel=[id: 0x21530c26, L:/127.0.0.1:46154 - R:localhost/127.0.0.1:8081]}}, [disconnecting])
2025-10-18T05:16:59.271Z DEBUG 119791 --- [gateway-service] [or-http-epoll-3] r.n.r.DefaultPooledConnectionProvider    : [21530c26, L:/127.0.0.1:46154 - R:localhost/127.0.0.1:8081] Releasing channel
2025-10-18T05:16:59.271Z DEBUG 119791 --- [gateway-service] [or-http-epoll-3] r.n.resources.PooledConnectionProvider   : [21530c26, L:/127.0.0.1:46154 - R:localhost/127.0.0.1:8081] Channel cleaned, now: 0 active connections, 1 inactive connections 0 pending acquire requests.
2025-10-18T05:16:59.310Z DEBUG 119791 --- [gateway-service] [     parallel-3] o.s.c.g.h.RoutePredicateHandlerMapping   : Route matched: user-service-protected
2025-10-18T05:16:59.310Z DEBUG 119791 --- [gateway-service] [     parallel-3] o.s.c.g.h.RoutePredicateHandlerMapping   : Mapping [Exchange: POST http://localhost:8082/api/users/user/profile] to Route{id='user-service-protected', uri=http://localhost:8081, order=0, predicate=Paths: [/api/users/user/**], match trailing slash: true, gatewayFilters=[[[AddRequestHeader X-Forwarded-Host = 'localhost:8080'], order = 1], [[StripPrefix parts = 2], order = 1], [[DedupeResponseHeader Access-Control-Allow-Origin Access-Control-Allow-Credentials = RETAIN_UNIQUE], order = 2], [[AddResponseHeader X-Gateway-Routed = 'true'], order = 2]], metadata={}}
2025-10-18T05:16:59.310Z DEBUG 119791 --- [gateway-service] [     parallel-3] o.s.c.g.h.RoutePredicateHandlerMapping   : [1c2cb137] Mapped to org.springframework.cloud.gateway.handler.FilteringWebHandler@685e6a68
2025-10-18T05:16:59.310Z DEBUG 119791 --- [gateway-service] [     parallel-3] o.s.c.g.handler.FilteringWebHandler      : Sorted gatewayFilterFactories: [[GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.RemoveCachedBodyFilter@c6a692e}, order = -2147483648], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.AdaptCachedBodyGlobalFilter@350d26f3}, order = -2147482648], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.NettyWriteResponseFilter@33215ffb}, order = -1], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ForwardPathFilter@17d2b646}, order = 0], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.GatewayMetricsFilter@7b3a6e95}, order = 0], [[AddRequestHeader X-Forwarded-Host = 'localhost:8080'], order = 1], [[StripPrefix parts = 2], order = 1], [[DedupeResponseHeader Access-Control-Allow-Origin Access-Control-Allow-Credentials = RETAIN_UNIQUE], order = 2], [[AddResponseHeader X-Gateway-Routed = 'true'], order = 2], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.RouteToRequestUrlFilter@27502e5c}, order = 10000], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.config.GatewayNoLoadBalancerClientAutoConfiguration$NoLoadBalancerClientFilter@8ac512e}, order = 10150], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.WebsocketRoutingFilter@323e026d}, order = 2147483646], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.NettyRoutingFilter@2bf3ec4}, order = 2147483647], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ForwardRoutingFilter@4b343b6d}, order = 2147483647]]
2025-10-18T05:16:59.311Z DEBUG 119791 --- [gateway-service] [     parallel-3] g.f.h.o.ObservedRequestHttpHeadersFilter : Will instrument the HTTP request headers [host:"localhost:8082", user-agent:"curl/7.81.0", accept:"*/*", content-type:"application/json", authorization:"Bearer eyJhbGciOiJIUzI1NiJ9.eyJzdWIiOiJ0ZXN0dXNlcl8xNzYwNzY0NjE4IiwiaWF0IjoxNzYwNzY0NjE5LCJleHAiOjE3NjA4NTEwMTl9.XrIRSHyLPnLfYkf6y7YdgdWdh-hXELEDRTpKt03vBZg", content-length:"107", X-Forwarded-Host:"localhost:8080,localhost:8082", Forwarded:"proto=http;host="localhost:8082";for="127.0.0.1:53196"", X-Forwarded-For:"127.0.0.1", X-Forwarded-Proto:"http", X-Forwarded-Prefix:"/api/users", X-Forwarded-Port:"8082"]
2025-10-18T05:16:59.311Z DEBUG 119791 --- [gateway-service] [     parallel-3] g.f.h.o.ObservedRequestHttpHeadersFilter : Client observation  {name=http.client.requests(null), error=null, context=name='http.client.requests', contextualName='null', error='null', lowCardinalityKeyValues=[http.method='POST', http.status_code='UNKNOWN', spring.cloud.gateway.route.id='user-service-protected', spring.cloud.gateway.route.uri='http://localhost:8081'], highCardinalityKeyValues=[http.uri='http://localhost:8082/user/profile'], map=[class io.micrometer.core.instrument.LongTaskTimer$Sample='SampleImpl{duration(seconds)=5.6107E-5, duration(nanos)=56107.0, startTimeNanos=7917731705512}', class io.micrometer.core.instrument.Timer$Sample='io.micrometer.core.instrument.Timer$Sample@1c20746e'], parentObservation=org.springframework.security.web.server.ObservationWebFilterChainDecorator$PhasedObservation@5922f98e} created for the request. New headers are [host:"localhost:8082", user-agent:"curl/7.81.0", accept:"*/*", content-type:"application/json", authorization:"Bearer eyJhbGciOiJIUzI1NiJ9.eyJzdWIiOiJ0ZXN0dXNlcl8xNzYwNzY0NjE4IiwiaWF0IjoxNzYwNzY0NjE5LCJleHAiOjE3NjA4NTEwMTl9.XrIRSHyLPnLfYkf6y7YdgdWdh-hXELEDRTpKt03vBZg", content-length:"107", X-Forwarded-Host:"localhost:8080,localhost:8082", Forwarded:"proto=http;host="localhost:8082";for="127.0.0.1:53196"", X-Forwarded-For:"127.0.0.1", X-Forwarded-Proto:"http", X-Forwarded-Prefix:"/api/users", X-Forwarded-Port:"8082"]
2025-10-18T05:16:59.312Z DEBUG 119791 --- [gateway-service] [or-http-epoll-3] r.n.resources.PooledConnectionProvider   : [21530c26, L:/127.0.0.1:46154 - R:localhost/127.0.0.1:8081] Channel acquired, now: 1 active connections, 0 inactive connections 0 pending acquire requests.
2025-10-18T05:16:59.312Z DEBUG 119791 --- [gateway-service] [or-http-epoll-3] r.netty.http.client.HttpClientConnect    : [21530c26-5, L:/127.0.0.1:46154 - R:localhost/127.0.0.1:8081] Handler is being applied: {uri=http://localhost:8081/user/profile, method=POST}
2025-10-18T05:16:59.312Z DEBUG 119791 --- [gateway-service] [or-http-epoll-3] r.n.r.DefaultPooledConnectionProvider    : [21530c26-5, L:/127.0.0.1:46154 - R:localhost/127.0.0.1:8081] onStateChange(POST{uri=/user/profile, connection=PooledConnection{channel=[id: 0x21530c26, L:/127.0.0.1:46154 - R:localhost/127.0.0.1:8081]}}, [request_prepared])
2025-10-18T05:16:59.313Z DEBUG 119791 --- [gateway-service] [or-http-epoll-3] r.n.r.DefaultPooledConnectionProvider    : [21530c26-5, L:/127.0.0.1:46154 - R:localhost/127.0.0.1:8081] onStateChange(POST{uri=/user/profile, connection=PooledConnection{channel=[id: 0x21530c26, L:/127.0.0.1:46154 - R:localhost/127.0.0.1:8081]}}, [request_sent])
2025-10-18T05:16:59.351Z DEBUG 119791 --- [gateway-service] [or-http-epoll-3] r.n.http.client.HttpClientOperations     : [21530c26-5, L:/127.0.0.1:46154 - R:localhost/127.0.0.1:8081] Received response (auto-read:false) : RESPONSE(decodeResult: success, version: HTTP/1.1)
HTTP/1.1 201 
X-Content-Type-Options: <filtered>
X-XSS-Protection: <filtered>
Cache-Control: <filtered>
Pragma: <filtered>
Expires: <filtered>
X-Frame-Options: <filtered>
Content-Type: <filtered>
Transfer-Encoding: <filtered>
Date: <filtered>
2025-10-18T05:16:59.351Z DEBUG 119791 --- [gateway-service] [or-http-epoll-3] r.n.r.DefaultPooledConnectionProvider    : [21530c26-5, L:/127.0.0.1:46154 - R:localhost/127.0.0.1:8081] onStateChange(POST{uri=/user/profile, connection=PooledConnection{channel=[id: 0x21530c26, L:/127.0.0.1:46154 - R:localhost/127.0.0.1:8081]}}, [response_received])
2025-10-18T05:16:59.351Z DEBUG 119791 --- [gateway-service] [or-http-epoll-3] .f.h.o.ObservedResponseHttpHeadersFilter : Will instrument the response
2025-10-18T05:16:59.351Z DEBUG 119791 --- [gateway-service] [or-http-epoll-3] .f.h.o.ObservedResponseHttpHeadersFilter : The response was handled for observation {name=http.client.requests(null), error=null, context=name='http.client.requests', contextualName='null', error='null', lowCardinalityKeyValues=[http.method='POST', http.status_code='UNKNOWN', spring.cloud.gateway.route.id='user-service-protected', spring.cloud.gateway.route.uri='http://localhost:8081'], highCardinalityKeyValues=[http.uri='http://localhost:8082/user/profile'], map=[class io.micrometer.core.instrument.LongTaskTimer$Sample='SampleImpl{duration(seconds)=0.039842954, duration(nanos)=3.9842954E7, startTimeNanos=7917731705512}', class io.micrometer.core.instrument.Timer$Sample='io.micrometer.core.instrument.Timer$Sample@1c20746e'], parentObservation=org.springframework.security.web.server.ObservationWebFilterChainDecorator$PhasedObservation@5922f98e}
2025-10-18T05:16:59.351Z DEBUG 119791 --- [gateway-service] [or-http-epoll-3] reactor.netty.channel.FluxReceive        : [21530c26-5, L:/127.0.0.1:46154 - R:localhost/127.0.0.1:8081] [terminated=false, cancelled=false, pending=0, error=null]: subscribing inbound receiver
2025-10-18T05:16:59.352Z DEBUG 119791 --- [gateway-service] [or-http-epoll-3] r.n.http.client.HttpClientOperations     : [21530c26-5, L:/127.0.0.1:46154 - R:localhost/127.0.0.1:8081] Received last HTTP packet
2025-10-18T05:16:59.352Z DEBUG 119791 --- [gateway-service] [or-http-epoll-3] r.n.r.DefaultPooledConnectionProvider    : [21530c26, L:/127.0.0.1:46154 - R:localhost/127.0.0.1:8081] onStateChange(POST{uri=/user/profile, connection=PooledConnection{channel=[id: 0x21530c26, L:/127.0.0.1:46154 - R:localhost/127.0.0.1:8081]}}, [response_completed])
2025-10-18T05:16:59.352Z DEBUG 119791 --- [gateway-service] [or-http-epoll-3] r.n.r.DefaultPooledConnectionProvider    : [21530c26, L:/127.0.0.1:46154 - R:localhost/127.0.0.1:8081] onStateChange(POST{uri=/user/profile, connection=PooledConnection{channel=[id: 0x21530c26, L:/127.0.0.1:46154 - R:localhost/127.0.0.1:8081]}}, [disconnecting])
2025-10-18T05:16:59.352Z DEBUG 119791 --- [gateway-service] [or-http-epoll-3] r.n.r.DefaultPooledConnectionProvider    : [21530c26, L:/127.0.0.1:46154 - R:localhost/127.0.0.1:8081] Releasing channel
2025-10-18T05:16:59.353Z DEBUG 119791 --- [gateway-service] [or-http-epoll-3] r.n.resources.PooledConnectionProvider   : [21530c26, L:/127.0.0.1:46154 - R:localhost/127.0.0.1:8081] Channel cleaned, now: 0 active connections, 1 inactive connections 0 pending acquire requests.
2025-10-18T05:16:59.376Z DEBUG 119791 --- [gateway-service] [     parallel-4] o.s.c.g.h.RoutePredicateHandlerMapping   : Route matched: user-service-protected
2025-10-18T05:16:59.376Z DEBUG 119791 --- [gateway-service] [     parallel-4] o.s.c.g.h.RoutePredicateHandlerMapping   : Mapping [Exchange: GET http://localhost:8082/api/users/user/profile] to Route{id='user-service-protected', uri=http://localhost:8081, order=0, predicate=Paths: [/api/users/user/**], match trailing slash: true, gatewayFilters=[[[AddRequestHeader X-Forwarded-Host = 'localhost:8080'], order = 1], [[StripPrefix parts = 2], order = 1], [[DedupeResponseHeader Access-Control-Allow-Origin Access-Control-Allow-Credentials = RETAIN_UNIQUE], order = 2], [[AddResponseHeader X-Gateway-Routed = 'true'], order = 2]], metadata={}}
2025-10-18T05:16:59.376Z DEBUG 119791 --- [gateway-service] [     parallel-4] o.s.c.g.h.RoutePredicateHandlerMapping   : [2c1f2aa2] Mapped to org.springframework.cloud.gateway.handler.FilteringWebHandler@685e6a68
2025-10-18T05:16:59.376Z DEBUG 119791 --- [gateway-service] [     parallel-4] o.s.c.g.handler.FilteringWebHandler      : Sorted gatewayFilterFactories: [[GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.RemoveCachedBodyFilter@c6a692e}, order = -2147483648], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.AdaptCachedBodyGlobalFilter@350d26f3}, order = -2147482648], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.NettyWriteResponseFilter@33215ffb}, order = -1], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ForwardPathFilter@17d2b646}, order = 0], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.GatewayMetricsFilter@7b3a6e95}, order = 0], [[AddRequestHeader X-Forwarded-Host = 'localhost:8080'], order = 1], [[StripPrefix parts = 2], order = 1], [[DedupeResponseHeader Access-Control-Allow-Origin Access-Control-Allow-Credentials = RETAIN_UNIQUE], order = 2], [[AddResponseHeader X-Gateway-Routed = 'true'], order = 2], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.RouteToRequestUrlFilter@27502e5c}, order = 10000], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.config.GatewayNoLoadBalancerClientAutoConfiguration$NoLoadBalancerClientFilter@8ac512e}, order = 10150], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.WebsocketRoutingFilter@323e026d}, order = 2147483646], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.NettyRoutingFilter@2bf3ec4}, order = 2147483647], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ForwardRoutingFilter@4b343b6d}, order = 2147483647]]
2025-10-18T05:16:59.376Z DEBUG 119791 --- [gateway-service] [     parallel-4] g.f.h.o.ObservedRequestHttpHeadersFilter : Will instrument the HTTP request headers [host:"localhost:8082", user-agent:"curl/7.81.0", accept:"*/*", authorization:"Bearer eyJhbGciOiJIUzI1NiJ9.eyJzdWIiOiJ0ZXN0dXNlcl8xNzYwNzY0NjE4IiwiaWF0IjoxNzYwNzY0NjE5LCJleHAiOjE3NjA4NTEwMTl9.XrIRSHyLPnLfYkf6y7YdgdWdh-hXELEDRTpKt03vBZg", X-Forwarded-Host:"localhost:8080,localhost:8082", Forwarded:"proto=http;host="localhost:8082";for="127.0.0.1:53206"", X-Forwarded-For:"127.0.0.1", X-Forwarded-Proto:"http", X-Forwarded-Prefix:"/api/users", X-Forwarded-Port:"8082"]
2025-10-18T05:16:59.377Z DEBUG 119791 --- [gateway-service] [     parallel-4] g.f.h.o.ObservedRequestHttpHeadersFilter : Client observation  {name=http.client.requests(null), error=null, context=name='http.client.requests', contextualName='null', error='null', lowCardinalityKeyValues=[http.method='GET', http.status_code='UNKNOWN', spring.cloud.gateway.route.id='user-service-protected', spring.cloud.gateway.route.uri='http://localhost:8081'], highCardinalityKeyValues=[http.uri='http://localhost:8082/user/profile'], map=[class io.micrometer.core.instrument.LongTaskTimer$Sample='SampleImpl{duration(seconds)=3.9822E-5, duration(nanos)=39822.0, startTimeNanos=7917797094087}', class io.micrometer.core.instrument.Timer$Sample='io.micrometer.core.instrument.Timer$Sample@3d3ba308'], parentObservation=org.springframework.security.web.server.ObservationWebFilterChainDecorator$PhasedObservation@78393acb} created for the request. New headers are [host:"localhost:8082", user-agent:"curl/7.81.0", accept:"*/*", authorization:"Bearer eyJhbGciOiJIUzI1NiJ9.eyJzdWIiOiJ0ZXN0dXNlcl8xNzYwNzY0NjE4IiwiaWF0IjoxNzYwNzY0NjE5LCJleHAiOjE3NjA4NTEwMTl9.XrIRSHyLPnLfYkf6y7YdgdWdh-hXELEDRTpKt03vBZg", X-Forwarded-Host:"localhost:8080,localhost:8082", Forwarded:"proto=http;host="localhost:8082";for="127.0.0.1:53206"", X-Forwarded-For:"127.0.0.1", X-Forwarded-Proto:"http", X-Forwarded-Prefix:"/api/users", X-Forwarded-Port:"8082"]
2025-10-18T05:16:59.377Z DEBUG 119791 --- [gateway-service] [or-http-epoll-3] r.n.resources.PooledConnectionProvider   : [21530c26, L:/127.0.0.1:46154 - R:localhost/127.0.0.1:8081] Channel acquired, now: 1 active connections, 0 inactive connections 0 pending acquire requests.
2025-10-18T05:16:59.377Z DEBUG 119791 --- [gateway-service] [or-http-epoll-3] r.netty.http.client.HttpClientConnect    : [21530c26-6, L:/127.0.0.1:46154 - R:localhost/127.0.0.1:8081] Handler is being applied: {uri=http://localhost:8081/user/profile, method=GET}
2025-10-18T05:16:59.377Z DEBUG 119791 --- [gateway-service] [or-http-epoll-3] r.n.r.DefaultPooledConnectionProvider    : [21530c26-6, L:/127.0.0.1:46154 - R:localhost/127.0.0.1:8081] onStateChange(GET{uri=/user/profile, connection=PooledConnection{channel=[id: 0x21530c26, L:/127.0.0.1:46154 - R:localhost/127.0.0.1:8081]}}, [request_prepared])
2025-10-18T05:16:59.378Z DEBUG 119791 --- [gateway-service] [or-http-epoll-3] r.n.r.DefaultPooledConnectionProvider    : [21530c26-6, L:/127.0.0.1:46154 - R:localhost/127.0.0.1:8081] onStateChange(GET{uri=/user/profile, connection=PooledConnection{channel=[id: 0x21530c26, L:/127.0.0.1:46154 - R:localhost/127.0.0.1:8081]}}, [request_sent])
2025-10-18T05:16:59.389Z DEBUG 119791 --- [gateway-service] [or-http-epoll-3] r.n.http.client.HttpClientOperations     : [21530c26-6, L:/127.0.0.1:46154 - R:localhost/127.0.0.1:8081] Received response (auto-read:false) : RESPONSE(decodeResult: success, version: HTTP/1.1)
HTTP/1.1 200 
X-Content-Type-Options: <filtered>
X-XSS-Protection: <filtered>
Cache-Control: <filtered>
Pragma: <filtered>
Expires: <filtered>
X-Frame-Options: <filtered>
Content-Type: <filtered>
Transfer-Encoding: <filtered>
Date: <filtered>
2025-10-18T05:16:59.389Z DEBUG 119791 --- [gateway-service] [or-http-epoll-3] r.n.r.DefaultPooledConnectionProvider    : [21530c26-6, L:/127.0.0.1:46154 - R:localhost/127.0.0.1:8081] onStateChange(GET{uri=/user/profile, connection=PooledConnection{channel=[id: 0x21530c26, L:/127.0.0.1:46154 - R:localhost/127.0.0.1:8081]}}, [response_received])
2025-10-18T05:16:59.389Z DEBUG 119791 --- [gateway-service] [or-http-epoll-3] .f.h.o.ObservedResponseHttpHeadersFilter : Will instrument the response
2025-10-18T05:16:59.389Z DEBUG 119791 --- [gateway-service] [or-http-epoll-3] .f.h.o.ObservedResponseHttpHeadersFilter : The response was handled for observation {name=http.client.requests(null), error=null, context=name='http.client.requests', contextualName='null', error='null', lowCardinalityKeyValues=[http.method='GET', http.status_code='UNKNOWN', spring.cloud.gateway.route.id='user-service-protected', spring.cloud.gateway.route.uri='http://localhost:8081'], highCardinalityKeyValues=[http.uri='http://localhost:8082/user/profile'], map=[class io.micrometer.core.instrument.LongTaskTimer$Sample='SampleImpl{duration(seconds)=0.012557953, duration(nanos)=1.2557953E7, startTimeNanos=7917797094087}', class io.micrometer.core.instrument.Timer$Sample='io.micrometer.core.instrument.Timer$Sample@3d3ba308'], parentObservation=org.springframework.security.web.server.ObservationWebFilterChainDecorator$PhasedObservation@78393acb}
2025-10-18T05:16:59.389Z DEBUG 119791 --- [gateway-service] [or-http-epoll-3] reactor.netty.channel.FluxReceive        : [21530c26-6, L:/127.0.0.1:46154 - R:localhost/127.0.0.1:8081] [terminated=false, cancelled=false, pending=0, error=null]: subscribing inbound receiver
2025-10-18T05:16:59.406Z DEBUG 119791 --- [gateway-service] [or-http-epoll-3] r.n.http.client.HttpClientOperations     : [21530c26-6, L:/127.0.0.1:46154 - R:localhost/127.0.0.1:8081] Received last HTTP packet
2025-10-18T05:16:59.406Z DEBUG 119791 --- [gateway-service] [or-http-epoll-3] r.n.r.DefaultPooledConnectionProvider    : [21530c26, L:/127.0.0.1:46154 - R:localhost/127.0.0.1:8081] onStateChange(GET{uri=/user/profile, connection=PooledConnection{channel=[id: 0x21530c26, L:/127.0.0.1:46154 - R:localhost/127.0.0.1:8081]}}, [response_completed])
2025-10-18T05:16:59.406Z DEBUG 119791 --- [gateway-service] [or-http-epoll-3] r.n.r.DefaultPooledConnectionProvider    : [21530c26, L:/127.0.0.1:46154 - R:localhost/127.0.0.1:8081] onStateChange(GET{uri=/user/profile, connection=PooledConnection{channel=[id: 0x21530c26, L:/127.0.0.1:46154 - R:localhost/127.0.0.1:8081]}}, [disconnecting])
2025-10-18T05:16:59.406Z DEBUG 119791 --- [gateway-service] [or-http-epoll-3] r.n.r.DefaultPooledConnectionProvider    : [21530c26, L:/127.0.0.1:46154 - R:localhost/127.0.0.1:8081] Releasing channel
2025-10-18T05:16:59.406Z DEBUG 119791 --- [gateway-service] [or-http-epoll-3] r.n.resources.PooledConnectionProvider   : [21530c26, L:/127.0.0.1:46154 - R:localhost/127.0.0.1:8081] Channel cleaned, now: 0 active connections, 1 inactive connections 0 pending acquire requests.
2025-10-18T05:16:59.428Z DEBUG 119791 --- [gateway-service] [     parallel-5] o.s.c.g.h.RoutePredicateHandlerMapping   : Route matched: user-service-protected
2025-10-18T05:16:59.429Z DEBUG 119791 --- [gateway-service] [     parallel-5] o.s.c.g.h.RoutePredicateHandlerMapping   : Mapping [Exchange: POST http://localhost:8082/api/users/user/login] to Route{id='user-service-protected', uri=http://localhost:8081, order=0, predicate=Paths: [/api/users/user/**], match trailing slash: true, gatewayFilters=[[[AddRequestHeader X-Forwarded-Host = 'localhost:8080'], order = 1], [[StripPrefix parts = 2], order = 1], [[DedupeResponseHeader Access-Control-Allow-Origin Access-Control-Allow-Credentials = RETAIN_UNIQUE], order = 2], [[AddResponseHeader X-Gateway-Routed = 'true'], order = 2]], metadata={}}
2025-10-18T05:16:59.429Z DEBUG 119791 --- [gateway-service] [     parallel-5] o.s.c.g.h.RoutePredicateHandlerMapping   : [428f0cf5] Mapped to org.springframework.cloud.gateway.handler.FilteringWebHandler@685e6a68
2025-10-18T05:16:59.429Z DEBUG 119791 --- [gateway-service] [     parallel-5] o.s.c.g.handler.FilteringWebHandler      : Sorted gatewayFilterFactories: [[GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.RemoveCachedBodyFilter@c6a692e}, order = -2147483648], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.AdaptCachedBodyGlobalFilter@350d26f3}, order = -2147482648], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.NettyWriteResponseFilter@33215ffb}, order = -1], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ForwardPathFilter@17d2b646}, order = 0], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.GatewayMetricsFilter@7b3a6e95}, order = 0], [[AddRequestHeader X-Forwarded-Host = 'localhost:8080'], order = 1], [[StripPrefix parts = 2], order = 1], [[DedupeResponseHeader Access-Control-Allow-Origin Access-Control-Allow-Credentials = RETAIN_UNIQUE], order = 2], [[AddResponseHeader X-Gateway-Routed = 'true'], order = 2], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.RouteToRequestUrlFilter@27502e5c}, order = 10000], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.config.GatewayNoLoadBalancerClientAutoConfiguration$NoLoadBalancerClientFilter@8ac512e}, order = 10150], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.WebsocketRoutingFilter@323e026d}, order = 2147483646], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.NettyRoutingFilter@2bf3ec4}, order = 2147483647], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ForwardRoutingFilter@4b343b6d}, order = 2147483647]]
2025-10-18T05:16:59.429Z DEBUG 119791 --- [gateway-service] [     parallel-5] g.f.h.o.ObservedRequestHttpHeadersFilter : Will instrument the HTTP request headers [host:"localhost:8082", user-agent:"curl/7.81.0", accept:"*/*", content-type:"application/json", content-length:"50", X-Forwarded-Host:"localhost:8080,localhost:8082", Forwarded:"proto=http;host="localhost:8082";for="127.0.0.1:53218"", X-Forwarded-For:"127.0.0.1", X-Forwarded-Proto:"http", X-Forwarded-Prefix:"/api/users", X-Forwarded-Port:"8082"]
2025-10-18T05:16:59.429Z DEBUG 119791 --- [gateway-service] [     parallel-5] g.f.h.o.ObservedRequestHttpHeadersFilter : Client observation  {name=http.client.requests(null), error=null, context=name='http.client.requests', contextualName='null', error='null', lowCardinalityKeyValues=[http.method='POST', http.status_code='UNKNOWN', spring.cloud.gateway.route.id='user-service-protected', spring.cloud.gateway.route.uri='http://localhost:8081'], highCardinalityKeyValues=[http.uri='http://localhost:8082/user/login'], map=[class io.micrometer.core.instrument.LongTaskTimer$Sample='SampleImpl{duration(seconds)=3.4581E-5, duration(nanos)=34581.0, startTimeNanos=7917849790466}', class io.micrometer.core.instrument.Timer$Sample='io.micrometer.core.instrument.Timer$Sample@7ed739a4'], parentObservation=org.springframework.security.web.server.ObservationWebFilterChainDecorator$PhasedObservation@3bd5a81a} created for the request. New headers are [host:"localhost:8082", user-agent:"curl/7.81.0", accept:"*/*", content-type:"application/json", content-length:"50", X-Forwarded-Host:"localhost:8080,localhost:8082", Forwarded:"proto=http;host="localhost:8082";for="127.0.0.1:53218"", X-Forwarded-For:"127.0.0.1", X-Forwarded-Proto:"http", X-Forwarded-Prefix:"/api/users", X-Forwarded-Port:"8082"]
2025-10-18T05:16:59.430Z DEBUG 119791 --- [gateway-service] [or-http-epoll-3] r.n.resources.PooledConnectionProvider   : [21530c26, L:/127.0.0.1:46154 - R:localhost/127.0.0.1:8081] Channel acquired, now: 1 active connections, 0 inactive connections 0 pending acquire requests.
2025-10-18T05:16:59.430Z DEBUG 119791 --- [gateway-service] [or-http-epoll-3] r.netty.http.client.HttpClientConnect    : [21530c26-7, L:/127.0.0.1:46154 - R:localhost/127.0.0.1:8081] Handler is being applied: {uri=http://localhost:8081/user/login, method=POST}
2025-10-18T05:16:59.430Z DEBUG 119791 --- [gateway-service] [or-http-epoll-3] r.n.r.DefaultPooledConnectionProvider    : [21530c26-7, L:/127.0.0.1:46154 - R:localhost/127.0.0.1:8081] onStateChange(POST{uri=/user/login, connection=PooledConnection{channel=[id: 0x21530c26, L:/127.0.0.1:46154 - R:localhost/127.0.0.1:8081]}}, [request_prepared])
2025-10-18T05:16:59.431Z DEBUG 119791 --- [gateway-service] [or-http-epoll-3] r.n.r.DefaultPooledConnectionProvider    : [21530c26-7, L:/127.0.0.1:46154 - R:localhost/127.0.0.1:8081] onStateChange(POST{uri=/user/login, connection=PooledConnection{channel=[id: 0x21530c26, L:/127.0.0.1:46154 - R:localhost/127.0.0.1:8081]}}, [request_sent])
2025-10-18T05:16:59.517Z DEBUG 119791 --- [gateway-service] [or-http-epoll-3] r.n.http.client.HttpClientOperations     : [21530c26-7, L:/127.0.0.1:46154 - R:localhost/127.0.0.1:8081] Received response (auto-read:false) : RESPONSE(decodeResult: success, version: HTTP/1.1)
HTTP/1.1 200 
X-Content-Type-Options: <filtered>
X-XSS-Protection: <filtered>
Cache-Control: <filtered>
Pragma: <filtered>
Expires: <filtered>
X-Frame-Options: <filtered>
Content-Type: <filtered>
Transfer-Encoding: <filtered>
Date: <filtered>
2025-10-18T05:16:59.517Z DEBUG 119791 --- [gateway-service] [or-http-epoll-3] r.n.r.DefaultPooledConnectionProvider    : [21530c26-7, L:/127.0.0.1:46154 - R:localhost/127.0.0.1:8081] onStateChange(POST{uri=/user/login, connection=PooledConnection{channel=[id: 0x21530c26, L:/127.0.0.1:46154 - R:localhost/127.0.0.1:8081]}}, [response_received])
2025-10-18T05:16:59.517Z DEBUG 119791 --- [gateway-service] [or-http-epoll-3] .f.h.o.ObservedResponseHttpHeadersFilter : Will instrument the response
2025-10-18T05:16:59.518Z DEBUG 119791 --- [gateway-service] [or-http-epoll-3] .f.h.o.ObservedResponseHttpHeadersFilter : The response was handled for observation {name=http.client.requests(null), error=null, context=name='http.client.requests', contextualName='null', error='null', lowCardinalityKeyValues=[http.method='POST', http.status_code='UNKNOWN', spring.cloud.gateway.route.id='user-service-protected', spring.cloud.gateway.route.uri='http://localhost:8081'], highCardinalityKeyValues=[http.uri='http://localhost:8082/user/login'], map=[class io.micrometer.core.instrument.LongTaskTimer$Sample='SampleImpl{duration(seconds)=0.088304314, duration(nanos)=8.8304314E7, startTimeNanos=7917849790466}', class io.micrometer.core.instrument.Timer$Sample='io.micrometer.core.instrument.Timer$Sample@7ed739a4'], parentObservation=org.springframework.security.web.server.ObservationWebFilterChainDecorator$PhasedObservation@3bd5a81a}
2025-10-18T05:16:59.518Z DEBUG 119791 --- [gateway-service] [or-http-epoll-3] reactor.netty.channel.FluxReceive        : [21530c26-7, L:/127.0.0.1:46154 - R:localhost/127.0.0.1:8081] [terminated=false, cancelled=false, pending=0, error=null]: subscribing inbound receiver
2025-10-18T05:16:59.519Z DEBUG 119791 --- [gateway-service] [or-http-epoll-3] r.n.http.client.HttpClientOperations     : [21530c26-7, L:/127.0.0.1:46154 - R:localhost/127.0.0.1:8081] Received last HTTP packet
2025-10-18T05:16:59.519Z DEBUG 119791 --- [gateway-service] [or-http-epoll-3] r.n.r.DefaultPooledConnectionProvider    : [21530c26, L:/127.0.0.1:46154 - R:localhost/127.0.0.1:8081] onStateChange(POST{uri=/user/login, connection=PooledConnection{channel=[id: 0x21530c26, L:/127.0.0.1:46154 - R:localhost/127.0.0.1:8081]}}, [response_completed])
2025-10-18T05:16:59.519Z DEBUG 119791 --- [gateway-service] [or-http-epoll-3] r.n.r.DefaultPooledConnectionProvider    : [21530c26, L:/127.0.0.1:46154 - R:localhost/127.0.0.1:8081] onStateChange(POST{uri=/user/login, connection=PooledConnection{channel=[id: 0x21530c26, L:/127.0.0.1:46154 - R:localhost/127.0.0.1:8081]}}, [disconnecting])
2025-10-18T05:16:59.519Z DEBUG 119791 --- [gateway-service] [or-http-epoll-3] r.n.r.DefaultPooledConnectionProvider    : [21530c26, L:/127.0.0.1:46154 - R:localhost/127.0.0.1:8081] Releasing channel
2025-10-18T05:16:59.520Z DEBUG 119791 --- [gateway-service] [or-http-epoll-3] r.n.resources.PooledConnectionProvider   : [21530c26, L:/127.0.0.1:46154 - R:localhost/127.0.0.1:8081] Channel cleaned, now: 0 active connections, 1 inactive connections 0 pending acquire requests.
2025-10-18T05:17:27.195Z DEBUG 119791 --- [gateway-service] [     parallel-6] o.s.c.g.h.RoutePredicateHandlerMapping   : Route matched: user-service-public
2025-10-18T05:17:27.195Z DEBUG 119791 --- [gateway-service] [     parallel-6] o.s.c.g.h.RoutePredicateHandlerMapping   : Mapping [Exchange: GET http://localhost:8082/api/users/user/public] to Route{id='user-service-public', uri=http://localhost:8081, order=0, predicate=Paths: [/api/users/user/public], match trailing slash: true, gatewayFilters=[[[AddRequestHeader X-Forwarded-Host = 'localhost:8080'], order = 1], [[StripPrefix parts = 2], order = 1], [[DedupeResponseHeader Access-Control-Allow-Origin Access-Control-Allow-Credentials = RETAIN_UNIQUE], order = 2], [[AddResponseHeader X-Gateway-Routed = 'true'], order = 2]], metadata={}}
2025-10-18T05:17:27.195Z DEBUG 119791 --- [gateway-service] [     parallel-6] o.s.c.g.h.RoutePredicateHandlerMapping   : [78b9ef13] Mapped to org.springframework.cloud.gateway.handler.FilteringWebHandler@685e6a68
2025-10-18T05:17:27.195Z DEBUG 119791 --- [gateway-service] [     parallel-6] o.s.c.g.handler.FilteringWebHandler      : Sorted gatewayFilterFactories: [[GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.RemoveCachedBodyFilter@c6a692e}, order = -2147483648], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.AdaptCachedBodyGlobalFilter@350d26f3}, order = -2147482648], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.NettyWriteResponseFilter@33215ffb}, order = -1], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ForwardPathFilter@17d2b646}, order = 0], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.GatewayMetricsFilter@7b3a6e95}, order = 0], [[AddRequestHeader X-Forwarded-Host = 'localhost:8080'], order = 1], [[StripPrefix parts = 2], order = 1], [[DedupeResponseHeader Access-Control-Allow-Origin Access-Control-Allow-Credentials = RETAIN_UNIQUE], order = 2], [[AddResponseHeader X-Gateway-Routed = 'true'], order = 2], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.RouteToRequestUrlFilter@27502e5c}, order = 10000], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.config.GatewayNoLoadBalancerClientAutoConfiguration$NoLoadBalancerClientFilter@8ac512e}, order = 10150], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.WebsocketRoutingFilter@323e026d}, order = 2147483646], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.NettyRoutingFilter@2bf3ec4}, order = 2147483647], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ForwardRoutingFilter@4b343b6d}, order = 2147483647]]
2025-10-18T05:17:27.195Z DEBUG 119791 --- [gateway-service] [     parallel-6] g.f.h.o.ObservedRequestHttpHeadersFilter : Will instrument the HTTP request headers [host:"localhost:8082", user-agent:"curl/7.81.0", accept:"*/*", X-Forwarded-Host:"localhost:8080,localhost:8082", Forwarded:"proto=http;host="localhost:8082";for="127.0.0.1:39516"", X-Forwarded-For:"127.0.0.1", X-Forwarded-Proto:"http", X-Forwarded-Prefix:"/api/users", X-Forwarded-Port:"8082"]
2025-10-18T05:17:27.196Z DEBUG 119791 --- [gateway-service] [     parallel-6] g.f.h.o.ObservedRequestHttpHeadersFilter : Client observation  {name=http.client.requests(null), error=null, context=name='http.client.requests', contextualName='null', error='null', lowCardinalityKeyValues=[http.method='GET', http.status_code='UNKNOWN', spring.cloud.gateway.route.id='user-service-public', spring.cloud.gateway.route.uri='http://localhost:8081'], highCardinalityKeyValues=[http.uri='http://localhost:8082/user/public'], map=[class io.micrometer.core.instrument.LongTaskTimer$Sample='SampleImpl{duration(seconds)=5.0486E-5, duration(nanos)=50486.0, startTimeNanos=7945615988970}', class io.micrometer.core.instrument.Timer$Sample='io.micrometer.core.instrument.Timer$Sample@418434'], parentObservation=org.springframework.security.web.server.ObservationWebFilterChainDecorator$PhasedObservation@45431a58} created for the request. New headers are [host:"localhost:8082", user-agent:"curl/7.81.0", accept:"*/*", X-Forwarded-Host:"localhost:8080,localhost:8082", Forwarded:"proto=http;host="localhost:8082";for="127.0.0.1:39516"", X-Forwarded-For:"127.0.0.1", X-Forwarded-Proto:"http", X-Forwarded-Prefix:"/api/users", X-Forwarded-Port:"8082"]
2025-10-18T05:17:27.196Z DEBUG 119791 --- [gateway-service] [or-http-epoll-3] r.n.resources.PooledConnectionProvider   : [21530c26, L:/127.0.0.1:46154 - R:localhost/127.0.0.1:8081] Channel acquired, now: 1 active connections, 0 inactive connections 0 pending acquire requests.
2025-10-18T05:17:27.196Z DEBUG 119791 --- [gateway-service] [or-http-epoll-3] r.netty.http.client.HttpClientConnect    : [21530c26-8, L:/127.0.0.1:46154 - R:localhost/127.0.0.1:8081] Handler is being applied: {uri=http://localhost:8081/user/public, method=GET}
2025-10-18T05:17:27.196Z DEBUG 119791 --- [gateway-service] [or-http-epoll-3] r.n.r.DefaultPooledConnectionProvider    : [21530c26-8, L:/127.0.0.1:46154 - R:localhost/127.0.0.1:8081] onStateChange(GET{uri=/user/public, connection=PooledConnection{channel=[id: 0x21530c26, L:/127.0.0.1:46154 - R:localhost/127.0.0.1:8081]}}, [request_prepared])
2025-10-18T05:17:27.197Z DEBUG 119791 --- [gateway-service] [or-http-epoll-3] r.n.r.DefaultPooledConnectionProvider    : [21530c26-8, L:/127.0.0.1:46154 - R:localhost/127.0.0.1:8081] onStateChange(GET{uri=/user/public, connection=PooledConnection{channel=[id: 0x21530c26, L:/127.0.0.1:46154 - R:localhost/127.0.0.1:8081]}}, [request_sent])
2025-10-18T05:17:27.199Z DEBUG 119791 --- [gateway-service] [or-http-epoll-3] r.n.http.client.HttpClientOperations     : [21530c26-8, L:/127.0.0.1:46154 - R:localhost/127.0.0.1:8081] Received response (auto-read:false) : RESPONSE(decodeResult: success, version: HTTP/1.1)
HTTP/1.1 200 
X-Content-Type-Options: <filtered>
X-XSS-Protection: <filtered>
Cache-Control: <filtered>
Pragma: <filtered>
Expires: <filtered>
X-Frame-Options: <filtered>
Content-Type: <filtered>
Transfer-Encoding: <filtered>
Date: <filtered>
2025-10-18T05:17:27.199Z DEBUG 119791 --- [gateway-service] [or-http-epoll-3] r.n.r.DefaultPooledConnectionProvider    : [21530c26-8, L:/127.0.0.1:46154 - R:localhost/127.0.0.1:8081] onStateChange(GET{uri=/user/public, connection=PooledConnection{channel=[id: 0x21530c26, L:/127.0.0.1:46154 - R:localhost/127.0.0.1:8081]}}, [response_received])
2025-10-18T05:17:27.199Z DEBUG 119791 --- [gateway-service] [or-http-epoll-3] .f.h.o.ObservedResponseHttpHeadersFilter : Will instrument the response
2025-10-18T05:17:27.199Z DEBUG 119791 --- [gateway-service] [or-http-epoll-3] .f.h.o.ObservedResponseHttpHeadersFilter : The response was handled for observation {name=http.client.requests(null), error=null, context=name='http.client.requests', contextualName='null', error='null', lowCardinalityKeyValues=[http.method='GET', http.status_code='UNKNOWN', spring.cloud.gateway.route.id='user-service-public', spring.cloud.gateway.route.uri='http://localhost:8081'], highCardinalityKeyValues=[http.uri='http://localhost:8082/user/public'], map=[class io.micrometer.core.instrument.LongTaskTimer$Sample='SampleImpl{duration(seconds)=0.003645164, duration(nanos)=3645164.0, startTimeNanos=7945615988970}', class io.micrometer.core.instrument.Timer$Sample='io.micrometer.core.instrument.Timer$Sample@418434'], parentObservation=org.springframework.security.web.server.ObservationWebFilterChainDecorator$PhasedObservation@45431a58}
2025-10-18T05:17:27.199Z DEBUG 119791 --- [gateway-service] [or-http-epoll-3] reactor.netty.channel.FluxReceive        : [21530c26-8, L:/127.0.0.1:46154 - R:localhost/127.0.0.1:8081] [terminated=false, cancelled=false, pending=0, error=null]: subscribing inbound receiver
2025-10-18T05:17:27.200Z DEBUG 119791 --- [gateway-service] [or-http-epoll-3] r.n.http.client.HttpClientOperations     : [21530c26-8, L:/127.0.0.1:46154 - R:localhost/127.0.0.1:8081] Received last HTTP packet
2025-10-18T05:17:27.201Z DEBUG 119791 --- [gateway-service] [or-http-epoll-3] r.n.r.DefaultPooledConnectionProvider    : [21530c26, L:/127.0.0.1:46154 - R:localhost/127.0.0.1:8081] onStateChange(GET{uri=/user/public, connection=PooledConnection{channel=[id: 0x21530c26, L:/127.0.0.1:46154 - R:localhost/127.0.0.1:8081]}}, [response_completed])
2025-10-18T05:17:27.201Z DEBUG 119791 --- [gateway-service] [or-http-epoll-3] r.n.r.DefaultPooledConnectionProvider    : [21530c26, L:/127.0.0.1:46154 - R:localhost/127.0.0.1:8081] onStateChange(GET{uri=/user/public, connection=PooledConnection{channel=[id: 0x21530c26, L:/127.0.0.1:46154 - R:localhost/127.0.0.1:8081]}}, [disconnecting])
2025-10-18T05:17:27.201Z DEBUG 119791 --- [gateway-service] [or-http-epoll-3] r.n.r.DefaultPooledConnectionProvider    : [21530c26, L:/127.0.0.1:46154 - R:localhost/127.0.0.1:8081] Releasing channel
2025-10-18T05:17:27.201Z DEBUG 119791 --- [gateway-service] [or-http-epoll-3] r.n.resources.PooledConnectionProvider   : [21530c26, L:/127.0.0.1:46154 - R:localhost/127.0.0.1:8081] Channel cleaned, now: 0 active connections, 1 inactive connections 0 pending acquire requests.
2025-10-18T05:17:27.213Z DEBUG 119791 --- [gateway-service] [     parallel-7] o.s.c.g.h.RoutePredicateHandlerMapping   : Route matched: user-service-protected
2025-10-18T05:17:27.213Z DEBUG 119791 --- [gateway-service] [     parallel-7] o.s.c.g.h.RoutePredicateHandlerMapping   : Mapping [Exchange: POST http://localhost:8082/api/users/user/register] to Route{id='user-service-protected', uri=http://localhost:8081, order=0, predicate=Paths: [/api/users/user/**], match trailing slash: true, gatewayFilters=[[[AddRequestHeader X-Forwarded-Host = 'localhost:8080'], order = 1], [[StripPrefix parts = 2], order = 1], [[DedupeResponseHeader Access-Control-Allow-Origin Access-Control-Allow-Credentials = RETAIN_UNIQUE], order = 2], [[AddResponseHeader X-Gateway-Routed = 'true'], order = 2]], metadata={}}
2025-10-18T05:17:27.213Z DEBUG 119791 --- [gateway-service] [     parallel-7] o.s.c.g.h.RoutePredicateHandlerMapping   : [7d551cd9] Mapped to org.springframework.cloud.gateway.handler.FilteringWebHandler@685e6a68
2025-10-18T05:17:27.213Z DEBUG 119791 --- [gateway-service] [     parallel-7] o.s.c.g.handler.FilteringWebHandler      : Sorted gatewayFilterFactories: [[GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.RemoveCachedBodyFilter@c6a692e}, order = -2147483648], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.AdaptCachedBodyGlobalFilter@350d26f3}, order = -2147482648], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.NettyWriteResponseFilter@33215ffb}, order = -1], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ForwardPathFilter@17d2b646}, order = 0], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.GatewayMetricsFilter@7b3a6e95}, order = 0], [[AddRequestHeader X-Forwarded-Host = 'localhost:8080'], order = 1], [[StripPrefix parts = 2], order = 1], [[DedupeResponseHeader Access-Control-Allow-Origin Access-Control-Allow-Credentials = RETAIN_UNIQUE], order = 2], [[AddResponseHeader X-Gateway-Routed = 'true'], order = 2], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.RouteToRequestUrlFilter@27502e5c}, order = 10000], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.config.GatewayNoLoadBalancerClientAutoConfiguration$NoLoadBalancerClientFilter@8ac512e}, order = 10150], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.WebsocketRoutingFilter@323e026d}, order = 2147483646], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.NettyRoutingFilter@2bf3ec4}, order = 2147483647], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ForwardRoutingFilter@4b343b6d}, order = 2147483647]]
2025-10-18T05:17:27.214Z DEBUG 119791 --- [gateway-service] [     parallel-7] g.f.h.o.ObservedRequestHttpHeadersFilter : Will instrument the HTTP request headers [host:"localhost:8082", user-agent:"curl/7.81.0", accept:"*/*", content-type:"application/json", content-length:"97", X-Forwarded-Host:"localhost:8080,localhost:8082", Forwarded:"proto=http;host="localhost:8082";for="127.0.0.1:39520"", X-Forwarded-For:"127.0.0.1", X-Forwarded-Proto:"http", X-Forwarded-Prefix:"/api/users", X-Forwarded-Port:"8082"]
2025-10-18T05:17:27.214Z DEBUG 119791 --- [gateway-service] [     parallel-7] g.f.h.o.ObservedRequestHttpHeadersFilter : Client observation  {name=http.client.requests(null), error=null, context=name='http.client.requests', contextualName='null', error='null', lowCardinalityKeyValues=[http.method='POST', http.status_code='UNKNOWN', spring.cloud.gateway.route.id='user-service-protected', spring.cloud.gateway.route.uri='http://localhost:8081'], highCardinalityKeyValues=[http.uri='http://localhost:8082/user/register'], map=[class io.micrometer.core.instrument.LongTaskTimer$Sample='SampleImpl{duration(seconds)=3.3713E-5, duration(nanos)=33713.0, startTimeNanos=7945634428271}', class io.micrometer.core.instrument.Timer$Sample='io.micrometer.core.instrument.Timer$Sample@7c765fdc'], parentObservation=org.springframework.security.web.server.ObservationWebFilterChainDecorator$PhasedObservation@c5aaf88} created for the request. New headers are [host:"localhost:8082", user-agent:"curl/7.81.0", accept:"*/*", content-type:"application/json", content-length:"97", X-Forwarded-Host:"localhost:8080,localhost:8082", Forwarded:"proto=http;host="localhost:8082";for="127.0.0.1:39520"", X-Forwarded-For:"127.0.0.1", X-Forwarded-Proto:"http", X-Forwarded-Prefix:"/api/users", X-Forwarded-Port:"8082"]
2025-10-18T05:17:27.214Z DEBUG 119791 --- [gateway-service] [or-http-epoll-3] r.n.resources.PooledConnectionProvider   : [21530c26, L:/127.0.0.1:46154 - R:localhost/127.0.0.1:8081] Channel acquired, now: 1 active connections, 0 inactive connections 0 pending acquire requests.
2025-10-18T05:17:27.214Z DEBUG 119791 --- [gateway-service] [or-http-epoll-3] r.netty.http.client.HttpClientConnect    : [21530c26-9, L:/127.0.0.1:46154 - R:localhost/127.0.0.1:8081] Handler is being applied: {uri=http://localhost:8081/user/register, method=POST}
2025-10-18T05:17:27.215Z DEBUG 119791 --- [gateway-service] [or-http-epoll-3] r.n.r.DefaultPooledConnectionProvider    : [21530c26-9, L:/127.0.0.1:46154 - R:localhost/127.0.0.1:8081] onStateChange(POST{uri=/user/register, connection=PooledConnection{channel=[id: 0x21530c26, L:/127.0.0.1:46154 - R:localhost/127.0.0.1:8081]}}, [request_prepared])
2025-10-18T05:17:27.215Z DEBUG 119791 --- [gateway-service] [or-http-epoll-3] r.n.r.DefaultPooledConnectionProvider    : [21530c26-9, L:/127.0.0.1:46154 - R:localhost/127.0.0.1:8081] onStateChange(POST{uri=/user/register, connection=PooledConnection{channel=[id: 0x21530c26, L:/127.0.0.1:46154 - R:localhost/127.0.0.1:8081]}}, [request_sent])
2025-10-18T05:17:27.346Z DEBUG 119791 --- [gateway-service] [or-http-epoll-3] r.n.http.client.HttpClientOperations     : [21530c26-9, L:/127.0.0.1:46154 - R:localhost/127.0.0.1:8081] Received response (auto-read:false) : RESPONSE(decodeResult: success, version: HTTP/1.1)
HTTP/1.1 201 
X-Content-Type-Options: <filtered>
X-XSS-Protection: <filtered>
Cache-Control: <filtered>
Pragma: <filtered>
Expires: <filtered>
X-Frame-Options: <filtered>
Content-Type: <filtered>
Transfer-Encoding: <filtered>
Date: <filtered>
2025-10-18T05:17:27.346Z DEBUG 119791 --- [gateway-service] [or-http-epoll-3] r.n.r.DefaultPooledConnectionProvider    : [21530c26-9, L:/127.0.0.1:46154 - R:localhost/127.0.0.1:8081] onStateChange(POST{uri=/user/register, connection=PooledConnection{channel=[id: 0x21530c26, L:/127.0.0.1:46154 - R:localhost/127.0.0.1:8081]}}, [response_received])
2025-10-18T05:17:27.347Z DEBUG 119791 --- [gateway-service] [or-http-epoll-3] .f.h.o.ObservedResponseHttpHeadersFilter : Will instrument the response
2025-10-18T05:17:27.347Z DEBUG 119791 --- [gateway-service] [or-http-epoll-3] .f.h.o.ObservedResponseHttpHeadersFilter : The response was handled for observation {name=http.client.requests(null), error=null, context=name='http.client.requests', contextualName='null', error='null', lowCardinalityKeyValues=[http.method='POST', http.status_code='UNKNOWN', spring.cloud.gateway.route.id='user-service-protected', spring.cloud.gateway.route.uri='http://localhost:8081'], highCardinalityKeyValues=[http.uri='http://localhost:8082/user/register'], map=[class io.micrometer.core.instrument.LongTaskTimer$Sample='SampleImpl{duration(seconds)=0.132867114, duration(nanos)=1.32867114E8, startTimeNanos=7945634428271}', class io.micrometer.core.instrument.Timer$Sample='io.micrometer.core.instrument.Timer$Sample@7c765fdc'], parentObservation=org.springframework.security.web.server.ObservationWebFilterChainDecorator$PhasedObservation@c5aaf88}
2025-10-18T05:17:27.347Z DEBUG 119791 --- [gateway-service] [or-http-epoll-3] reactor.netty.channel.FluxReceive        : [21530c26-9, L:/127.0.0.1:46154 - R:localhost/127.0.0.1:8081] [terminated=false, cancelled=false, pending=0, error=null]: subscribing inbound receiver
2025-10-18T05:17:27.348Z DEBUG 119791 --- [gateway-service] [or-http-epoll-3] r.n.http.client.HttpClientOperations     : [21530c26-9, L:/127.0.0.1:46154 - R:localhost/127.0.0.1:8081] Received last HTTP packet
2025-10-18T05:17:27.348Z DEBUG 119791 --- [gateway-service] [or-http-epoll-3] r.n.r.DefaultPooledConnectionProvider    : [21530c26, L:/127.0.0.1:46154 - R:localhost/127.0.0.1:8081] onStateChange(POST{uri=/user/register, connection=PooledConnection{channel=[id: 0x21530c26, L:/127.0.0.1:46154 - R:localhost/127.0.0.1:8081]}}, [response_completed])
2025-10-18T05:17:27.348Z DEBUG 119791 --- [gateway-service] [or-http-epoll-3] r.n.r.DefaultPooledConnectionProvider    : [21530c26, L:/127.0.0.1:46154 - R:localhost/127.0.0.1:8081] onStateChange(POST{uri=/user/register, connection=PooledConnection{channel=[id: 0x21530c26, L:/127.0.0.1:46154 - R:localhost/127.0.0.1:8081]}}, [disconnecting])
2025-10-18T05:17:27.348Z DEBUG 119791 --- [gateway-service] [or-http-epoll-3] r.n.r.DefaultPooledConnectionProvider    : [21530c26, L:/127.0.0.1:46154 - R:localhost/127.0.0.1:8081] Releasing channel
2025-10-18T05:17:27.348Z DEBUG 119791 --- [gateway-service] [or-http-epoll-3] r.n.resources.PooledConnectionProvider   : [21530c26, L:/127.0.0.1:46154 - R:localhost/127.0.0.1:8081] Channel cleaned, now: 0 active connections, 1 inactive connections 0 pending acquire requests.
2025-10-18T05:17:27.369Z DEBUG 119791 --- [gateway-service] [     parallel-8] o.s.c.g.h.RoutePredicateHandlerMapping   : Route matched: user-service-protected
2025-10-18T05:17:27.370Z DEBUG 119791 --- [gateway-service] [     parallel-8] o.s.c.g.h.RoutePredicateHandlerMapping   : Mapping [Exchange: POST http://localhost:8082/api/users/user/login] to Route{id='user-service-protected', uri=http://localhost:8081, order=0, predicate=Paths: [/api/users/user/**], match trailing slash: true, gatewayFilters=[[[AddRequestHeader X-Forwarded-Host = 'localhost:8080'], order = 1], [[StripPrefix parts = 2], order = 1], [[DedupeResponseHeader Access-Control-Allow-Origin Access-Control-Allow-Credentials = RETAIN_UNIQUE], order = 2], [[AddResponseHeader X-Gateway-Routed = 'true'], order = 2]], metadata={}}
2025-10-18T05:17:27.370Z DEBUG 119791 --- [gateway-service] [     parallel-8] o.s.c.g.h.RoutePredicateHandlerMapping   : [609a0ad8] Mapped to org.springframework.cloud.gateway.handler.FilteringWebHandler@685e6a68
2025-10-18T05:17:27.370Z DEBUG 119791 --- [gateway-service] [     parallel-8] o.s.c.g.handler.FilteringWebHandler      : Sorted gatewayFilterFactories: [[GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.RemoveCachedBodyFilter@c6a692e}, order = -2147483648], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.AdaptCachedBodyGlobalFilter@350d26f3}, order = -2147482648], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.NettyWriteResponseFilter@33215ffb}, order = -1], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ForwardPathFilter@17d2b646}, order = 0], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.GatewayMetricsFilter@7b3a6e95}, order = 0], [[AddRequestHeader X-Forwarded-Host = 'localhost:8080'], order = 1], [[StripPrefix parts = 2], order = 1], [[DedupeResponseHeader Access-Control-Allow-Origin Access-Control-Allow-Credentials = RETAIN_UNIQUE], order = 2], [[AddResponseHeader X-Gateway-Routed = 'true'], order = 2], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.RouteToRequestUrlFilter@27502e5c}, order = 10000], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.config.GatewayNoLoadBalancerClientAutoConfiguration$NoLoadBalancerClientFilter@8ac512e}, order = 10150], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.WebsocketRoutingFilter@323e026d}, order = 2147483646], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.NettyRoutingFilter@2bf3ec4}, order = 2147483647], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ForwardRoutingFilter@4b343b6d}, order = 2147483647]]
2025-10-18T05:17:27.370Z DEBUG 119791 --- [gateway-service] [     parallel-8] g.f.h.o.ObservedRequestHttpHeadersFilter : Will instrument the HTTP request headers [host:"localhost:8082", user-agent:"curl/7.81.0", accept:"*/*", content-type:"application/json", content-length:"60", X-Forwarded-Host:"localhost:8080,localhost:8082", Forwarded:"proto=http;host="localhost:8082";for="127.0.0.1:39532"", X-Forwarded-For:"127.0.0.1", X-Forwarded-Proto:"http", X-Forwarded-Prefix:"/api/users", X-Forwarded-Port:"8082"]
2025-10-18T05:17:27.371Z DEBUG 119791 --- [gateway-service] [     parallel-8] g.f.h.o.ObservedRequestHttpHeadersFilter : Client observation  {name=http.client.requests(null), error=null, context=name='http.client.requests', contextualName='null', error='null', lowCardinalityKeyValues=[http.method='POST', http.status_code='UNKNOWN', spring.cloud.gateway.route.id='user-service-protected', spring.cloud.gateway.route.uri='http://localhost:8081'], highCardinalityKeyValues=[http.uri='http://localhost:8082/user/login'], map=[class io.micrometer.core.instrument.LongTaskTimer$Sample='SampleImpl{duration(seconds)=4.3453E-5, duration(nanos)=43453.0, startTimeNanos=7945790924054}', class io.micrometer.core.instrument.Timer$Sample='io.micrometer.core.instrument.Timer$Sample@4eb0b123'], parentObservation=org.springframework.security.web.server.ObservationWebFilterChainDecorator$PhasedObservation@bb22691} created for the request. New headers are [host:"localhost:8082", user-agent:"curl/7.81.0", accept:"*/*", content-type:"application/json", content-length:"60", X-Forwarded-Host:"localhost:8080,localhost:8082", Forwarded:"proto=http;host="localhost:8082";for="127.0.0.1:39532"", X-Forwarded-For:"127.0.0.1", X-Forwarded-Proto:"http", X-Forwarded-Prefix:"/api/users", X-Forwarded-Port:"8082"]
2025-10-18T05:17:27.371Z DEBUG 119791 --- [gateway-service] [or-http-epoll-3] r.n.resources.PooledConnectionProvider   : [21530c26, L:/127.0.0.1:46154 - R:localhost/127.0.0.1:8081] Channel acquired, now: 1 active connections, 0 inactive connections 0 pending acquire requests.
2025-10-18T05:17:27.371Z DEBUG 119791 --- [gateway-service] [or-http-epoll-3] r.netty.http.client.HttpClientConnect    : [21530c26-10, L:/127.0.0.1:46154 - R:localhost/127.0.0.1:8081] Handler is being applied: {uri=http://localhost:8081/user/login, method=POST}
2025-10-18T05:17:27.371Z DEBUG 119791 --- [gateway-service] [or-http-epoll-3] r.n.r.DefaultPooledConnectionProvider    : [21530c26-10, L:/127.0.0.1:46154 - R:localhost/127.0.0.1:8081] onStateChange(POST{uri=/user/login, connection=PooledConnection{channel=[id: 0x21530c26, L:/127.0.0.1:46154 - R:localhost/127.0.0.1:8081]}}, [request_prepared])
2025-10-18T05:17:27.372Z DEBUG 119791 --- [gateway-service] [or-http-epoll-3] r.n.r.DefaultPooledConnectionProvider    : [21530c26-10, L:/127.0.0.1:46154 - R:localhost/127.0.0.1:8081] onStateChange(POST{uri=/user/login, connection=PooledConnection{channel=[id: 0x21530c26, L:/127.0.0.1:46154 - R:localhost/127.0.0.1:8081]}}, [request_sent])
2025-10-18T05:17:27.463Z DEBUG 119791 --- [gateway-service] [or-http-epoll-3] r.n.http.client.HttpClientOperations     : [21530c26-10, L:/127.0.0.1:46154 - R:localhost/127.0.0.1:8081] Received response (auto-read:false) : RESPONSE(decodeResult: success, version: HTTP/1.1)
HTTP/1.1 200 
X-Content-Type-Options: <filtered>
X-XSS-Protection: <filtered>
Cache-Control: <filtered>
Pragma: <filtered>
Expires: <filtered>
X-Frame-Options: <filtered>
Content-Type: <filtered>
Transfer-Encoding: <filtered>
Date: <filtered>
2025-10-18T05:17:27.463Z DEBUG 119791 --- [gateway-service] [or-http-epoll-3] r.n.r.DefaultPooledConnectionProvider    : [21530c26-10, L:/127.0.0.1:46154 - R:localhost/127.0.0.1:8081] onStateChange(POST{uri=/user/login, connection=PooledConnection{channel=[id: 0x21530c26, L:/127.0.0.1:46154 - R:localhost/127.0.0.1:8081]}}, [response_received])
2025-10-18T05:17:27.463Z DEBUG 119791 --- [gateway-service] [or-http-epoll-3] .f.h.o.ObservedResponseHttpHeadersFilter : Will instrument the response
2025-10-18T05:17:27.463Z DEBUG 119791 --- [gateway-service] [or-http-epoll-3] .f.h.o.ObservedResponseHttpHeadersFilter : The response was handled for observation {name=http.client.requests(null), error=null, context=name='http.client.requests', contextualName='null', error='null', lowCardinalityKeyValues=[http.method='POST', http.status_code='UNKNOWN', spring.cloud.gateway.route.id='user-service-protected', spring.cloud.gateway.route.uri='http://localhost:8081'], highCardinalityKeyValues=[http.uri='http://localhost:8082/user/login'], map=[class io.micrometer.core.instrument.LongTaskTimer$Sample='SampleImpl{duration(seconds)=0.092870997, duration(nanos)=9.2870997E7, startTimeNanos=7945790924054}', class io.micrometer.core.instrument.Timer$Sample='io.micrometer.core.instrument.Timer$Sample@4eb0b123'], parentObservation=org.springframework.security.web.server.ObservationWebFilterChainDecorator$PhasedObservation@bb22691}
2025-10-18T05:17:27.464Z DEBUG 119791 --- [gateway-service] [or-http-epoll-3] reactor.netty.channel.FluxReceive        : [21530c26-10, L:/127.0.0.1:46154 - R:localhost/127.0.0.1:8081] [terminated=false, cancelled=false, pending=0, error=null]: subscribing inbound receiver
2025-10-18T05:17:27.464Z DEBUG 119791 --- [gateway-service] [or-http-epoll-3] r.n.http.client.HttpClientOperations     : [21530c26-10, L:/127.0.0.1:46154 - R:localhost/127.0.0.1:8081] Received last HTTP packet
2025-10-18T05:17:27.465Z DEBUG 119791 --- [gateway-service] [or-http-epoll-3] r.n.r.DefaultPooledConnectionProvider    : [21530c26, L:/127.0.0.1:46154 - R:localhost/127.0.0.1:8081] onStateChange(POST{uri=/user/login, connection=PooledConnection{channel=[id: 0x21530c26, L:/127.0.0.1:46154 - R:localhost/127.0.0.1:8081]}}, [response_completed])
2025-10-18T05:17:27.465Z DEBUG 119791 --- [gateway-service] [or-http-epoll-3] r.n.r.DefaultPooledConnectionProvider    : [21530c26, L:/127.0.0.1:46154 - R:localhost/127.0.0.1:8081] onStateChange(POST{uri=/user/login, connection=PooledConnection{channel=[id: 0x21530c26, L:/127.0.0.1:46154 - R:localhost/127.0.0.1:8081]}}, [disconnecting])
2025-10-18T05:17:27.465Z DEBUG 119791 --- [gateway-service] [or-http-epoll-3] r.n.r.DefaultPooledConnectionProvider    : [21530c26, L:/127.0.0.1:46154 - R:localhost/127.0.0.1:8081] Releasing channel
2025-10-18T05:17:27.465Z DEBUG 119791 --- [gateway-service] [or-http-epoll-3] r.n.resources.PooledConnectionProvider   : [21530c26, L:/127.0.0.1:46154 - R:localhost/127.0.0.1:8081] Channel cleaned, now: 0 active connections, 1 inactive connections 0 pending acquire requests.
2025-10-18T05:17:27.507Z DEBUG 119791 --- [gateway-service] [     parallel-1] o.s.c.g.h.RoutePredicateHandlerMapping   : Route matched: user-service-protected
2025-10-18T05:17:27.507Z DEBUG 119791 --- [gateway-service] [     parallel-1] o.s.c.g.h.RoutePredicateHandlerMapping   : Mapping [Exchange: POST http://localhost:8082/api/users/user/profile] to Route{id='user-service-protected', uri=http://localhost:8081, order=0, predicate=Paths: [/api/users/user/**], match trailing slash: true, gatewayFilters=[[[AddRequestHeader X-Forwarded-Host = 'localhost:8080'], order = 1], [[StripPrefix parts = 2], order = 1], [[DedupeResponseHeader Access-Control-Allow-Origin Access-Control-Allow-Credentials = RETAIN_UNIQUE], order = 2], [[AddResponseHeader X-Gateway-Routed = 'true'], order = 2]], metadata={}}
2025-10-18T05:17:27.507Z DEBUG 119791 --- [gateway-service] [     parallel-1] o.s.c.g.h.RoutePredicateHandlerMapping   : [20235152] Mapped to org.springframework.cloud.gateway.handler.FilteringWebHandler@685e6a68
2025-10-18T05:17:27.507Z DEBUG 119791 --- [gateway-service] [     parallel-1] o.s.c.g.handler.FilteringWebHandler      : Sorted gatewayFilterFactories: [[GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.RemoveCachedBodyFilter@c6a692e}, order = -2147483648], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.AdaptCachedBodyGlobalFilter@350d26f3}, order = -2147482648], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.NettyWriteResponseFilter@33215ffb}, order = -1], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ForwardPathFilter@17d2b646}, order = 0], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.GatewayMetricsFilter@7b3a6e95}, order = 0], [[AddRequestHeader X-Forwarded-Host = 'localhost:8080'], order = 1], [[StripPrefix parts = 2], order = 1], [[DedupeResponseHeader Access-Control-Allow-Origin Access-Control-Allow-Credentials = RETAIN_UNIQUE], order = 2], [[AddResponseHeader X-Gateway-Routed = 'true'], order = 2], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.RouteToRequestUrlFilter@27502e5c}, order = 10000], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.config.GatewayNoLoadBalancerClientAutoConfiguration$NoLoadBalancerClientFilter@8ac512e}, order = 10150], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.WebsocketRoutingFilter@323e026d}, order = 2147483646], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.NettyRoutingFilter@2bf3ec4}, order = 2147483647], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ForwardRoutingFilter@4b343b6d}, order = 2147483647]]
2025-10-18T05:17:27.508Z DEBUG 119791 --- [gateway-service] [     parallel-1] g.f.h.o.ObservedRequestHttpHeadersFilter : Will instrument the HTTP request headers [host:"localhost:8082", user-agent:"curl/7.81.0", accept:"*/*", content-type:"application/json", authorization:"Bearer eyJhbGciOiJIUzI1NiJ9.eyJzdWIiOiJ0ZXN0dXNlcl8xNzYwNzY0NjQ3IiwiaWF0IjoxNzYwNzY0NjQ3LCJleHAiOjE3NjA4NTEwNDd9.NkwFZE5Q4MBbDUlP2Y7Ex9GuQ1htifkfvY_f9qa7pmk", content-length:"107", X-Forwarded-Host:"localhost:8080,localhost:8082", Forwarded:"proto=http;host="localhost:8082";for="127.0.0.1:39536"", X-Forwarded-For:"127.0.0.1", X-Forwarded-Proto:"http", X-Forwarded-Prefix:"/api/users", X-Forwarded-Port:"8082"]
2025-10-18T05:17:27.508Z DEBUG 119791 --- [gateway-service] [     parallel-1] g.f.h.o.ObservedRequestHttpHeadersFilter : Client observation  {name=http.client.requests(null), error=null, context=name='http.client.requests', contextualName='null', error='null', lowCardinalityKeyValues=[http.method='POST', http.status_code='UNKNOWN', spring.cloud.gateway.route.id='user-service-protected', spring.cloud.gateway.route.uri='http://localhost:8081'], highCardinalityKeyValues=[http.uri='http://localhost:8082/user/profile'], map=[class io.micrometer.core.instrument.LongTaskTimer$Sample='SampleImpl{duration(seconds)=5.4448E-5, duration(nanos)=54448.0, startTimeNanos=7945928567431}', class io.micrometer.core.instrument.Timer$Sample='io.micrometer.core.instrument.Timer$Sample@3c8a5f6a'], parentObservation=org.springframework.security.web.server.ObservationWebFilterChainDecorator$PhasedObservation@539d55d0} created for the request. New headers are [host:"localhost:8082", user-agent:"curl/7.81.0", accept:"*/*", content-type:"application/json", authorization:"Bearer eyJhbGciOiJIUzI1NiJ9.eyJzdWIiOiJ0ZXN0dXNlcl8xNzYwNzY0NjQ3IiwiaWF0IjoxNzYwNzY0NjQ3LCJleHAiOjE3NjA4NTEwNDd9.NkwFZE5Q4MBbDUlP2Y7Ex9GuQ1htifkfvY_f9qa7pmk", content-length:"107", X-Forwarded-Host:"localhost:8080,localhost:8082", Forwarded:"proto=http;host="localhost:8082";for="127.0.0.1:39536"", X-Forwarded-For:"127.0.0.1", X-Forwarded-Proto:"http", X-Forwarded-Prefix:"/api/users", X-Forwarded-Port:"8082"]
2025-10-18T05:17:27.509Z DEBUG 119791 --- [gateway-service] [or-http-epoll-3] r.n.resources.PooledConnectionProvider   : [21530c26, L:/127.0.0.1:46154 - R:localhost/127.0.0.1:8081] Channel acquired, now: 1 active connections, 0 inactive connections 0 pending acquire requests.
2025-10-18T05:17:27.509Z DEBUG 119791 --- [gateway-service] [or-http-epoll-3] r.netty.http.client.HttpClientConnect    : [21530c26-11, L:/127.0.0.1:46154 - R:localhost/127.0.0.1:8081] Handler is being applied: {uri=http://localhost:8081/user/profile, method=POST}
2025-10-18T05:17:27.509Z DEBUG 119791 --- [gateway-service] [or-http-epoll-3] r.n.r.DefaultPooledConnectionProvider    : [21530c26-11, L:/127.0.0.1:46154 - R:localhost/127.0.0.1:8081] onStateChange(POST{uri=/user/profile, connection=PooledConnection{channel=[id: 0x21530c26, L:/127.0.0.1:46154 - R:localhost/127.0.0.1:8081]}}, [request_prepared])
2025-10-18T05:17:27.509Z DEBUG 119791 --- [gateway-service] [or-http-epoll-3] r.n.r.DefaultPooledConnectionProvider    : [21530c26-11, L:/127.0.0.1:46154 - R:localhost/127.0.0.1:8081] onStateChange(POST{uri=/user/profile, connection=PooledConnection{channel=[id: 0x21530c26, L:/127.0.0.1:46154 - R:localhost/127.0.0.1:8081]}}, [request_sent])
2025-10-18T05:17:27.521Z DEBUG 119791 --- [gateway-service] [or-http-epoll-3] r.n.http.client.HttpClientOperations     : [21530c26-11, L:/127.0.0.1:46154 - R:localhost/127.0.0.1:8081] Received response (auto-read:false) : RESPONSE(decodeResult: success, version: HTTP/1.1)
HTTP/1.1 201 
X-Content-Type-Options: <filtered>
X-XSS-Protection: <filtered>
Cache-Control: <filtered>
Pragma: <filtered>
Expires: <filtered>
X-Frame-Options: <filtered>
Content-Type: <filtered>
Transfer-Encoding: <filtered>
Date: <filtered>
2025-10-18T05:17:27.521Z DEBUG 119791 --- [gateway-service] [or-http-epoll-3] r.n.r.DefaultPooledConnectionProvider    : [21530c26-11, L:/127.0.0.1:46154 - R:localhost/127.0.0.1:8081] onStateChange(POST{uri=/user/profile, connection=PooledConnection{channel=[id: 0x21530c26, L:/127.0.0.1:46154 - R:localhost/127.0.0.1:8081]}}, [response_received])
2025-10-18T05:17:27.521Z DEBUG 119791 --- [gateway-service] [or-http-epoll-3] .f.h.o.ObservedResponseHttpHeadersFilter : Will instrument the response
2025-10-18T05:17:27.521Z DEBUG 119791 --- [gateway-service] [or-http-epoll-3] .f.h.o.ObservedResponseHttpHeadersFilter : The response was handled for observation {name=http.client.requests(null), error=null, context=name='http.client.requests', contextualName='null', error='null', lowCardinalityKeyValues=[http.method='POST', http.status_code='UNKNOWN', spring.cloud.gateway.route.id='user-service-protected', spring.cloud.gateway.route.uri='http://localhost:8081'], highCardinalityKeyValues=[http.uri='http://localhost:8082/user/profile'], map=[class io.micrometer.core.instrument.LongTaskTimer$Sample='SampleImpl{duration(seconds)=0.012851026, duration(nanos)=1.2851026E7, startTimeNanos=7945928567431}', class io.micrometer.core.instrument.Timer$Sample='io.micrometer.core.instrument.Timer$Sample@3c8a5f6a'], parentObservation=org.springframework.security.web.server.ObservationWebFilterChainDecorator$PhasedObservation@539d55d0}
2025-10-18T05:17:27.521Z DEBUG 119791 --- [gateway-service] [or-http-epoll-3] reactor.netty.channel.FluxReceive        : [21530c26-11, L:/127.0.0.1:46154 - R:localhost/127.0.0.1:8081] [terminated=false, cancelled=false, pending=0, error=null]: subscribing inbound receiver
2025-10-18T05:17:27.522Z DEBUG 119791 --- [gateway-service] [or-http-epoll-3] r.n.http.client.HttpClientOperations     : [21530c26-11, L:/127.0.0.1:46154 - R:localhost/127.0.0.1:8081] Received last HTTP packet
2025-10-18T05:17:27.523Z DEBUG 119791 --- [gateway-service] [or-http-epoll-3] r.n.r.DefaultPooledConnectionProvider    : [21530c26, L:/127.0.0.1:46154 - R:localhost/127.0.0.1:8081] onStateChange(POST{uri=/user/profile, connection=PooledConnection{channel=[id: 0x21530c26, L:/127.0.0.1:46154 - R:localhost/127.0.0.1:8081]}}, [response_completed])
2025-10-18T05:17:27.523Z DEBUG 119791 --- [gateway-service] [or-http-epoll-3] r.n.r.DefaultPooledConnectionProvider    : [21530c26, L:/127.0.0.1:46154 - R:localhost/127.0.0.1:8081] onStateChange(POST{uri=/user/profile, connection=PooledConnection{channel=[id: 0x21530c26, L:/127.0.0.1:46154 - R:localhost/127.0.0.1:8081]}}, [disconnecting])
2025-10-18T05:17:27.523Z DEBUG 119791 --- [gateway-service] [or-http-epoll-3] r.n.r.DefaultPooledConnectionProvider    : [21530c26, L:/127.0.0.1:46154 - R:localhost/127.0.0.1:8081] Releasing channel
2025-10-18T05:17:27.523Z DEBUG 119791 --- [gateway-service] [or-http-epoll-3] r.n.resources.PooledConnectionProvider   : [21530c26, L:/127.0.0.1:46154 - R:localhost/127.0.0.1:8081] Channel cleaned, now: 0 active connections, 1 inactive connections 0 pending acquire requests.
2025-10-18T05:17:27.546Z DEBUG 119791 --- [gateway-service] [     parallel-2] o.s.c.g.h.RoutePredicateHandlerMapping   : Route matched: user-service-protected
2025-10-18T05:17:27.546Z DEBUG 119791 --- [gateway-service] [     parallel-2] o.s.c.g.h.RoutePredicateHandlerMapping   : Mapping [Exchange: GET http://localhost:8082/api/users/user/profile] to Route{id='user-service-protected', uri=http://localhost:8081, order=0, predicate=Paths: [/api/users/user/**], match trailing slash: true, gatewayFilters=[[[AddRequestHeader X-Forwarded-Host = 'localhost:8080'], order = 1], [[StripPrefix parts = 2], order = 1], [[DedupeResponseHeader Access-Control-Allow-Origin Access-Control-Allow-Credentials = RETAIN_UNIQUE], order = 2], [[AddResponseHeader X-Gateway-Routed = 'true'], order = 2]], metadata={}}
2025-10-18T05:17:27.546Z DEBUG 119791 --- [gateway-service] [     parallel-2] o.s.c.g.h.RoutePredicateHandlerMapping   : [5d368b5] Mapped to org.springframework.cloud.gateway.handler.FilteringWebHandler@685e6a68
2025-10-18T05:17:27.546Z DEBUG 119791 --- [gateway-service] [     parallel-2] o.s.c.g.handler.FilteringWebHandler      : Sorted gatewayFilterFactories: [[GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.RemoveCachedBodyFilter@c6a692e}, order = -2147483648], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.AdaptCachedBodyGlobalFilter@350d26f3}, order = -2147482648], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.NettyWriteResponseFilter@33215ffb}, order = -1], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ForwardPathFilter@17d2b646}, order = 0], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.GatewayMetricsFilter@7b3a6e95}, order = 0], [[AddRequestHeader X-Forwarded-Host = 'localhost:8080'], order = 1], [[StripPrefix parts = 2], order = 1], [[DedupeResponseHeader Access-Control-Allow-Origin Access-Control-Allow-Credentials = RETAIN_UNIQUE], order = 2], [[AddResponseHeader X-Gateway-Routed = 'true'], order = 2], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.RouteToRequestUrlFilter@27502e5c}, order = 10000], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.config.GatewayNoLoadBalancerClientAutoConfiguration$NoLoadBalancerClientFilter@8ac512e}, order = 10150], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.WebsocketRoutingFilter@323e026d}, order = 2147483646], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.NettyRoutingFilter@2bf3ec4}, order = 2147483647], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ForwardRoutingFilter@4b343b6d}, order = 2147483647]]
2025-10-18T05:17:27.547Z DEBUG 119791 --- [gateway-service] [     parallel-2] g.f.h.o.ObservedRequestHttpHeadersFilter : Will instrument the HTTP request headers [host:"localhost:8082", user-agent:"curl/7.81.0", accept:"*/*", authorization:"Bearer eyJhbGciOiJIUzI1NiJ9.eyJzdWIiOiJ0ZXN0dXNlcl8xNzYwNzY0NjQ3IiwiaWF0IjoxNzYwNzY0NjQ3LCJleHAiOjE3NjA4NTEwNDd9.NkwFZE5Q4MBbDUlP2Y7Ex9GuQ1htifkfvY_f9qa7pmk", X-Forwarded-Host:"localhost:8080,localhost:8082", Forwarded:"proto=http;host="localhost:8082";for="127.0.0.1:39548"", X-Forwarded-For:"127.0.0.1", X-Forwarded-Proto:"http", X-Forwarded-Prefix:"/api/users", X-Forwarded-Port:"8082"]
2025-10-18T05:17:27.547Z DEBUG 119791 --- [gateway-service] [     parallel-2] g.f.h.o.ObservedRequestHttpHeadersFilter : Client observation  {name=http.client.requests(null), error=null, context=name='http.client.requests', contextualName='null', error='null', lowCardinalityKeyValues=[http.method='GET', http.status_code='UNKNOWN', spring.cloud.gateway.route.id='user-service-protected', spring.cloud.gateway.route.uri='http://localhost:8081'], highCardinalityKeyValues=[http.uri='http://localhost:8082/user/profile'], map=[class io.micrometer.core.instrument.LongTaskTimer$Sample='SampleImpl{duration(seconds)=5.4654E-5, duration(nanos)=54654.0, startTimeNanos=7945967370266}', class io.micrometer.core.instrument.Timer$Sample='io.micrometer.core.instrument.Timer$Sample@1c35f0bd'], parentObservation=org.springframework.security.web.server.ObservationWebFilterChainDecorator$PhasedObservation@77d17fd5} created for the request. New headers are [host:"localhost:8082", user-agent:"curl/7.81.0", accept:"*/*", authorization:"Bearer eyJhbGciOiJIUzI1NiJ9.eyJzdWIiOiJ0ZXN0dXNlcl8xNzYwNzY0NjQ3IiwiaWF0IjoxNzYwNzY0NjQ3LCJleHAiOjE3NjA4NTEwNDd9.NkwFZE5Q4MBbDUlP2Y7Ex9GuQ1htifkfvY_f9qa7pmk", X-Forwarded-Host:"localhost:8080,localhost:8082", Forwarded:"proto=http;host="localhost:8082";for="127.0.0.1:39548"", X-Forwarded-For:"127.0.0.1", X-Forwarded-Proto:"http", X-Forwarded-Prefix:"/api/users", X-Forwarded-Port:"8082"]
2025-10-18T05:17:27.547Z DEBUG 119791 --- [gateway-service] [or-http-epoll-3] r.n.resources.PooledConnectionProvider   : [21530c26, L:/127.0.0.1:46154 - R:localhost/127.0.0.1:8081] Channel acquired, now: 1 active connections, 0 inactive connections 0 pending acquire requests.
2025-10-18T05:17:27.547Z DEBUG 119791 --- [gateway-service] [or-http-epoll-3] r.netty.http.client.HttpClientConnect    : [21530c26-12, L:/127.0.0.1:46154 - R:localhost/127.0.0.1:8081] Handler is being applied: {uri=http://localhost:8081/user/profile, method=GET}
2025-10-18T05:17:27.547Z DEBUG 119791 --- [gateway-service] [or-http-epoll-3] r.n.r.DefaultPooledConnectionProvider    : [21530c26-12, L:/127.0.0.1:46154 - R:localhost/127.0.0.1:8081] onStateChange(GET{uri=/user/profile, connection=PooledConnection{channel=[id: 0x21530c26, L:/127.0.0.1:46154 - R:localhost/127.0.0.1:8081]}}, [request_prepared])
2025-10-18T05:17:27.548Z DEBUG 119791 --- [gateway-service] [or-http-epoll-3] r.n.r.DefaultPooledConnectionProvider    : [21530c26-12, L:/127.0.0.1:46154 - R:localhost/127.0.0.1:8081] onStateChange(GET{uri=/user/profile, connection=PooledConnection{channel=[id: 0x21530c26, L:/127.0.0.1:46154 - R:localhost/127.0.0.1:8081]}}, [request_sent])
2025-10-18T05:17:27.555Z DEBUG 119791 --- [gateway-service] [or-http-epoll-3] r.n.http.client.HttpClientOperations     : [21530c26-12, L:/127.0.0.1:46154 - R:localhost/127.0.0.1:8081] Received response (auto-read:false) : RESPONSE(decodeResult: success, version: HTTP/1.1)
HTTP/1.1 200 
X-Content-Type-Options: <filtered>
X-XSS-Protection: <filtered>
Cache-Control: <filtered>
Pragma: <filtered>
Expires: <filtered>
X-Frame-Options: <filtered>
Content-Type: <filtered>
Transfer-Encoding: <filtered>
Date: <filtered>
2025-10-18T05:17:27.555Z DEBUG 119791 --- [gateway-service] [or-http-epoll-3] r.n.r.DefaultPooledConnectionProvider    : [21530c26-12, L:/127.0.0.1:46154 - R:localhost/127.0.0.1:8081] onStateChange(GET{uri=/user/profile, connection=PooledConnection{channel=[id: 0x21530c26, L:/127.0.0.1:46154 - R:localhost/127.0.0.1:8081]}}, [response_received])
2025-10-18T05:17:27.556Z DEBUG 119791 --- [gateway-service] [or-http-epoll-3] .f.h.o.ObservedResponseHttpHeadersFilter : Will instrument the response
2025-10-18T05:17:27.556Z DEBUG 119791 --- [gateway-service] [or-http-epoll-3] .f.h.o.ObservedResponseHttpHeadersFilter : The response was handled for observation {name=http.client.requests(null), error=null, context=name='http.client.requests', contextualName='null', error='null', lowCardinalityKeyValues=[http.method='GET', http.status_code='UNKNOWN', spring.cloud.gateway.route.id='user-service-protected', spring.cloud.gateway.route.uri='http://localhost:8081'], highCardinalityKeyValues=[http.uri='http://localhost:8082/user/profile'], map=[class io.micrometer.core.instrument.LongTaskTimer$Sample='SampleImpl{duration(seconds)=0.00896357, duration(nanos)=8963570.0, startTimeNanos=7945967370266}', class io.micrometer.core.instrument.Timer$Sample='io.micrometer.core.instrument.Timer$Sample@1c35f0bd'], parentObservation=org.springframework.security.web.server.ObservationWebFilterChainDecorator$PhasedObservation@77d17fd5}
2025-10-18T05:17:27.556Z DEBUG 119791 --- [gateway-service] [or-http-epoll-3] reactor.netty.channel.FluxReceive        : [21530c26-12, L:/127.0.0.1:46154 - R:localhost/127.0.0.1:8081] [terminated=false, cancelled=false, pending=0, error=null]: subscribing inbound receiver
2025-10-18T05:17:27.564Z DEBUG 119791 --- [gateway-service] [or-http-epoll-3] r.n.http.client.HttpClientOperations     : [21530c26-12, L:/127.0.0.1:46154 - R:localhost/127.0.0.1:8081] Received last HTTP packet
2025-10-18T05:17:27.564Z DEBUG 119791 --- [gateway-service] [or-http-epoll-3] r.n.r.DefaultPooledConnectionProvider    : [21530c26, L:/127.0.0.1:46154 - R:localhost/127.0.0.1:8081] onStateChange(GET{uri=/user/profile, connection=PooledConnection{channel=[id: 0x21530c26, L:/127.0.0.1:46154 - R:localhost/127.0.0.1:8081]}}, [response_completed])
2025-10-18T05:17:27.564Z DEBUG 119791 --- [gateway-service] [or-http-epoll-3] r.n.r.DefaultPooledConnectionProvider    : [21530c26, L:/127.0.0.1:46154 - R:localhost/127.0.0.1:8081] onStateChange(GET{uri=/user/profile, connection=PooledConnection{channel=[id: 0x21530c26, L:/127.0.0.1:46154 - R:localhost/127.0.0.1:8081]}}, [disconnecting])
2025-10-18T05:17:27.564Z DEBUG 119791 --- [gateway-service] [or-http-epoll-3] r.n.r.DefaultPooledConnectionProvider    : [21530c26, L:/127.0.0.1:46154 - R:localhost/127.0.0.1:8081] Releasing channel
2025-10-18T05:17:27.564Z DEBUG 119791 --- [gateway-service] [or-http-epoll-3] r.n.resources.PooledConnectionProvider   : [21530c26, L:/127.0.0.1:46154 - R:localhost/127.0.0.1:8081] Channel cleaned, now: 0 active connections, 1 inactive connections 0 pending acquire requests.
2025-10-18T05:17:27.587Z DEBUG 119791 --- [gateway-service] [     parallel-3] o.s.c.g.h.RoutePredicateHandlerMapping   : Route matched: user-service-protected
2025-10-18T05:17:27.587Z DEBUG 119791 --- [gateway-service] [     parallel-3] o.s.c.g.h.RoutePredicateHandlerMapping   : Mapping [Exchange: POST http://localhost:8082/api/users/user/login] to Route{id='user-service-protected', uri=http://localhost:8081, order=0, predicate=Paths: [/api/users/user/**], match trailing slash: true, gatewayFilters=[[[AddRequestHeader X-Forwarded-Host = 'localhost:8080'], order = 1], [[StripPrefix parts = 2], order = 1], [[DedupeResponseHeader Access-Control-Allow-Origin Access-Control-Allow-Credentials = RETAIN_UNIQUE], order = 2], [[AddResponseHeader X-Gateway-Routed = 'true'], order = 2]], metadata={}}
2025-10-18T05:17:27.587Z DEBUG 119791 --- [gateway-service] [     parallel-3] o.s.c.g.h.RoutePredicateHandlerMapping   : [79754af7] Mapped to org.springframework.cloud.gateway.handler.FilteringWebHandler@685e6a68
2025-10-18T05:17:27.587Z DEBUG 119791 --- [gateway-service] [     parallel-3] o.s.c.g.handler.FilteringWebHandler      : Sorted gatewayFilterFactories: [[GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.RemoveCachedBodyFilter@c6a692e}, order = -2147483648], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.AdaptCachedBodyGlobalFilter@350d26f3}, order = -2147482648], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.NettyWriteResponseFilter@33215ffb}, order = -1], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ForwardPathFilter@17d2b646}, order = 0], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.GatewayMetricsFilter@7b3a6e95}, order = 0], [[AddRequestHeader X-Forwarded-Host = 'localhost:8080'], order = 1], [[StripPrefix parts = 2], order = 1], [[DedupeResponseHeader Access-Control-Allow-Origin Access-Control-Allow-Credentials = RETAIN_UNIQUE], order = 2], [[AddResponseHeader X-Gateway-Routed = 'true'], order = 2], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.RouteToRequestUrlFilter@27502e5c}, order = 10000], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.config.GatewayNoLoadBalancerClientAutoConfiguration$NoLoadBalancerClientFilter@8ac512e}, order = 10150], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.WebsocketRoutingFilter@323e026d}, order = 2147483646], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.NettyRoutingFilter@2bf3ec4}, order = 2147483647], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ForwardRoutingFilter@4b343b6d}, order = 2147483647]]
2025-10-18T05:17:27.588Z DEBUG 119791 --- [gateway-service] [     parallel-3] g.f.h.o.ObservedRequestHttpHeadersFilter : Will instrument the HTTP request headers [host:"localhost:8082", user-agent:"curl/7.81.0", accept:"*/*", content-type:"application/json", content-length:"50", X-Forwarded-Host:"localhost:8080,localhost:8082", Forwarded:"proto=http;host="localhost:8082";for="127.0.0.1:39560"", X-Forwarded-For:"127.0.0.1", X-Forwarded-Proto:"http", X-Forwarded-Prefix:"/api/users", X-Forwarded-Port:"8082"]
2025-10-18T05:17:27.588Z DEBUG 119791 --- [gateway-service] [     parallel-3] g.f.h.o.ObservedRequestHttpHeadersFilter : Client observation  {name=http.client.requests(null), error=null, context=name='http.client.requests', contextualName='null', error='null', lowCardinalityKeyValues=[http.method='POST', http.status_code='UNKNOWN', spring.cloud.gateway.route.id='user-service-protected', spring.cloud.gateway.route.uri='http://localhost:8081'], highCardinalityKeyValues=[http.uri='http://localhost:8082/user/login'], map=[class io.micrometer.core.instrument.LongTaskTimer$Sample='SampleImpl{duration(seconds)=3.1979E-5, duration(nanos)=31979.0, startTimeNanos=7946008434607}', class io.micrometer.core.instrument.Timer$Sample='io.micrometer.core.instrument.Timer$Sample@f543d5b'], parentObservation=org.springframework.security.web.server.ObservationWebFilterChainDecorator$PhasedObservation@6831e55f} created for the request. New headers are [host:"localhost:8082", user-agent:"curl/7.81.0", accept:"*/*", content-type:"application/json", content-length:"50", X-Forwarded-Host:"localhost:8080,localhost:8082", Forwarded:"proto=http;host="localhost:8082";for="127.0.0.1:39560"", X-Forwarded-For:"127.0.0.1", X-Forwarded-Proto:"http", X-Forwarded-Prefix:"/api/users", X-Forwarded-Port:"8082"]
2025-10-18T05:17:27.589Z DEBUG 119791 --- [gateway-service] [or-http-epoll-3] r.n.resources.PooledConnectionProvider   : [21530c26, L:/127.0.0.1:46154 - R:localhost/127.0.0.1:8081] Channel acquired, now: 1 active connections, 0 inactive connections 0 pending acquire requests.
2025-10-18T05:17:27.589Z DEBUG 119791 --- [gateway-service] [or-http-epoll-3] r.netty.http.client.HttpClientConnect    : [21530c26-13, L:/127.0.0.1:46154 - R:localhost/127.0.0.1:8081] Handler is being applied: {uri=http://localhost:8081/user/login, method=POST}
2025-10-18T05:17:27.589Z DEBUG 119791 --- [gateway-service] [or-http-epoll-3] r.n.r.DefaultPooledConnectionProvider    : [21530c26-13, L:/127.0.0.1:46154 - R:localhost/127.0.0.1:8081] onStateChange(POST{uri=/user/login, connection=PooledConnection{channel=[id: 0x21530c26, L:/127.0.0.1:46154 - R:localhost/127.0.0.1:8081]}}, [request_prepared])
2025-10-18T05:17:27.590Z DEBUG 119791 --- [gateway-service] [or-http-epoll-3] r.n.r.DefaultPooledConnectionProvider    : [21530c26-13, L:/127.0.0.1:46154 - R:localhost/127.0.0.1:8081] onStateChange(POST{uri=/user/login, connection=PooledConnection{channel=[id: 0x21530c26, L:/127.0.0.1:46154 - R:localhost/127.0.0.1:8081]}}, [request_sent])
2025-10-18T05:17:27.678Z DEBUG 119791 --- [gateway-service] [or-http-epoll-3] r.n.http.client.HttpClientOperations     : [21530c26-13, L:/127.0.0.1:46154 - R:localhost/127.0.0.1:8081] Received response (auto-read:false) : RESPONSE(decodeResult: success, version: HTTP/1.1)
HTTP/1.1 200 
X-Content-Type-Options: <filtered>
X-XSS-Protection: <filtered>
Cache-Control: <filtered>
Pragma: <filtered>
Expires: <filtered>
X-Frame-Options: <filtered>
Content-Type: <filtered>
Transfer-Encoding: <filtered>
Date: <filtered>
2025-10-18T05:17:27.678Z DEBUG 119791 --- [gateway-service] [or-http-epoll-3] r.n.r.DefaultPooledConnectionProvider    : [21530c26-13, L:/127.0.0.1:46154 - R:localhost/127.0.0.1:8081] onStateChange(POST{uri=/user/login, connection=PooledConnection{channel=[id: 0x21530c26, L:/127.0.0.1:46154 - R:localhost/127.0.0.1:8081]}}, [response_received])
2025-10-18T05:17:27.679Z DEBUG 119791 --- [gateway-service] [or-http-epoll-3] .f.h.o.ObservedResponseHttpHeadersFilter : Will instrument the response
2025-10-18T05:17:27.679Z DEBUG 119791 --- [gateway-service] [or-http-epoll-3] .f.h.o.ObservedResponseHttpHeadersFilter : The response was handled for observation {name=http.client.requests(null), error=null, context=name='http.client.requests', contextualName='null', error='null', lowCardinalityKeyValues=[http.method='POST', http.status_code='UNKNOWN', spring.cloud.gateway.route.id='user-service-protected', spring.cloud.gateway.route.uri='http://localhost:8081'], highCardinalityKeyValues=[http.uri='http://localhost:8082/user/login'], map=[class io.micrometer.core.instrument.LongTaskTimer$Sample='SampleImpl{duration(seconds)=0.091375498, duration(nanos)=9.1375498E7, startTimeNanos=7946008434607}', class io.micrometer.core.instrument.Timer$Sample='io.micrometer.core.instrument.Timer$Sample@f543d5b'], parentObservation=org.springframework.security.web.server.ObservationWebFilterChainDecorator$PhasedObservation@6831e55f}
2025-10-18T05:17:27.680Z DEBUG 119791 --- [gateway-service] [or-http-epoll-3] reactor.netty.channel.FluxReceive        : [21530c26-13, L:/127.0.0.1:46154 - R:localhost/127.0.0.1:8081] [terminated=false, cancelled=false, pending=0, error=null]: subscribing inbound receiver
2025-10-18T05:17:27.680Z DEBUG 119791 --- [gateway-service] [or-http-epoll-3] r.n.http.client.HttpClientOperations     : [21530c26-13, L:/127.0.0.1:46154 - R:localhost/127.0.0.1:8081] Received last HTTP packet
2025-10-18T05:17:27.681Z DEBUG 119791 --- [gateway-service] [or-http-epoll-3] r.n.r.DefaultPooledConnectionProvider    : [21530c26, L:/127.0.0.1:46154 - R:localhost/127.0.0.1:8081] onStateChange(POST{uri=/user/login, connection=PooledConnection{channel=[id: 0x21530c26, L:/127.0.0.1:46154 - R:localhost/127.0.0.1:8081]}}, [response_completed])
2025-10-18T05:17:27.681Z DEBUG 119791 --- [gateway-service] [or-http-epoll-3] r.n.r.DefaultPooledConnectionProvider    : [21530c26, L:/127.0.0.1:46154 - R:localhost/127.0.0.1:8081] onStateChange(POST{uri=/user/login, connection=PooledConnection{channel=[id: 0x21530c26, L:/127.0.0.1:46154 - R:localhost/127.0.0.1:8081]}}, [disconnecting])
2025-10-18T05:17:27.681Z DEBUG 119791 --- [gateway-service] [or-http-epoll-3] r.n.r.DefaultPooledConnectionProvider    : [21530c26, L:/127.0.0.1:46154 - R:localhost/127.0.0.1:8081] Releasing channel
2025-10-18T05:17:27.681Z DEBUG 119791 --- [gateway-service] [or-http-epoll-3] r.n.resources.PooledConnectionProvider   : [21530c26, L:/127.0.0.1:46154 - R:localhost/127.0.0.1:8081] Channel cleaned, now: 0 active connections, 1 inactive connections 0 pending acquire requests.
2025-10-18T05:18:27.740Z DEBUG 119791 --- [gateway-service] [or-http-epoll-3] r.n.r.DefaultPooledConnectionProvider    : [21530c26, L:/127.0.0.1:46154 ! R:localhost/127.0.0.1:8081] onStateChange(PooledConnection{channel=[id: 0x21530c26, L:/127.0.0.1:46154 ! R:localhost/127.0.0.1:8081]}, [disconnecting])
2025-10-18T05:19:11.884Z DEBUG 119791 --- [gateway-service] [     parallel-4] o.s.c.g.h.RoutePredicateHandlerMapping   : Route matched: user-service-public
2025-10-18T05:19:11.885Z DEBUG 119791 --- [gateway-service] [     parallel-4] o.s.c.g.h.RoutePredicateHandlerMapping   : Mapping [Exchange: GET http://localhost:8082/api/users/user/public] to Route{id='user-service-public', uri=http://localhost:8081, order=0, predicate=Paths: [/api/users/user/public], match trailing slash: true, gatewayFilters=[[[AddRequestHeader X-Forwarded-Host = 'localhost:8080'], order = 1], [[StripPrefix parts = 2], order = 1], [[DedupeResponseHeader Access-Control-Allow-Origin Access-Control-Allow-Credentials = RETAIN_UNIQUE], order = 2], [[AddResponseHeader X-Gateway-Routed = 'true'], order = 2]], metadata={}}
2025-10-18T05:19:11.885Z DEBUG 119791 --- [gateway-service] [     parallel-4] o.s.c.g.h.RoutePredicateHandlerMapping   : [1813266a] Mapped to org.springframework.cloud.gateway.handler.FilteringWebHandler@685e6a68
2025-10-18T05:19:11.885Z DEBUG 119791 --- [gateway-service] [     parallel-4] o.s.c.g.handler.FilteringWebHandler      : Sorted gatewayFilterFactories: [[GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.RemoveCachedBodyFilter@c6a692e}, order = -2147483648], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.AdaptCachedBodyGlobalFilter@350d26f3}, order = -2147482648], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.NettyWriteResponseFilter@33215ffb}, order = -1], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ForwardPathFilter@17d2b646}, order = 0], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.GatewayMetricsFilter@7b3a6e95}, order = 0], [[AddRequestHeader X-Forwarded-Host = 'localhost:8080'], order = 1], [[StripPrefix parts = 2], order = 1], [[DedupeResponseHeader Access-Control-Allow-Origin Access-Control-Allow-Credentials = RETAIN_UNIQUE], order = 2], [[AddResponseHeader X-Gateway-Routed = 'true'], order = 2], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.RouteToRequestUrlFilter@27502e5c}, order = 10000], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.config.GatewayNoLoadBalancerClientAutoConfiguration$NoLoadBalancerClientFilter@8ac512e}, order = 10150], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.WebsocketRoutingFilter@323e026d}, order = 2147483646], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.NettyRoutingFilter@2bf3ec4}, order = 2147483647], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ForwardRoutingFilter@4b343b6d}, order = 2147483647]]
2025-10-18T05:19:11.886Z DEBUG 119791 --- [gateway-service] [     parallel-4] g.f.h.o.ObservedRequestHttpHeadersFilter : Will instrument the HTTP request headers [host:"localhost:8082", user-agent:"curl/7.81.0", accept:"*/*", X-Forwarded-Host:"localhost:8080,localhost:8082", Forwarded:"proto=http;host="localhost:8082";for="127.0.0.1:57890"", X-Forwarded-For:"127.0.0.1", X-Forwarded-Proto:"http", X-Forwarded-Prefix:"/api/users", X-Forwarded-Port:"8082"]
2025-10-18T05:19:11.886Z DEBUG 119791 --- [gateway-service] [     parallel-4] g.f.h.o.ObservedRequestHttpHeadersFilter : Client observation  {name=http.client.requests(null), error=null, context=name='http.client.requests', contextualName='null', error='null', lowCardinalityKeyValues=[http.method='GET', http.status_code='UNKNOWN', spring.cloud.gateway.route.id='user-service-public', spring.cloud.gateway.route.uri='http://localhost:8081'], highCardinalityKeyValues=[http.uri='http://localhost:8082/user/public'], map=[class io.micrometer.core.instrument.LongTaskTimer$Sample='SampleImpl{duration(seconds)=4.8562E-5, duration(nanos)=48562.0, startTimeNanos=8050306294894}', class io.micrometer.core.instrument.Timer$Sample='io.micrometer.core.instrument.Timer$Sample@5190adbc'], parentObservation=org.springframework.security.web.server.ObservationWebFilterChainDecorator$PhasedObservation@498b84ce} created for the request. New headers are [host:"localhost:8082", user-agent:"curl/7.81.0", accept:"*/*", X-Forwarded-Host:"localhost:8080,localhost:8082", Forwarded:"proto=http;host="localhost:8082";for="127.0.0.1:57890"", X-Forwarded-For:"127.0.0.1", X-Forwarded-Proto:"http", X-Forwarded-Prefix:"/api/users", X-Forwarded-Port:"8082"]
2025-10-18T05:19:11.887Z DEBUG 119791 --- [gateway-service] [or-http-epoll-4] r.n.resources.PooledConnectionProvider   : [e4051666] Created a new pooled channel, now: 0 active connections, 0 inactive connections 0 pending acquire requests.
2025-10-18T05:19:11.888Z DEBUG 119791 --- [gateway-service] [or-http-epoll-4] r.netty.transport.TransportConfig        : [e4051666] Initialized pipeline DefaultChannelPipeline{(reactor.left.httpCodec = io.netty.handler.codec.http.HttpClientCodec), (reactor.right.reactiveBridge = reactor.netty.channel.ChannelOperationsHandler)}
2025-10-18T05:19:11.888Z DEBUG 119791 --- [gateway-service] [or-http-epoll-4] r.netty.transport.TransportConnector     : [e4051666] Connecting to [localhost/127.0.0.1:8081].
2025-10-18T05:19:11.888Z DEBUG 119791 --- [gateway-service] [or-http-epoll-4] r.n.r.DefaultPooledConnectionProvider    : [e4051666, L:/127.0.0.1:49642 - R:localhost/127.0.0.1:8081] Registering pool release on close event for channel
2025-10-18T05:19:11.889Z DEBUG 119791 --- [gateway-service] [or-http-epoll-4] r.n.resources.PooledConnectionProvider   : [e4051666, L:/127.0.0.1:49642 - R:localhost/127.0.0.1:8081] Channel connected, now: 1 active connections, 0 inactive connections 0 pending acquire requests.
2025-10-18T05:19:11.889Z DEBUG 119791 --- [gateway-service] [or-http-epoll-4] r.n.r.DefaultPooledConnectionProvider    : [e4051666, L:/127.0.0.1:49642 - R:localhost/127.0.0.1:8081] onStateChange(PooledConnection{channel=[id: 0xe4051666, L:/127.0.0.1:49642 - R:localhost/127.0.0.1:8081]}, [connected])
2025-10-18T05:19:11.889Z DEBUG 119791 --- [gateway-service] [or-http-epoll-4] r.n.r.DefaultPooledConnectionProvider    : [e4051666-1, L:/127.0.0.1:49642 - R:localhost/127.0.0.1:8081] onStateChange(GET{uri=/, connection=PooledConnection{channel=[id: 0xe4051666, L:/127.0.0.1:49642 - R:localhost/127.0.0.1:8081]}}, [configured])
2025-10-18T05:19:11.889Z DEBUG 119791 --- [gateway-service] [or-http-epoll-4] r.netty.http.client.HttpClientConnect    : [e4051666-1, L:/127.0.0.1:49642 - R:localhost/127.0.0.1:8081] Handler is being applied: {uri=http://localhost:8081/user/public, method=GET}
2025-10-18T05:19:11.889Z DEBUG 119791 --- [gateway-service] [or-http-epoll-4] r.n.r.DefaultPooledConnectionProvider    : [e4051666-1, L:/127.0.0.1:49642 - R:localhost/127.0.0.1:8081] onStateChange(GET{uri=/user/public, connection=PooledConnection{channel=[id: 0xe4051666, L:/127.0.0.1:49642 - R:localhost/127.0.0.1:8081]}}, [request_prepared])
2025-10-18T05:19:11.891Z DEBUG 119791 --- [gateway-service] [or-http-epoll-4] r.n.r.DefaultPooledConnectionProvider    : [e4051666-1, L:/127.0.0.1:49642 - R:localhost/127.0.0.1:8081] onStateChange(GET{uri=/user/public, connection=PooledConnection{channel=[id: 0xe4051666, L:/127.0.0.1:49642 - R:localhost/127.0.0.1:8081]}}, [request_sent])
2025-10-18T05:19:11.894Z DEBUG 119791 --- [gateway-service] [or-http-epoll-4] r.n.http.client.HttpClientOperations     : [e4051666-1, L:/127.0.0.1:49642 - R:localhost/127.0.0.1:8081] Received response (auto-read:false) : RESPONSE(decodeResult: success, version: HTTP/1.1)
HTTP/1.1 200 
X-Content-Type-Options: <filtered>
X-XSS-Protection: <filtered>
Cache-Control: <filtered>
Pragma: <filtered>
Expires: <filtered>
X-Frame-Options: <filtered>
Content-Type: <filtered>
Transfer-Encoding: <filtered>
Date: <filtered>
2025-10-18T05:19:11.894Z DEBUG 119791 --- [gateway-service] [or-http-epoll-4] r.n.r.DefaultPooledConnectionProvider    : [e4051666-1, L:/127.0.0.1:49642 - R:localhost/127.0.0.1:8081] onStateChange(GET{uri=/user/public, connection=PooledConnection{channel=[id: 0xe4051666, L:/127.0.0.1:49642 - R:localhost/127.0.0.1:8081]}}, [response_received])
2025-10-18T05:19:11.894Z DEBUG 119791 --- [gateway-service] [or-http-epoll-4] .f.h.o.ObservedResponseHttpHeadersFilter : Will instrument the response
2025-10-18T05:19:11.894Z DEBUG 119791 --- [gateway-service] [or-http-epoll-4] .f.h.o.ObservedResponseHttpHeadersFilter : The response was handled for observation {name=http.client.requests(null), error=null, context=name='http.client.requests', contextualName='null', error='null', lowCardinalityKeyValues=[http.method='GET', http.status_code='UNKNOWN', spring.cloud.gateway.route.id='user-service-public', spring.cloud.gateway.route.uri='http://localhost:8081'], highCardinalityKeyValues=[http.uri='http://localhost:8082/user/public'], map=[class io.micrometer.core.instrument.LongTaskTimer$Sample='SampleImpl{duration(seconds)=0.008205387, duration(nanos)=8205387.0, startTimeNanos=8050306294894}', class io.micrometer.core.instrument.Timer$Sample='io.micrometer.core.instrument.Timer$Sample@5190adbc'], parentObservation=org.springframework.security.web.server.ObservationWebFilterChainDecorator$PhasedObservation@498b84ce}
2025-10-18T05:19:11.894Z DEBUG 119791 --- [gateway-service] [or-http-epoll-4] reactor.netty.channel.FluxReceive        : [e4051666-1, L:/127.0.0.1:49642 - R:localhost/127.0.0.1:8081] [terminated=false, cancelled=false, pending=0, error=null]: subscribing inbound receiver
2025-10-18T05:19:11.895Z DEBUG 119791 --- [gateway-service] [or-http-epoll-4] r.n.http.client.HttpClientOperations     : [e4051666-1, L:/127.0.0.1:49642 - R:localhost/127.0.0.1:8081] Received last HTTP packet
2025-10-18T05:19:11.896Z DEBUG 119791 --- [gateway-service] [or-http-epoll-4] r.n.r.DefaultPooledConnectionProvider    : [e4051666, L:/127.0.0.1:49642 - R:localhost/127.0.0.1:8081] onStateChange(GET{uri=/user/public, connection=PooledConnection{channel=[id: 0xe4051666, L:/127.0.0.1:49642 - R:localhost/127.0.0.1:8081]}}, [response_completed])
2025-10-18T05:19:11.896Z DEBUG 119791 --- [gateway-service] [or-http-epoll-4] r.n.r.DefaultPooledConnectionProvider    : [e4051666, L:/127.0.0.1:49642 - R:localhost/127.0.0.1:8081] onStateChange(GET{uri=/user/public, connection=PooledConnection{channel=[id: 0xe4051666, L:/127.0.0.1:49642 - R:localhost/127.0.0.1:8081]}}, [disconnecting])
2025-10-18T05:19:11.896Z DEBUG 119791 --- [gateway-service] [or-http-epoll-4] r.n.r.DefaultPooledConnectionProvider    : [e4051666, L:/127.0.0.1:49642 - R:localhost/127.0.0.1:8081] Releasing channel
2025-10-18T05:19:11.896Z DEBUG 119791 --- [gateway-service] [or-http-epoll-4] r.n.resources.PooledConnectionProvider   : [e4051666, L:/127.0.0.1:49642 - R:localhost/127.0.0.1:8081] Channel cleaned, now: 0 active connections, 1 inactive connections 0 pending acquire requests.
2025-10-18T05:19:11.905Z DEBUG 119791 --- [gateway-service] [     parallel-5] o.s.c.g.h.RoutePredicateHandlerMapping   : Route matched: user-service-protected
2025-10-18T05:19:11.905Z DEBUG 119791 --- [gateway-service] [     parallel-5] o.s.c.g.h.RoutePredicateHandlerMapping   : Mapping [Exchange: POST http://localhost:8082/api/users/user/register] to Route{id='user-service-protected', uri=http://localhost:8081, order=0, predicate=Paths: [/api/users/user/**], match trailing slash: true, gatewayFilters=[[[AddRequestHeader X-Forwarded-Host = 'localhost:8080'], order = 1], [[StripPrefix parts = 2], order = 1], [[DedupeResponseHeader Access-Control-Allow-Origin Access-Control-Allow-Credentials = RETAIN_UNIQUE], order = 2], [[AddResponseHeader X-Gateway-Routed = 'true'], order = 2]], metadata={}}
2025-10-18T05:19:11.905Z DEBUG 119791 --- [gateway-service] [     parallel-5] o.s.c.g.h.RoutePredicateHandlerMapping   : [3dbb6e60] Mapped to org.springframework.cloud.gateway.handler.FilteringWebHandler@685e6a68
2025-10-18T05:19:11.905Z DEBUG 119791 --- [gateway-service] [     parallel-5] o.s.c.g.handler.FilteringWebHandler      : Sorted gatewayFilterFactories: [[GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.RemoveCachedBodyFilter@c6a692e}, order = -2147483648], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.AdaptCachedBodyGlobalFilter@350d26f3}, order = -2147482648], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.NettyWriteResponseFilter@33215ffb}, order = -1], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ForwardPathFilter@17d2b646}, order = 0], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.GatewayMetricsFilter@7b3a6e95}, order = 0], [[AddRequestHeader X-Forwarded-Host = 'localhost:8080'], order = 1], [[StripPrefix parts = 2], order = 1], [[DedupeResponseHeader Access-Control-Allow-Origin Access-Control-Allow-Credentials = RETAIN_UNIQUE], order = 2], [[AddResponseHeader X-Gateway-Routed = 'true'], order = 2], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.RouteToRequestUrlFilter@27502e5c}, order = 10000], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.config.GatewayNoLoadBalancerClientAutoConfiguration$NoLoadBalancerClientFilter@8ac512e}, order = 10150], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.WebsocketRoutingFilter@323e026d}, order = 2147483646], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.NettyRoutingFilter@2bf3ec4}, order = 2147483647], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ForwardRoutingFilter@4b343b6d}, order = 2147483647]]
2025-10-18T05:19:11.906Z DEBUG 119791 --- [gateway-service] [     parallel-5] g.f.h.o.ObservedRequestHttpHeadersFilter : Will instrument the HTTP request headers [host:"localhost:8082", user-agent:"curl/7.81.0", accept:"*/*", content-type:"application/json", content-length:"99", X-Forwarded-Host:"localhost:8080,localhost:8082", Forwarded:"proto=http;host="localhost:8082";for="127.0.0.1:57902"", X-Forwarded-For:"127.0.0.1", X-Forwarded-Proto:"http", X-Forwarded-Prefix:"/api/users", X-Forwarded-Port:"8082"]
2025-10-18T05:19:11.906Z DEBUG 119791 --- [gateway-service] [     parallel-5] g.f.h.o.ObservedRequestHttpHeadersFilter : Client observation  {name=http.client.requests(null), error=null, context=name='http.client.requests', contextualName='null', error='null', lowCardinalityKeyValues=[http.method='POST', http.status_code='UNKNOWN', spring.cloud.gateway.route.id='user-service-protected', spring.cloud.gateway.route.uri='http://localhost:8081'], highCardinalityKeyValues=[http.uri='http://localhost:8082/user/register'], map=[class io.micrometer.core.instrument.LongTaskTimer$Sample='SampleImpl{duration(seconds)=3.9993E-5, duration(nanos)=39993.0, startTimeNanos=8050326190328}', class io.micrometer.core.instrument.Timer$Sample='io.micrometer.core.instrument.Timer$Sample@3562f446'], parentObservation=org.springframework.security.web.server.ObservationWebFilterChainDecorator$PhasedObservation@a24b161} created for the request. New headers are [host:"localhost:8082", user-agent:"curl/7.81.0", accept:"*/*", content-type:"application/json", content-length:"99", X-Forwarded-Host:"localhost:8080,localhost:8082", Forwarded:"proto=http;host="localhost:8082";for="127.0.0.1:57902"", X-Forwarded-For:"127.0.0.1", X-Forwarded-Proto:"http", X-Forwarded-Prefix:"/api/users", X-Forwarded-Port:"8082"]
2025-10-18T05:19:11.906Z DEBUG 119791 --- [gateway-service] [or-http-epoll-4] r.n.resources.PooledConnectionProvider   : [e4051666, L:/127.0.0.1:49642 - R:localhost/127.0.0.1:8081] Channel acquired, now: 1 active connections, 0 inactive connections 0 pending acquire requests.
2025-10-18T05:19:11.906Z DEBUG 119791 --- [gateway-service] [or-http-epoll-4] r.netty.http.client.HttpClientConnect    : [e4051666-2, L:/127.0.0.1:49642 - R:localhost/127.0.0.1:8081] Handler is being applied: {uri=http://localhost:8081/user/register, method=POST}
2025-10-18T05:19:11.906Z DEBUG 119791 --- [gateway-service] [or-http-epoll-4] r.n.r.DefaultPooledConnectionProvider    : [e4051666-2, L:/127.0.0.1:49642 - R:localhost/127.0.0.1:8081] onStateChange(POST{uri=/user/register, connection=PooledConnection{channel=[id: 0xe4051666, L:/127.0.0.1:49642 - R:localhost/127.0.0.1:8081]}}, [request_prepared])
2025-10-18T05:19:11.907Z DEBUG 119791 --- [gateway-service] [or-http-epoll-4] r.n.r.DefaultPooledConnectionProvider    : [e4051666-2, L:/127.0.0.1:49642 - R:localhost/127.0.0.1:8081] onStateChange(POST{uri=/user/register, connection=PooledConnection{channel=[id: 0xe4051666, L:/127.0.0.1:49642 - R:localhost/127.0.0.1:8081]}}, [request_sent])
2025-10-18T05:19:11.999Z DEBUG 119791 --- [gateway-service] [or-http-epoll-4] r.n.http.client.HttpClientOperations     : [e4051666-2, L:/127.0.0.1:49642 - R:localhost/127.0.0.1:8081] Received response (auto-read:false) : RESPONSE(decodeResult: success, version: HTTP/1.1)
HTTP/1.1 201 
X-Content-Type-Options: <filtered>
X-XSS-Protection: <filtered>
Cache-Control: <filtered>
Pragma: <filtered>
Expires: <filtered>
X-Frame-Options: <filtered>
Content-Type: <filtered>
Transfer-Encoding: <filtered>
Date: <filtered>
2025-10-18T05:19:11.999Z DEBUG 119791 --- [gateway-service] [or-http-epoll-4] r.n.r.DefaultPooledConnectionProvider    : [e4051666-2, L:/127.0.0.1:49642 - R:localhost/127.0.0.1:8081] onStateChange(POST{uri=/user/register, connection=PooledConnection{channel=[id: 0xe4051666, L:/127.0.0.1:49642 - R:localhost/127.0.0.1:8081]}}, [response_received])
2025-10-18T05:19:11.999Z DEBUG 119791 --- [gateway-service] [or-http-epoll-4] .f.h.o.ObservedResponseHttpHeadersFilter : Will instrument the response
2025-10-18T05:19:12.000Z DEBUG 119791 --- [gateway-service] [or-http-epoll-4] .f.h.o.ObservedResponseHttpHeadersFilter : The response was handled for observation {name=http.client.requests(null), error=null, context=name='http.client.requests', contextualName='null', error='null', lowCardinalityKeyValues=[http.method='POST', http.status_code='UNKNOWN', spring.cloud.gateway.route.id='user-service-protected', spring.cloud.gateway.route.uri='http://localhost:8081'], highCardinalityKeyValues=[http.uri='http://localhost:8082/user/register'], map=[class io.micrometer.core.instrument.LongTaskTimer$Sample='SampleImpl{duration(seconds)=0.093821884, duration(nanos)=9.3821884E7, startTimeNanos=8050326190328}', class io.micrometer.core.instrument.Timer$Sample='io.micrometer.core.instrument.Timer$Sample@3562f446'], parentObservation=org.springframework.security.web.server.ObservationWebFilterChainDecorator$PhasedObservation@a24b161}
2025-10-18T05:19:12.000Z DEBUG 119791 --- [gateway-service] [or-http-epoll-4] reactor.netty.channel.FluxReceive        : [e4051666-2, L:/127.0.0.1:49642 - R:localhost/127.0.0.1:8081] [terminated=false, cancelled=false, pending=0, error=null]: subscribing inbound receiver
2025-10-18T05:19:12.000Z DEBUG 119791 --- [gateway-service] [or-http-epoll-4] r.n.http.client.HttpClientOperations     : [e4051666-2, L:/127.0.0.1:49642 - R:localhost/127.0.0.1:8081] Received last HTTP packet
2025-10-18T05:19:12.001Z DEBUG 119791 --- [gateway-service] [or-http-epoll-4] r.n.r.DefaultPooledConnectionProvider    : [e4051666, L:/127.0.0.1:49642 - R:localhost/127.0.0.1:8081] onStateChange(POST{uri=/user/register, connection=PooledConnection{channel=[id: 0xe4051666, L:/127.0.0.1:49642 - R:localhost/127.0.0.1:8081]}}, [response_completed])
2025-10-18T05:19:12.001Z DEBUG 119791 --- [gateway-service] [or-http-epoll-4] r.n.r.DefaultPooledConnectionProvider    : [e4051666, L:/127.0.0.1:49642 - R:localhost/127.0.0.1:8081] onStateChange(POST{uri=/user/register, connection=PooledConnection{channel=[id: 0xe4051666, L:/127.0.0.1:49642 - R:localhost/127.0.0.1:8081]}}, [disconnecting])
2025-10-18T05:19:12.001Z DEBUG 119791 --- [gateway-service] [or-http-epoll-4] r.n.r.DefaultPooledConnectionProvider    : [e4051666, L:/127.0.0.1:49642 - R:localhost/127.0.0.1:8081] Releasing channel
2025-10-18T05:19:12.001Z DEBUG 119791 --- [gateway-service] [or-http-epoll-4] r.n.resources.PooledConnectionProvider   : [e4051666, L:/127.0.0.1:49642 - R:localhost/127.0.0.1:8081] Channel cleaned, now: 0 active connections, 1 inactive connections 0 pending acquire requests.
2025-10-18T05:19:12.023Z DEBUG 119791 --- [gateway-service] [     parallel-6] o.s.c.g.h.RoutePredicateHandlerMapping   : Route matched: user-service-protected
2025-10-18T05:19:12.023Z DEBUG 119791 --- [gateway-service] [     parallel-6] o.s.c.g.h.RoutePredicateHandlerMapping   : Mapping [Exchange: POST http://localhost:8082/api/users/user/login] to Route{id='user-service-protected', uri=http://localhost:8081, order=0, predicate=Paths: [/api/users/user/**], match trailing slash: true, gatewayFilters=[[[AddRequestHeader X-Forwarded-Host = 'localhost:8080'], order = 1], [[StripPrefix parts = 2], order = 1], [[DedupeResponseHeader Access-Control-Allow-Origin Access-Control-Allow-Credentials = RETAIN_UNIQUE], order = 2], [[AddResponseHeader X-Gateway-Routed = 'true'], order = 2]], metadata={}}
2025-10-18T05:19:12.023Z DEBUG 119791 --- [gateway-service] [     parallel-6] o.s.c.g.h.RoutePredicateHandlerMapping   : [30e8c998] Mapped to org.springframework.cloud.gateway.handler.FilteringWebHandler@685e6a68
2025-10-18T05:19:12.023Z DEBUG 119791 --- [gateway-service] [     parallel-6] o.s.c.g.handler.FilteringWebHandler      : Sorted gatewayFilterFactories: [[GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.RemoveCachedBodyFilter@c6a692e}, order = -2147483648], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.AdaptCachedBodyGlobalFilter@350d26f3}, order = -2147482648], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.NettyWriteResponseFilter@33215ffb}, order = -1], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ForwardPathFilter@17d2b646}, order = 0], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.GatewayMetricsFilter@7b3a6e95}, order = 0], [[AddRequestHeader X-Forwarded-Host = 'localhost:8080'], order = 1], [[StripPrefix parts = 2], order = 1], [[DedupeResponseHeader Access-Control-Allow-Origin Access-Control-Allow-Credentials = RETAIN_UNIQUE], order = 2], [[AddResponseHeader X-Gateway-Routed = 'true'], order = 2], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.RouteToRequestUrlFilter@27502e5c}, order = 10000], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.config.GatewayNoLoadBalancerClientAutoConfiguration$NoLoadBalancerClientFilter@8ac512e}, order = 10150], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.WebsocketRoutingFilter@323e026d}, order = 2147483646], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.NettyRoutingFilter@2bf3ec4}, order = 2147483647], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ForwardRoutingFilter@4b343b6d}, order = 2147483647]]
2025-10-18T05:19:12.024Z DEBUG 119791 --- [gateway-service] [     parallel-6] g.f.h.o.ObservedRequestHttpHeadersFilter : Will instrument the HTTP request headers [host:"localhost:8082", user-agent:"curl/7.81.0", accept:"*/*", content-type:"application/json", content-length:"61", X-Forwarded-Host:"localhost:8080,localhost:8082", Forwarded:"proto=http;host="localhost:8082";for="127.0.0.1:57904"", X-Forwarded-For:"127.0.0.1", X-Forwarded-Proto:"http", X-Forwarded-Prefix:"/api/users", X-Forwarded-Port:"8082"]
2025-10-18T05:19:12.024Z DEBUG 119791 --- [gateway-service] [     parallel-6] g.f.h.o.ObservedRequestHttpHeadersFilter : Client observation  {name=http.client.requests(null), error=null, context=name='http.client.requests', contextualName='null', error='null', lowCardinalityKeyValues=[http.method='POST', http.status_code='UNKNOWN', spring.cloud.gateway.route.id='user-service-protected', spring.cloud.gateway.route.uri='http://localhost:8081'], highCardinalityKeyValues=[http.uri='http://localhost:8082/user/login'], map=[class io.micrometer.core.instrument.LongTaskTimer$Sample='SampleImpl{duration(seconds)=5.5512E-5, duration(nanos)=55512.0, startTimeNanos=8050444332411}', class io.micrometer.core.instrument.Timer$Sample='io.micrometer.core.instrument.Timer$Sample@450e7b'], parentObservation=org.springframework.security.web.server.ObservationWebFilterChainDecorator$PhasedObservation@74ccfb18} created for the request. New headers are [host:"localhost:8082", user-agent:"curl/7.81.0", accept:"*/*", content-type:"application/json", content-length:"61", X-Forwarded-Host:"localhost:8080,localhost:8082", Forwarded:"proto=http;host="localhost:8082";for="127.0.0.1:57904"", X-Forwarded-For:"127.0.0.1", X-Forwarded-Proto:"http", X-Forwarded-Prefix:"/api/users", X-Forwarded-Port:"8082"]
2025-10-18T05:19:12.024Z DEBUG 119791 --- [gateway-service] [or-http-epoll-4] r.n.resources.PooledConnectionProvider   : [e4051666, L:/127.0.0.1:49642 - R:localhost/127.0.0.1:8081] Channel acquired, now: 1 active connections, 0 inactive connections 0 pending acquire requests.
2025-10-18T05:19:12.025Z DEBUG 119791 --- [gateway-service] [or-http-epoll-4] r.netty.http.client.HttpClientConnect    : [e4051666-3, L:/127.0.0.1:49642 - R:localhost/127.0.0.1:8081] Handler is being applied: {uri=http://localhost:8081/user/login, method=POST}
2025-10-18T05:19:12.025Z DEBUG 119791 --- [gateway-service] [or-http-epoll-4] r.n.r.DefaultPooledConnectionProvider    : [e4051666-3, L:/127.0.0.1:49642 - R:localhost/127.0.0.1:8081] onStateChange(POST{uri=/user/login, connection=PooledConnection{channel=[id: 0xe4051666, L:/127.0.0.1:49642 - R:localhost/127.0.0.1:8081]}}, [request_prepared])
2025-10-18T05:19:12.025Z DEBUG 119791 --- [gateway-service] [or-http-epoll-4] r.n.r.DefaultPooledConnectionProvider    : [e4051666-3, L:/127.0.0.1:49642 - R:localhost/127.0.0.1:8081] onStateChange(POST{uri=/user/login, connection=PooledConnection{channel=[id: 0xe4051666, L:/127.0.0.1:49642 - R:localhost/127.0.0.1:8081]}}, [request_sent])
2025-10-18T05:19:12.115Z DEBUG 119791 --- [gateway-service] [or-http-epoll-4] r.n.http.client.HttpClientOperations     : [e4051666-3, L:/127.0.0.1:49642 - R:localhost/127.0.0.1:8081] Received response (auto-read:false) : RESPONSE(decodeResult: success, version: HTTP/1.1)
HTTP/1.1 200 
X-Content-Type-Options: <filtered>
X-XSS-Protection: <filtered>
Cache-Control: <filtered>
Pragma: <filtered>
Expires: <filtered>
X-Frame-Options: <filtered>
Content-Type: <filtered>
Transfer-Encoding: <filtered>
Date: <filtered>
2025-10-18T05:19:12.115Z DEBUG 119791 --- [gateway-service] [or-http-epoll-4] r.n.r.DefaultPooledConnectionProvider    : [e4051666-3, L:/127.0.0.1:49642 - R:localhost/127.0.0.1:8081] onStateChange(POST{uri=/user/login, connection=PooledConnection{channel=[id: 0xe4051666, L:/127.0.0.1:49642 - R:localhost/127.0.0.1:8081]}}, [response_received])
2025-10-18T05:19:12.115Z DEBUG 119791 --- [gateway-service] [or-http-epoll-4] .f.h.o.ObservedResponseHttpHeadersFilter : Will instrument the response
2025-10-18T05:19:12.115Z DEBUG 119791 --- [gateway-service] [or-http-epoll-4] .f.h.o.ObservedResponseHttpHeadersFilter : The response was handled for observation {name=http.client.requests(null), error=null, context=name='http.client.requests', contextualName='null', error='null', lowCardinalityKeyValues=[http.method='POST', http.status_code='UNKNOWN', spring.cloud.gateway.route.id='user-service-protected', spring.cloud.gateway.route.uri='http://localhost:8081'], highCardinalityKeyValues=[http.uri='http://localhost:8082/user/login'], map=[class io.micrometer.core.instrument.LongTaskTimer$Sample='SampleImpl{duration(seconds)=0.091532233, duration(nanos)=9.1532233E7, startTimeNanos=8050444332411}', class io.micrometer.core.instrument.Timer$Sample='io.micrometer.core.instrument.Timer$Sample@450e7b'], parentObservation=org.springframework.security.web.server.ObservationWebFilterChainDecorator$PhasedObservation@74ccfb18}
2025-10-18T05:19:12.116Z DEBUG 119791 --- [gateway-service] [or-http-epoll-4] reactor.netty.channel.FluxReceive        : [e4051666-3, L:/127.0.0.1:49642 - R:localhost/127.0.0.1:8081] [terminated=false, cancelled=false, pending=0, error=null]: subscribing inbound receiver
2025-10-18T05:19:12.116Z DEBUG 119791 --- [gateway-service] [or-http-epoll-4] r.n.http.client.HttpClientOperations     : [e4051666-3, L:/127.0.0.1:49642 - R:localhost/127.0.0.1:8081] Received last HTTP packet
2025-10-18T05:19:12.117Z DEBUG 119791 --- [gateway-service] [or-http-epoll-4] r.n.r.DefaultPooledConnectionProvider    : [e4051666, L:/127.0.0.1:49642 - R:localhost/127.0.0.1:8081] onStateChange(POST{uri=/user/login, connection=PooledConnection{channel=[id: 0xe4051666, L:/127.0.0.1:49642 - R:localhost/127.0.0.1:8081]}}, [response_completed])
2025-10-18T05:19:12.117Z DEBUG 119791 --- [gateway-service] [or-http-epoll-4] r.n.r.DefaultPooledConnectionProvider    : [e4051666, L:/127.0.0.1:49642 - R:localhost/127.0.0.1:8081] onStateChange(POST{uri=/user/login, connection=PooledConnection{channel=[id: 0xe4051666, L:/127.0.0.1:49642 - R:localhost/127.0.0.1:8081]}}, [disconnecting])
2025-10-18T05:19:12.117Z DEBUG 119791 --- [gateway-service] [or-http-epoll-4] r.n.r.DefaultPooledConnectionProvider    : [e4051666, L:/127.0.0.1:49642 - R:localhost/127.0.0.1:8081] Releasing channel
2025-10-18T05:19:12.117Z DEBUG 119791 --- [gateway-service] [or-http-epoll-4] r.n.resources.PooledConnectionProvider   : [e4051666, L:/127.0.0.1:49642 - R:localhost/127.0.0.1:8081] Channel cleaned, now: 0 active connections, 1 inactive connections 0 pending acquire requests.
2025-10-18T05:19:12.155Z DEBUG 119791 --- [gateway-service] [     parallel-7] o.s.c.g.h.RoutePredicateHandlerMapping   : Route matched: user-service-protected
2025-10-18T05:19:12.155Z DEBUG 119791 --- [gateway-service] [     parallel-7] o.s.c.g.h.RoutePredicateHandlerMapping   : Mapping [Exchange: POST http://localhost:8082/api/users/user/profile] to Route{id='user-service-protected', uri=http://localhost:8081, order=0, predicate=Paths: [/api/users/user/**], match trailing slash: true, gatewayFilters=[[[AddRequestHeader X-Forwarded-Host = 'localhost:8080'], order = 1], [[StripPrefix parts = 2], order = 1], [[DedupeResponseHeader Access-Control-Allow-Origin Access-Control-Allow-Credentials = RETAIN_UNIQUE], order = 2], [[AddResponseHeader X-Gateway-Routed = 'true'], order = 2]], metadata={}}
2025-10-18T05:19:12.155Z DEBUG 119791 --- [gateway-service] [     parallel-7] o.s.c.g.h.RoutePredicateHandlerMapping   : [58cb4784] Mapped to org.springframework.cloud.gateway.handler.FilteringWebHandler@685e6a68
2025-10-18T05:19:12.155Z DEBUG 119791 --- [gateway-service] [     parallel-7] o.s.c.g.handler.FilteringWebHandler      : Sorted gatewayFilterFactories: [[GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.RemoveCachedBodyFilter@c6a692e}, order = -2147483648], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.AdaptCachedBodyGlobalFilter@350d26f3}, order = -2147482648], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.NettyWriteResponseFilter@33215ffb}, order = -1], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ForwardPathFilter@17d2b646}, order = 0], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.GatewayMetricsFilter@7b3a6e95}, order = 0], [[AddRequestHeader X-Forwarded-Host = 'localhost:8080'], order = 1], [[StripPrefix parts = 2], order = 1], [[DedupeResponseHeader Access-Control-Allow-Origin Access-Control-Allow-Credentials = RETAIN_UNIQUE], order = 2], [[AddResponseHeader X-Gateway-Routed = 'true'], order = 2], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.RouteToRequestUrlFilter@27502e5c}, order = 10000], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.config.GatewayNoLoadBalancerClientAutoConfiguration$NoLoadBalancerClientFilter@8ac512e}, order = 10150], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.WebsocketRoutingFilter@323e026d}, order = 2147483646], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.NettyRoutingFilter@2bf3ec4}, order = 2147483647], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ForwardRoutingFilter@4b343b6d}, order = 2147483647]]
2025-10-18T05:19:12.156Z DEBUG 119791 --- [gateway-service] [     parallel-7] g.f.h.o.ObservedRequestHttpHeadersFilter : Will instrument the HTTP request headers [host:"localhost:8082", user-agent:"curl/7.81.0", accept:"*/*", content-type:"application/json", authorization:"Bearer eyJhbGciOiJIUzI1NiJ9.eyJzdWIiOiJmaW5hbHVzZXJfMTc2MDc2NDc1MSIsImlhdCI6MTc2MDc2NDc1MiwiZXhwIjoxNzYwODUxMTUyfQ.7lgvhfIvgFg6ix8TwX59IfD-PiYaMcxK9M6X6iyuzpY", content-length:"100", X-Forwarded-Host:"localhost:8080,localhost:8082", Forwarded:"proto=http;host="localhost:8082";for="127.0.0.1:57906"", X-Forwarded-For:"127.0.0.1", X-Forwarded-Proto:"http", X-Forwarded-Prefix:"/api/users", X-Forwarded-Port:"8082"]
2025-10-18T05:19:12.156Z DEBUG 119791 --- [gateway-service] [     parallel-7] g.f.h.o.ObservedRequestHttpHeadersFilter : Client observation  {name=http.client.requests(null), error=null, context=name='http.client.requests', contextualName='null', error='null', lowCardinalityKeyValues=[http.method='POST', http.status_code='UNKNOWN', spring.cloud.gateway.route.id='user-service-protected', spring.cloud.gateway.route.uri='http://localhost:8081'], highCardinalityKeyValues=[http.uri='http://localhost:8082/user/profile'], map=[class io.micrometer.core.instrument.LongTaskTimer$Sample='SampleImpl{duration(seconds)=3.5903E-5, duration(nanos)=35903.0, startTimeNanos=8050576199183}', class io.micrometer.core.instrument.Timer$Sample='io.micrometer.core.instrument.Timer$Sample@61c6694f'], parentObservation=org.springframework.security.web.server.ObservationWebFilterChainDecorator$PhasedObservation@3e726477} created for the request. New headers are [host:"localhost:8082", user-agent:"curl/7.81.0", accept:"*/*", content-type:"application/json", authorization:"Bearer eyJhbGciOiJIUzI1NiJ9.eyJzdWIiOiJmaW5hbHVzZXJfMTc2MDc2NDc1MSIsImlhdCI6MTc2MDc2NDc1MiwiZXhwIjoxNzYwODUxMTUyfQ.7lgvhfIvgFg6ix8TwX59IfD-PiYaMcxK9M6X6iyuzpY", content-length:"100", X-Forwarded-Host:"localhost:8080,localhost:8082", Forwarded:"proto=http;host="localhost:8082";for="127.0.0.1:57906"", X-Forwarded-For:"127.0.0.1", X-Forwarded-Proto:"http", X-Forwarded-Prefix:"/api/users", X-Forwarded-Port:"8082"]
2025-10-18T05:19:12.156Z DEBUG 119791 --- [gateway-service] [or-http-epoll-4] r.n.resources.PooledConnectionProvider   : [e4051666, L:/127.0.0.1:49642 - R:localhost/127.0.0.1:8081] Channel acquired, now: 1 active connections, 0 inactive connections 0 pending acquire requests.
2025-10-18T05:19:12.156Z DEBUG 119791 --- [gateway-service] [or-http-epoll-4] r.netty.http.client.HttpClientConnect    : [e4051666-4, L:/127.0.0.1:49642 - R:localhost/127.0.0.1:8081] Handler is being applied: {uri=http://localhost:8081/user/profile, method=POST}
2025-10-18T05:19:12.156Z DEBUG 119791 --- [gateway-service] [or-http-epoll-4] r.n.r.DefaultPooledConnectionProvider    : [e4051666-4, L:/127.0.0.1:49642 - R:localhost/127.0.0.1:8081] onStateChange(POST{uri=/user/profile, connection=PooledConnection{channel=[id: 0xe4051666, L:/127.0.0.1:49642 - R:localhost/127.0.0.1:8081]}}, [request_prepared])
2025-10-18T05:19:12.157Z DEBUG 119791 --- [gateway-service] [or-http-epoll-4] r.n.r.DefaultPooledConnectionProvider    : [e4051666-4, L:/127.0.0.1:49642 - R:localhost/127.0.0.1:8081] onStateChange(POST{uri=/user/profile, connection=PooledConnection{channel=[id: 0xe4051666, L:/127.0.0.1:49642 - R:localhost/127.0.0.1:8081]}}, [request_sent])
2025-10-18T05:19:12.170Z DEBUG 119791 --- [gateway-service] [or-http-epoll-4] r.n.http.client.HttpClientOperations     : [e4051666-4, L:/127.0.0.1:49642 - R:localhost/127.0.0.1:8081] Received response (auto-read:false) : RESPONSE(decodeResult: success, version: HTTP/1.1)
HTTP/1.1 201 
X-Content-Type-Options: <filtered>
X-XSS-Protection: <filtered>
Cache-Control: <filtered>
Pragma: <filtered>
Expires: <filtered>
X-Frame-Options: <filtered>
Content-Type: <filtered>
Transfer-Encoding: <filtered>
Date: <filtered>
2025-10-18T05:19:12.171Z DEBUG 119791 --- [gateway-service] [or-http-epoll-4] r.n.r.DefaultPooledConnectionProvider    : [e4051666-4, L:/127.0.0.1:49642 - R:localhost/127.0.0.1:8081] onStateChange(POST{uri=/user/profile, connection=PooledConnection{channel=[id: 0xe4051666, L:/127.0.0.1:49642 - R:localhost/127.0.0.1:8081]}}, [response_received])
2025-10-18T05:19:12.171Z DEBUG 119791 --- [gateway-service] [or-http-epoll-4] .f.h.o.ObservedResponseHttpHeadersFilter : Will instrument the response
2025-10-18T05:19:12.171Z DEBUG 119791 --- [gateway-service] [or-http-epoll-4] .f.h.o.ObservedResponseHttpHeadersFilter : The response was handled for observation {name=http.client.requests(null), error=null, context=name='http.client.requests', contextualName='null', error='null', lowCardinalityKeyValues=[http.method='POST', http.status_code='UNKNOWN', spring.cloud.gateway.route.id='user-service-protected', spring.cloud.gateway.route.uri='http://localhost:8081'], highCardinalityKeyValues=[http.uri='http://localhost:8082/user/profile'], map=[class io.micrometer.core.instrument.LongTaskTimer$Sample='SampleImpl{duration(seconds)=0.015155565, duration(nanos)=1.5155565E7, startTimeNanos=8050576199183}', class io.micrometer.core.instrument.Timer$Sample='io.micrometer.core.instrument.Timer$Sample@61c6694f'], parentObservation=org.springframework.security.web.server.ObservationWebFilterChainDecorator$PhasedObservation@3e726477}
2025-10-18T05:19:12.171Z DEBUG 119791 --- [gateway-service] [or-http-epoll-4] reactor.netty.channel.FluxReceive        : [e4051666-4, L:/127.0.0.1:49642 - R:localhost/127.0.0.1:8081] [terminated=false, cancelled=false, pending=0, error=null]: subscribing inbound receiver
2025-10-18T05:19:12.172Z DEBUG 119791 --- [gateway-service] [or-http-epoll-4] r.n.http.client.HttpClientOperations     : [e4051666-4, L:/127.0.0.1:49642 - R:localhost/127.0.0.1:8081] Received last HTTP packet
2025-10-18T05:19:12.172Z DEBUG 119791 --- [gateway-service] [or-http-epoll-4] r.n.r.DefaultPooledConnectionProvider    : [e4051666, L:/127.0.0.1:49642 - R:localhost/127.0.0.1:8081] onStateChange(POST{uri=/user/profile, connection=PooledConnection{channel=[id: 0xe4051666, L:/127.0.0.1:49642 - R:localhost/127.0.0.1:8081]}}, [response_completed])
2025-10-18T05:19:12.172Z DEBUG 119791 --- [gateway-service] [or-http-epoll-4] r.n.r.DefaultPooledConnectionProvider    : [e4051666, L:/127.0.0.1:49642 - R:localhost/127.0.0.1:8081] onStateChange(POST{uri=/user/profile, connection=PooledConnection{channel=[id: 0xe4051666, L:/127.0.0.1:49642 - R:localhost/127.0.0.1:8081]}}, [disconnecting])
2025-10-18T05:19:12.173Z DEBUG 119791 --- [gateway-service] [or-http-epoll-4] r.n.r.DefaultPooledConnectionProvider    : [e4051666, L:/127.0.0.1:49642 - R:localhost/127.0.0.1:8081] Releasing channel
2025-10-18T05:19:12.173Z DEBUG 119791 --- [gateway-service] [or-http-epoll-4] r.n.resources.PooledConnectionProvider   : [e4051666, L:/127.0.0.1:49642 - R:localhost/127.0.0.1:8081] Channel cleaned, now: 0 active connections, 1 inactive connections 0 pending acquire requests.
2025-10-18T05:19:12.196Z DEBUG 119791 --- [gateway-service] [     parallel-8] o.s.c.g.h.RoutePredicateHandlerMapping   : Route matched: user-service-protected
2025-10-18T05:19:12.196Z DEBUG 119791 --- [gateway-service] [     parallel-8] o.s.c.g.h.RoutePredicateHandlerMapping   : Mapping [Exchange: GET http://localhost:8082/api/users/user/profile] to Route{id='user-service-protected', uri=http://localhost:8081, order=0, predicate=Paths: [/api/users/user/**], match trailing slash: true, gatewayFilters=[[[AddRequestHeader X-Forwarded-Host = 'localhost:8080'], order = 1], [[StripPrefix parts = 2], order = 1], [[DedupeResponseHeader Access-Control-Allow-Origin Access-Control-Allow-Credentials = RETAIN_UNIQUE], order = 2], [[AddResponseHeader X-Gateway-Routed = 'true'], order = 2]], metadata={}}
2025-10-18T05:19:12.196Z DEBUG 119791 --- [gateway-service] [     parallel-8] o.s.c.g.h.RoutePredicateHandlerMapping   : [b14867f] Mapped to org.springframework.cloud.gateway.handler.FilteringWebHandler@685e6a68
2025-10-18T05:19:12.196Z DEBUG 119791 --- [gateway-service] [     parallel-8] o.s.c.g.handler.FilteringWebHandler      : Sorted gatewayFilterFactories: [[GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.RemoveCachedBodyFilter@c6a692e}, order = -2147483648], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.AdaptCachedBodyGlobalFilter@350d26f3}, order = -2147482648], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.NettyWriteResponseFilter@33215ffb}, order = -1], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ForwardPathFilter@17d2b646}, order = 0], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.GatewayMetricsFilter@7b3a6e95}, order = 0], [[AddRequestHeader X-Forwarded-Host = 'localhost:8080'], order = 1], [[StripPrefix parts = 2], order = 1], [[DedupeResponseHeader Access-Control-Allow-Origin Access-Control-Allow-Credentials = RETAIN_UNIQUE], order = 2], [[AddResponseHeader X-Gateway-Routed = 'true'], order = 2], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.RouteToRequestUrlFilter@27502e5c}, order = 10000], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.config.GatewayNoLoadBalancerClientAutoConfiguration$NoLoadBalancerClientFilter@8ac512e}, order = 10150], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.WebsocketRoutingFilter@323e026d}, order = 2147483646], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.NettyRoutingFilter@2bf3ec4}, order = 2147483647], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ForwardRoutingFilter@4b343b6d}, order = 2147483647]]
2025-10-18T05:19:12.197Z DEBUG 119791 --- [gateway-service] [     parallel-8] g.f.h.o.ObservedRequestHttpHeadersFilter : Will instrument the HTTP request headers [host:"localhost:8082", user-agent:"curl/7.81.0", accept:"*/*", authorization:"Bearer eyJhbGciOiJIUzI1NiJ9.eyJzdWIiOiJmaW5hbHVzZXJfMTc2MDc2NDc1MSIsImlhdCI6MTc2MDc2NDc1MiwiZXhwIjoxNzYwODUxMTUyfQ.7lgvhfIvgFg6ix8TwX59IfD-PiYaMcxK9M6X6iyuzpY", X-Forwarded-Host:"localhost:8080,localhost:8082", Forwarded:"proto=http;host="localhost:8082";for="127.0.0.1:57908"", X-Forwarded-For:"127.0.0.1", X-Forwarded-Proto:"http", X-Forwarded-Prefix:"/api/users", X-Forwarded-Port:"8082"]
2025-10-18T05:19:12.197Z DEBUG 119791 --- [gateway-service] [     parallel-8] g.f.h.o.ObservedRequestHttpHeadersFilter : Client observation  {name=http.client.requests(null), error=null, context=name='http.client.requests', contextualName='null', error='null', lowCardinalityKeyValues=[http.method='GET', http.status_code='UNKNOWN', spring.cloud.gateway.route.id='user-service-protected', spring.cloud.gateway.route.uri='http://localhost:8081'], highCardinalityKeyValues=[http.uri='http://localhost:8082/user/profile'], map=[class io.micrometer.core.instrument.LongTaskTimer$Sample='SampleImpl{duration(seconds)=4.226E-5, duration(nanos)=42260.0, startTimeNanos=8050617568261}', class io.micrometer.core.instrument.Timer$Sample='io.micrometer.core.instrument.Timer$Sample@92aeff6'], parentObservation=org.springframework.security.web.server.ObservationWebFilterChainDecorator$PhasedObservation@3a736805} created for the request. New headers are [host:"localhost:8082", user-agent:"curl/7.81.0", accept:"*/*", authorization:"Bearer eyJhbGciOiJIUzI1NiJ9.eyJzdWIiOiJmaW5hbHVzZXJfMTc2MDc2NDc1MSIsImlhdCI6MTc2MDc2NDc1MiwiZXhwIjoxNzYwODUxMTUyfQ.7lgvhfIvgFg6ix8TwX59IfD-PiYaMcxK9M6X6iyuzpY", X-Forwarded-Host:"localhost:8080,localhost:8082", Forwarded:"proto=http;host="localhost:8082";for="127.0.0.1:57908"", X-Forwarded-For:"127.0.0.1", X-Forwarded-Proto:"http", X-Forwarded-Prefix:"/api/users", X-Forwarded-Port:"8082"]
2025-10-18T05:19:12.198Z DEBUG 119791 --- [gateway-service] [or-http-epoll-4] r.n.resources.PooledConnectionProvider   : [e4051666, L:/127.0.0.1:49642 - R:localhost/127.0.0.1:8081] Channel acquired, now: 1 active connections, 0 inactive connections 0 pending acquire requests.
2025-10-18T05:19:12.198Z DEBUG 119791 --- [gateway-service] [or-http-epoll-4] r.netty.http.client.HttpClientConnect    : [e4051666-5, L:/127.0.0.1:49642 - R:localhost/127.0.0.1:8081] Handler is being applied: {uri=http://localhost:8081/user/profile, method=GET}
2025-10-18T05:19:12.198Z DEBUG 119791 --- [gateway-service] [or-http-epoll-4] r.n.r.DefaultPooledConnectionProvider    : [e4051666-5, L:/127.0.0.1:49642 - R:localhost/127.0.0.1:8081] onStateChange(GET{uri=/user/profile, connection=PooledConnection{channel=[id: 0xe4051666, L:/127.0.0.1:49642 - R:localhost/127.0.0.1:8081]}}, [request_prepared])
2025-10-18T05:19:12.199Z DEBUG 119791 --- [gateway-service] [or-http-epoll-4] r.n.r.DefaultPooledConnectionProvider    : [e4051666-5, L:/127.0.0.1:49642 - R:localhost/127.0.0.1:8081] onStateChange(GET{uri=/user/profile, connection=PooledConnection{channel=[id: 0xe4051666, L:/127.0.0.1:49642 - R:localhost/127.0.0.1:8081]}}, [request_sent])
2025-10-18T05:19:12.209Z DEBUG 119791 --- [gateway-service] [or-http-epoll-4] r.n.http.client.HttpClientOperations     : [e4051666-5, L:/127.0.0.1:49642 - R:localhost/127.0.0.1:8081] Received response (auto-read:false) : RESPONSE(decodeResult: success, version: HTTP/1.1)
HTTP/1.1 200 
X-Content-Type-Options: <filtered>
X-XSS-Protection: <filtered>
Cache-Control: <filtered>
Pragma: <filtered>
Expires: <filtered>
X-Frame-Options: <filtered>
Content-Type: <filtered>
Transfer-Encoding: <filtered>
Date: <filtered>
2025-10-18T05:19:12.209Z DEBUG 119791 --- [gateway-service] [or-http-epoll-4] r.n.r.DefaultPooledConnectionProvider    : [e4051666-5, L:/127.0.0.1:49642 - R:localhost/127.0.0.1:8081] onStateChange(GET{uri=/user/profile, connection=PooledConnection{channel=[id: 0xe4051666, L:/127.0.0.1:49642 - R:localhost/127.0.0.1:8081]}}, [response_received])
2025-10-18T05:19:12.209Z DEBUG 119791 --- [gateway-service] [or-http-epoll-4] .f.h.o.ObservedResponseHttpHeadersFilter : Will instrument the response
2025-10-18T05:19:12.209Z DEBUG 119791 --- [gateway-service] [or-http-epoll-4] .f.h.o.ObservedResponseHttpHeadersFilter : The response was handled for observation {name=http.client.requests(null), error=null, context=name='http.client.requests', contextualName='null', error='null', lowCardinalityKeyValues=[http.method='GET', http.status_code='UNKNOWN', spring.cloud.gateway.route.id='user-service-protected', spring.cloud.gateway.route.uri='http://localhost:8081'], highCardinalityKeyValues=[http.uri='http://localhost:8082/user/profile'], map=[class io.micrometer.core.instrument.LongTaskTimer$Sample='SampleImpl{duration(seconds)=0.011979791, duration(nanos)=1.1979791E7, startTimeNanos=8050617568261}', class io.micrometer.core.instrument.Timer$Sample='io.micrometer.core.instrument.Timer$Sample@92aeff6'], parentObservation=org.springframework.security.web.server.ObservationWebFilterChainDecorator$PhasedObservation@3a736805}
2025-10-18T05:19:12.209Z DEBUG 119791 --- [gateway-service] [or-http-epoll-4] reactor.netty.channel.FluxReceive        : [e4051666-5, L:/127.0.0.1:49642 - R:localhost/127.0.0.1:8081] [terminated=false, cancelled=false, pending=0, error=null]: subscribing inbound receiver
2025-10-18T05:19:12.212Z DEBUG 119791 --- [gateway-service] [or-http-epoll-4] r.n.http.client.HttpClientOperations     : [e4051666-5, L:/127.0.0.1:49642 - R:localhost/127.0.0.1:8081] Http client inbound receiver cancelled, closing channel.
2025-10-18T05:19:12.213Z DEBUG 119791 --- [gateway-service] [or-http-epoll-4] r.n.resources.PooledConnectionProvider   : [e4051666-5, L:/127.0.0.1:49642 ! R:localhost/127.0.0.1:8081] Channel closed, now: 0 active connections, 0 inactive connections 0 pending acquire requests.
2025-10-18T05:19:12.213Z DEBUG 119791 --- [gateway-service] [or-http-epoll-4] reactor.netty.channel.FluxReceive        : [e4051666-5, L:/127.0.0.1:49642 ! R:localhost/127.0.0.1:8081] [terminated=false, cancelled=true, pending=8, error=null]: dropping frame CONTENT(decodeResult: success, content: PooledSlicedByteBuf(ridx: 0, widx: 8192, cap: 8192/8192, unwrapped: PooledUnsafeDirectByteBuf(ridx: 65536, widx: 65536, cap: 65536)))
2025-10-18T05:19:12.213Z DEBUG 119791 --- [gateway-service] [or-http-epoll-4] reactor.netty.channel.FluxReceive        : [e4051666-5, L:/127.0.0.1:49642 ! R:localhost/127.0.0.1:8081] [terminated=false, cancelled=true, pending=7, error=null]: dropping frame CONTENT(decodeResult: success, content: PooledSlicedByteBuf(ridx: 0, widx: 8192, cap: 8192/8192, unwrapped: PooledUnsafeDirectByteBuf(ridx: 65536, widx: 65536, cap: 65536)))
2025-10-18T05:19:12.213Z DEBUG 119791 --- [gateway-service] [or-http-epoll-4] reactor.netty.channel.FluxReceive        : [e4051666-5, L:/127.0.0.1:49642 ! R:localhost/127.0.0.1:8081] [terminated=false, cancelled=true, pending=6, error=null]: dropping frame CONTENT(decodeResult: success, content: PooledSlicedByteBuf(ridx: 0, widx: 3742, cap: 3742/3742, unwrapped: PooledUnsafeDirectByteBuf(ridx: 65536, widx: 65536, cap: 65536)))
2025-10-18T05:19:12.213Z DEBUG 119791 --- [gateway-service] [or-http-epoll-4] reactor.netty.channel.FluxReceive        : [e4051666-5, L:/127.0.0.1:49642 ! R:localhost/127.0.0.1:8081] [terminated=false, cancelled=true, pending=5, error=null]: dropping frame CONTENT(decodeResult: success, content: PooledSlicedByteBuf(ridx: 0, widx: 4450, cap: 4450/4450, unwrapped: PooledUnsafeDirectByteBuf(ridx: 45056, widx: 45056, cap: 65536)))
2025-10-18T05:19:12.213Z DEBUG 119791 --- [gateway-service] [or-http-epoll-4] reactor.netty.channel.FluxReceive        : [e4051666-5, L:/127.0.0.1:49642 ! R:localhost/127.0.0.1:8081] [terminated=false, cancelled=true, pending=4, error=null]: dropping frame CONTENT(decodeResult: success, content: PooledSlicedByteBuf(ridx: 0, widx: 8192, cap: 8192/8192, unwrapped: PooledUnsafeDirectByteBuf(ridx: 45056, widx: 45056, cap: 65536)))
2025-10-18T05:19:12.213Z DEBUG 119791 --- [gateway-service] [or-http-epoll-4] reactor.netty.channel.FluxReceive        : [e4051666-5, L:/127.0.0.1:49642 ! R:localhost/127.0.0.1:8081] [terminated=false, cancelled=true, pending=3, error=null]: dropping frame CONTENT(decodeResult: success, content: PooledSlicedByteBuf(ridx: 0, widx: 8192, cap: 8192/8192, unwrapped: PooledUnsafeDirectByteBuf(ridx: 45056, widx: 45056, cap: 65536)))
2025-10-18T05:19:12.213Z DEBUG 119791 --- [gateway-service] [or-http-epoll-4] reactor.netty.channel.FluxReceive        : [e4051666-5, L:/127.0.0.1:49642 ! R:localhost/127.0.0.1:8081] [terminated=false, cancelled=true, pending=2, error=null]: dropping frame CONTENT(decodeResult: success, content: PooledSlicedByteBuf(ridx: 0, widx: 8192, cap: 8192/8192, unwrapped: PooledUnsafeDirectByteBuf(ridx: 45056, widx: 45056, cap: 65536)))
2025-10-18T05:19:12.213Z DEBUG 119791 --- [gateway-service] [or-http-epoll-4] reactor.netty.channel.FluxReceive        : [e4051666-5, L:/127.0.0.1:49642 ! R:localhost/127.0.0.1:8081] [terminated=false, cancelled=true, pending=1, error=null]: dropping frame CONTENT(decodeResult: success, content: PooledSlicedByteBuf(ridx: 0, widx: 8192, cap: 8192/8192, unwrapped: PooledUnsafeDirectByteBuf(ridx: 45056, widx: 45056, cap: 65536)))
2025-10-18T05:19:12.213Z DEBUG 119791 --- [gateway-service] [or-http-epoll-4] reactor.netty.channel.FluxReceive        : [e4051666-5, L:/127.0.0.1:49642 ! R:localhost/127.0.0.1:8081] [terminated=false, cancelled=true, pending=0, error=null]: dropping frame CONTENT(decodeResult: success, content: PooledSlicedByteBuf(ridx: 0, widx: 7798, cap: 7798/7798, unwrapped: PooledUnsafeDirectByteBuf(ridx: 45056, widx: 45056, cap: 65536)))
2025-10-18T05:19:12.213Z DEBUG 119791 --- [gateway-service] [or-http-epoll-4] r.n.r.DefaultPooledConnectionProvider    : [e4051666-5, L:/127.0.0.1:49642 ! R:localhost/127.0.0.1:8081] onStateChange(GET{uri=/user/profile, connection=PooledConnection{channel=[id: 0xe4051666, L:/127.0.0.1:49642 ! R:localhost/127.0.0.1:8081]}}, [disconnecting])
2025-10-18T05:19:12.221Z DEBUG 119791 --- [gateway-service] [     parallel-1] o.s.c.g.h.RoutePredicateHandlerMapping   : Route matched: user-service-protected
2025-10-18T05:19:12.221Z DEBUG 119791 --- [gateway-service] [     parallel-1] o.s.c.g.h.RoutePredicateHandlerMapping   : Mapping [Exchange: GET http://localhost:8082/api/users/user/test] to Route{id='user-service-protected', uri=http://localhost:8081, order=0, predicate=Paths: [/api/users/user/**], match trailing slash: true, gatewayFilters=[[[AddRequestHeader X-Forwarded-Host = 'localhost:8080'], order = 1], [[StripPrefix parts = 2], order = 1], [[DedupeResponseHeader Access-Control-Allow-Origin Access-Control-Allow-Credentials = RETAIN_UNIQUE], order = 2], [[AddResponseHeader X-Gateway-Routed = 'true'], order = 2]], metadata={}}
2025-10-18T05:19:12.221Z DEBUG 119791 --- [gateway-service] [     parallel-1] o.s.c.g.h.RoutePredicateHandlerMapping   : [53c7efdc] Mapped to org.springframework.cloud.gateway.handler.FilteringWebHandler@685e6a68
2025-10-18T05:19:12.222Z DEBUG 119791 --- [gateway-service] [     parallel-1] o.s.c.g.handler.FilteringWebHandler      : Sorted gatewayFilterFactories: [[GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.RemoveCachedBodyFilter@c6a692e}, order = -2147483648], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.AdaptCachedBodyGlobalFilter@350d26f3}, order = -2147482648], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.NettyWriteResponseFilter@33215ffb}, order = -1], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ForwardPathFilter@17d2b646}, order = 0], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.GatewayMetricsFilter@7b3a6e95}, order = 0], [[AddRequestHeader X-Forwarded-Host = 'localhost:8080'], order = 1], [[StripPrefix parts = 2], order = 1], [[DedupeResponseHeader Access-Control-Allow-Origin Access-Control-Allow-Credentials = RETAIN_UNIQUE], order = 2], [[AddResponseHeader X-Gateway-Routed = 'true'], order = 2], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.RouteToRequestUrlFilter@27502e5c}, order = 10000], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.config.GatewayNoLoadBalancerClientAutoConfiguration$NoLoadBalancerClientFilter@8ac512e}, order = 10150], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.WebsocketRoutingFilter@323e026d}, order = 2147483646], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.NettyRoutingFilter@2bf3ec4}, order = 2147483647], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ForwardRoutingFilter@4b343b6d}, order = 2147483647]]
2025-10-18T05:19:12.222Z DEBUG 119791 --- [gateway-service] [     parallel-1] g.f.h.o.ObservedRequestHttpHeadersFilter : Will instrument the HTTP request headers [host:"localhost:8082", user-agent:"curl/7.81.0", accept:"*/*", authorization:"Bearer eyJhbGciOiJIUzI1NiJ9.eyJzdWIiOiJmaW5hbHVzZXJfMTc2MDc2NDc1MSIsImlhdCI6MTc2MDc2NDc1MiwiZXhwIjoxNzYwODUxMTUyfQ.7lgvhfIvgFg6ix8TwX59IfD-PiYaMcxK9M6X6iyuzpY", X-Forwarded-Host:"localhost:8080,localhost:8082", Forwarded:"proto=http;host="localhost:8082";for="127.0.0.1:57912"", X-Forwarded-For:"127.0.0.1", X-Forwarded-Proto:"http", X-Forwarded-Prefix:"/api/users", X-Forwarded-Port:"8082"]
2025-10-18T05:19:12.222Z DEBUG 119791 --- [gateway-service] [     parallel-1] g.f.h.o.ObservedRequestHttpHeadersFilter : Client observation  {name=http.client.requests(null), error=null, context=name='http.client.requests', contextualName='null', error='null', lowCardinalityKeyValues=[http.method='GET', http.status_code='UNKNOWN', spring.cloud.gateway.route.id='user-service-protected', spring.cloud.gateway.route.uri='http://localhost:8081'], highCardinalityKeyValues=[http.uri='http://localhost:8082/user/test'], map=[class io.micrometer.core.instrument.LongTaskTimer$Sample='SampleImpl{duration(seconds)=5.0553E-5, duration(nanos)=50553.0, startTimeNanos=8050642820811}', class io.micrometer.core.instrument.Timer$Sample='io.micrometer.core.instrument.Timer$Sample@570ac726'], parentObservation=org.springframework.security.web.server.ObservationWebFilterChainDecorator$PhasedObservation@60adef97} created for the request. New headers are [host:"localhost:8082", user-agent:"curl/7.81.0", accept:"*/*", authorization:"Bearer eyJhbGciOiJIUzI1NiJ9.eyJzdWIiOiJmaW5hbHVzZXJfMTc2MDc2NDc1MSIsImlhdCI6MTc2MDc2NDc1MiwiZXhwIjoxNzYwODUxMTUyfQ.7lgvhfIvgFg6ix8TwX59IfD-PiYaMcxK9M6X6iyuzpY", X-Forwarded-Host:"localhost:8080,localhost:8082", Forwarded:"proto=http;host="localhost:8082";for="127.0.0.1:57912"", X-Forwarded-For:"127.0.0.1", X-Forwarded-Proto:"http", X-Forwarded-Prefix:"/api/users", X-Forwarded-Port:"8082"]
2025-10-18T05:19:12.223Z DEBUG 119791 --- [gateway-service] [or-http-epoll-5] r.n.resources.PooledConnectionProvider   : [131e3a1f] Created a new pooled channel, now: 0 active connections, 0 inactive connections 0 pending acquire requests.
2025-10-18T05:19:12.223Z DEBUG 119791 --- [gateway-service] [or-http-epoll-5] r.netty.transport.TransportConfig        : [131e3a1f] Initialized pipeline DefaultChannelPipeline{(reactor.left.httpCodec = io.netty.handler.codec.http.HttpClientCodec), (reactor.right.reactiveBridge = reactor.netty.channel.ChannelOperationsHandler)}
2025-10-18T05:19:12.224Z DEBUG 119791 --- [gateway-service] [or-http-epoll-5] r.netty.transport.TransportConnector     : [131e3a1f] Connecting to [localhost/127.0.0.1:8081].
2025-10-18T05:19:12.224Z DEBUG 119791 --- [gateway-service] [or-http-epoll-5] r.n.r.DefaultPooledConnectionProvider    : [131e3a1f, L:/127.0.0.1:49648 - R:localhost/127.0.0.1:8081] Registering pool release on close event for channel
2025-10-18T05:19:12.224Z DEBUG 119791 --- [gateway-service] [or-http-epoll-5] r.n.resources.PooledConnectionProvider   : [131e3a1f, L:/127.0.0.1:49648 - R:localhost/127.0.0.1:8081] Channel connected, now: 1 active connections, 0 inactive connections 0 pending acquire requests.
2025-10-18T05:19:12.224Z DEBUG 119791 --- [gateway-service] [or-http-epoll-5] r.n.r.DefaultPooledConnectionProvider    : [131e3a1f, L:/127.0.0.1:49648 - R:localhost/127.0.0.1:8081] onStateChange(PooledConnection{channel=[id: 0x131e3a1f, L:/127.0.0.1:49648 - R:localhost/127.0.0.1:8081]}, [connected])
2025-10-18T05:19:12.224Z DEBUG 119791 --- [gateway-service] [or-http-epoll-5] r.n.r.DefaultPooledConnectionProvider    : [131e3a1f-1, L:/127.0.0.1:49648 - R:localhost/127.0.0.1:8081] onStateChange(GET{uri=/, connection=PooledConnection{channel=[id: 0x131e3a1f, L:/127.0.0.1:49648 - R:localhost/127.0.0.1:8081]}}, [configured])
2025-10-18T05:19:12.224Z DEBUG 119791 --- [gateway-service] [or-http-epoll-5] r.netty.http.client.HttpClientConnect    : [131e3a1f-1, L:/127.0.0.1:49648 - R:localhost/127.0.0.1:8081] Handler is being applied: {uri=http://localhost:8081/user/test, method=GET}
2025-10-18T05:19:12.224Z DEBUG 119791 --- [gateway-service] [or-http-epoll-5] r.n.r.DefaultPooledConnectionProvider    : [131e3a1f-1, L:/127.0.0.1:49648 - R:localhost/127.0.0.1:8081] onStateChange(GET{uri=/user/test, connection=PooledConnection{channel=[id: 0x131e3a1f, L:/127.0.0.1:49648 - R:localhost/127.0.0.1:8081]}}, [request_prepared])
2025-10-18T05:19:12.226Z DEBUG 119791 --- [gateway-service] [or-http-epoll-5] r.n.r.DefaultPooledConnectionProvider    : [131e3a1f-1, L:/127.0.0.1:49648 - R:localhost/127.0.0.1:8081] onStateChange(GET{uri=/user/test, connection=PooledConnection{channel=[id: 0x131e3a1f, L:/127.0.0.1:49648 - R:localhost/127.0.0.1:8081]}}, [request_sent])
2025-10-18T05:19:12.232Z DEBUG 119791 --- [gateway-service] [or-http-epoll-5] r.n.http.client.HttpClientOperations     : [131e3a1f-1, L:/127.0.0.1:49648 - R:localhost/127.0.0.1:8081] Received response (auto-read:false) : RESPONSE(decodeResult: success, version: HTTP/1.1)
HTTP/1.1 200 
X-Content-Type-Options: <filtered>
X-XSS-Protection: <filtered>
Cache-Control: <filtered>
Pragma: <filtered>
Expires: <filtered>
X-Frame-Options: <filtered>
Content-Type: <filtered>
Transfer-Encoding: <filtered>
Date: <filtered>
2025-10-18T05:19:12.232Z DEBUG 119791 --- [gateway-service] [or-http-epoll-5] r.n.r.DefaultPooledConnectionProvider    : [131e3a1f-1, L:/127.0.0.1:49648 - R:localhost/127.0.0.1:8081] onStateChange(GET{uri=/user/test, connection=PooledConnection{channel=[id: 0x131e3a1f, L:/127.0.0.1:49648 - R:localhost/127.0.0.1:8081]}}, [response_received])
2025-10-18T05:19:12.233Z DEBUG 119791 --- [gateway-service] [or-http-epoll-5] .f.h.o.ObservedResponseHttpHeadersFilter : Will instrument the response
2025-10-18T05:19:12.233Z DEBUG 119791 --- [gateway-service] [or-http-epoll-5] .f.h.o.ObservedResponseHttpHeadersFilter : The response was handled for observation {name=http.client.requests(null), error=null, context=name='http.client.requests', contextualName='null', error='null', lowCardinalityKeyValues=[http.method='GET', http.status_code='UNKNOWN', spring.cloud.gateway.route.id='user-service-protected', spring.cloud.gateway.route.uri='http://localhost:8081'], highCardinalityKeyValues=[http.uri='http://localhost:8082/user/test'], map=[class io.micrometer.core.instrument.LongTaskTimer$Sample='SampleImpl{duration(seconds)=0.010408006, duration(nanos)=1.0408006E7, startTimeNanos=8050642820811}', class io.micrometer.core.instrument.Timer$Sample='io.micrometer.core.instrument.Timer$Sample@570ac726'], parentObservation=org.springframework.security.web.server.ObservationWebFilterChainDecorator$PhasedObservation@60adef97}
2025-10-18T05:19:12.233Z DEBUG 119791 --- [gateway-service] [or-http-epoll-5] reactor.netty.channel.FluxReceive        : [131e3a1f-1, L:/127.0.0.1:49648 - R:localhost/127.0.0.1:8081] [terminated=false, cancelled=false, pending=0, error=null]: subscribing inbound receiver
2025-10-18T05:19:12.234Z DEBUG 119791 --- [gateway-service] [or-http-epoll-5] r.n.http.client.HttpClientOperations     : [131e3a1f-1, L:/127.0.0.1:49648 - R:localhost/127.0.0.1:8081] Received last HTTP packet
2025-10-18T05:19:12.234Z DEBUG 119791 --- [gateway-service] [or-http-epoll-5] r.n.r.DefaultPooledConnectionProvider    : [131e3a1f, L:/127.0.0.1:49648 - R:localhost/127.0.0.1:8081] onStateChange(GET{uri=/user/test, connection=PooledConnection{channel=[id: 0x131e3a1f, L:/127.0.0.1:49648 - R:localhost/127.0.0.1:8081]}}, [response_completed])
2025-10-18T05:19:12.234Z DEBUG 119791 --- [gateway-service] [or-http-epoll-5] r.n.r.DefaultPooledConnectionProvider    : [131e3a1f, L:/127.0.0.1:49648 - R:localhost/127.0.0.1:8081] onStateChange(GET{uri=/user/test, connection=PooledConnection{channel=[id: 0x131e3a1f, L:/127.0.0.1:49648 - R:localhost/127.0.0.1:8081]}}, [disconnecting])
2025-10-18T05:19:12.234Z DEBUG 119791 --- [gateway-service] [or-http-epoll-5] r.n.r.DefaultPooledConnectionProvider    : [131e3a1f, L:/127.0.0.1:49648 - R:localhost/127.0.0.1:8081] Releasing channel
2025-10-18T05:19:12.234Z DEBUG 119791 --- [gateway-service] [or-http-epoll-5] r.n.resources.PooledConnectionProvider   : [131e3a1f, L:/127.0.0.1:49648 - R:localhost/127.0.0.1:8081] Channel cleaned, now: 0 active connections, 1 inactive connections 0 pending acquire requests.
2025-10-18T05:20:12.296Z DEBUG 119791 --- [gateway-service] [or-http-epoll-5] r.n.r.DefaultPooledConnectionProvider    : [131e3a1f, L:/127.0.0.1:49648 ! R:localhost/127.0.0.1:8081] onStateChange(PooledConnection{channel=[id: 0x131e3a1f, L:/127.0.0.1:49648 ! R:localhost/127.0.0.1:8081]}, [disconnecting])
2025-10-18T05:55:38.475Z DEBUG 119791 --- [gateway-service] [     parallel-2] o.s.c.g.h.RoutePredicateHandlerMapping   : Route matched: user-service-public
2025-10-18T05:55:38.483Z DEBUG 119791 --- [gateway-service] [     parallel-2] o.s.c.g.h.RoutePredicateHandlerMapping   : Mapping [Exchange: GET http://localhost:8082/api/users/user/public] to Route{id='user-service-public', uri=http://localhost:8081, order=0, predicate=Paths: [/api/users/user/public], match trailing slash: true, gatewayFilters=[[[AddRequestHeader X-Forwarded-Host = 'localhost:8080'], order = 1], [[StripPrefix parts = 2], order = 1], [[DedupeResponseHeader Access-Control-Allow-Origin Access-Control-Allow-Credentials = RETAIN_UNIQUE], order = 2], [[AddResponseHeader X-Gateway-Routed = 'true'], order = 2]], metadata={}}
2025-10-18T05:55:38.483Z DEBUG 119791 --- [gateway-service] [     parallel-2] o.s.c.g.h.RoutePredicateHandlerMapping   : [2858fdd5] Mapped to org.springframework.cloud.gateway.handler.FilteringWebHandler@685e6a68
2025-10-18T05:55:38.486Z DEBUG 119791 --- [gateway-service] [     parallel-2] o.s.c.g.handler.FilteringWebHandler      : Sorted gatewayFilterFactories: [[GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.RemoveCachedBodyFilter@c6a692e}, order = -2147483648], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.AdaptCachedBodyGlobalFilter@350d26f3}, order = -2147482648], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.NettyWriteResponseFilter@33215ffb}, order = -1], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ForwardPathFilter@17d2b646}, order = 0], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.GatewayMetricsFilter@7b3a6e95}, order = 0], [[AddRequestHeader X-Forwarded-Host = 'localhost:8080'], order = 1], [[StripPrefix parts = 2], order = 1], [[DedupeResponseHeader Access-Control-Allow-Origin Access-Control-Allow-Credentials = RETAIN_UNIQUE], order = 2], [[AddResponseHeader X-Gateway-Routed = 'true'], order = 2], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.RouteToRequestUrlFilter@27502e5c}, order = 10000], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.config.GatewayNoLoadBalancerClientAutoConfiguration$NoLoadBalancerClientFilter@8ac512e}, order = 10150], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.WebsocketRoutingFilter@323e026d}, order = 2147483646], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.NettyRoutingFilter@2bf3ec4}, order = 2147483647], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ForwardRoutingFilter@4b343b6d}, order = 2147483647]]
2025-10-18T05:55:38.500Z DEBUG 119791 --- [gateway-service] [     parallel-2] g.f.h.o.ObservedRequestHttpHeadersFilter : Will instrument the HTTP request headers [host:"localhost:8082", user-agent:"curl/7.81.0", accept:"*/*", X-Forwarded-Host:"localhost:8080,localhost:8082", Forwarded:"proto=http;host="localhost:8082";for="127.0.0.1:46774"", X-Forwarded-For:"127.0.0.1", X-Forwarded-Proto:"http", X-Forwarded-Prefix:"/api/users", X-Forwarded-Port:"8082"]
2025-10-18T05:55:38.502Z DEBUG 119791 --- [gateway-service] [     parallel-2] g.f.h.o.ObservedRequestHttpHeadersFilter : Client observation  {name=http.client.requests(null), error=null, context=name='http.client.requests', contextualName='null', error='null', lowCardinalityKeyValues=[http.method='GET', http.status_code='UNKNOWN', spring.cloud.gateway.route.id='user-service-public', spring.cloud.gateway.route.uri='http://localhost:8081'], highCardinalityKeyValues=[http.uri='http://localhost:8082/user/public'], map=[class io.micrometer.core.instrument.LongTaskTimer$Sample='SampleImpl{duration(seconds)=7.52811E-4, duration(nanos)=752811.0, startTimeNanos=10236921216960}', class io.micrometer.core.instrument.Timer$Sample='io.micrometer.core.instrument.Timer$Sample@4dfd07dc'], parentObservation=org.springframework.security.web.server.ObservationWebFilterChainDecorator$PhasedObservation@230551f6} created for the request. New headers are [host:"localhost:8082", user-agent:"curl/7.81.0", accept:"*/*", X-Forwarded-Host:"localhost:8080,localhost:8082", Forwarded:"proto=http;host="localhost:8082";for="127.0.0.1:46774"", X-Forwarded-For:"127.0.0.1", X-Forwarded-Proto:"http", X-Forwarded-Prefix:"/api/users", X-Forwarded-Port:"8082"]
2025-10-18T05:55:38.533Z DEBUG 119791 --- [gateway-service] [or-http-epoll-6] r.n.resources.PooledConnectionProvider   : [f756f92f] Created a new pooled channel, now: 0 active connections, 0 inactive connections 0 pending acquire requests.
2025-10-18T05:55:38.538Z DEBUG 119791 --- [gateway-service] [or-http-epoll-6] r.netty.transport.TransportConfig        : [f756f92f] Initialized pipeline DefaultChannelPipeline{(reactor.left.httpCodec = io.netty.handler.codec.http.HttpClientCodec), (reactor.right.reactiveBridge = reactor.netty.channel.ChannelOperationsHandler)}
2025-10-18T05:55:38.544Z DEBUG 119791 --- [gateway-service] [or-http-epoll-6] r.netty.transport.TransportConnector     : [f756f92f] Connecting to [localhost/127.0.0.1:8081].
2025-10-18T05:55:38.546Z DEBUG 119791 --- [gateway-service] [or-http-epoll-6] r.n.r.DefaultPooledConnectionProvider    : [f756f92f, L:/127.0.0.1:57034 - R:localhost/127.0.0.1:8081] Registering pool release on close event for channel
2025-10-18T05:55:38.546Z DEBUG 119791 --- [gateway-service] [or-http-epoll-6] r.n.resources.PooledConnectionProvider   : [f756f92f, L:/127.0.0.1:57034 - R:localhost/127.0.0.1:8081] Channel connected, now: 1 active connections, 0 inactive connections 0 pending acquire requests.
2025-10-18T05:55:38.547Z DEBUG 119791 --- [gateway-service] [or-http-epoll-6] r.n.r.DefaultPooledConnectionProvider    : [f756f92f, L:/127.0.0.1:57034 - R:localhost/127.0.0.1:8081] onStateChange(PooledConnection{channel=[id: 0xf756f92f, L:/127.0.0.1:57034 - R:localhost/127.0.0.1:8081]}, [connected])
2025-10-18T05:55:38.548Z DEBUG 119791 --- [gateway-service] [or-http-epoll-6] r.n.r.DefaultPooledConnectionProvider    : [f756f92f-1, L:/127.0.0.1:57034 - R:localhost/127.0.0.1:8081] onStateChange(GET{uri=/, connection=PooledConnection{channel=[id: 0xf756f92f, L:/127.0.0.1:57034 - R:localhost/127.0.0.1:8081]}}, [configured])
2025-10-18T05:55:38.549Z DEBUG 119791 --- [gateway-service] [or-http-epoll-6] r.netty.http.client.HttpClientConnect    : [f756f92f-1, L:/127.0.0.1:57034 - R:localhost/127.0.0.1:8081] Handler is being applied: {uri=http://localhost:8081/user/public, method=GET}
2025-10-18T05:55:38.550Z DEBUG 119791 --- [gateway-service] [or-http-epoll-6] r.n.r.DefaultPooledConnectionProvider    : [f756f92f-1, L:/127.0.0.1:57034 - R:localhost/127.0.0.1:8081] onStateChange(GET{uri=/user/public, connection=PooledConnection{channel=[id: 0xf756f92f, L:/127.0.0.1:57034 - R:localhost/127.0.0.1:8081]}}, [request_prepared])
2025-10-18T05:55:38.561Z DEBUG 119791 --- [gateway-service] [or-http-epoll-6] r.n.r.DefaultPooledConnectionProvider    : [f756f92f-1, L:/127.0.0.1:57034 - R:localhost/127.0.0.1:8081] onStateChange(GET{uri=/user/public, connection=PooledConnection{channel=[id: 0xf756f92f, L:/127.0.0.1:57034 - R:localhost/127.0.0.1:8081]}}, [request_sent])
2025-10-18T05:55:38.594Z DEBUG 119791 --- [gateway-service] [or-http-epoll-6] r.n.http.client.HttpClientOperations     : [f756f92f-1, L:/127.0.0.1:57034 - R:localhost/127.0.0.1:8081] Received response (auto-read:false) : RESPONSE(decodeResult: success, version: HTTP/1.1)
HTTP/1.1 200 
X-Content-Type-Options: <filtered>
X-XSS-Protection: <filtered>
Cache-Control: <filtered>
Pragma: <filtered>
Expires: <filtered>
X-Frame-Options: <filtered>
Content-Type: <filtered>
Transfer-Encoding: <filtered>
Date: <filtered>
2025-10-18T05:55:38.594Z DEBUG 119791 --- [gateway-service] [or-http-epoll-6] r.n.r.DefaultPooledConnectionProvider    : [f756f92f-1, L:/127.0.0.1:57034 - R:localhost/127.0.0.1:8081] onStateChange(GET{uri=/user/public, connection=PooledConnection{channel=[id: 0xf756f92f, L:/127.0.0.1:57034 - R:localhost/127.0.0.1:8081]}}, [response_received])
2025-10-18T05:55:38.595Z DEBUG 119791 --- [gateway-service] [or-http-epoll-6] .f.h.o.ObservedResponseHttpHeadersFilter : Will instrument the response
2025-10-18T05:55:38.595Z DEBUG 119791 --- [gateway-service] [or-http-epoll-6] .f.h.o.ObservedResponseHttpHeadersFilter : The response was handled for observation {name=http.client.requests(null), error=null, context=name='http.client.requests', contextualName='null', error='null', lowCardinalityKeyValues=[http.method='GET', http.status_code='UNKNOWN', spring.cloud.gateway.route.id='user-service-public', spring.cloud.gateway.route.uri='http://localhost:8081'], highCardinalityKeyValues=[http.uri='http://localhost:8082/user/public'], map=[class io.micrometer.core.instrument.LongTaskTimer$Sample='SampleImpl{duration(seconds)=0.094076544, duration(nanos)=9.4076544E7, startTimeNanos=10236921216960}', class io.micrometer.core.instrument.Timer$Sample='io.micrometer.core.instrument.Timer$Sample@4dfd07dc'], parentObservation=org.springframework.security.web.server.ObservationWebFilterChainDecorator$PhasedObservation@230551f6}
2025-10-18T05:55:38.597Z DEBUG 119791 --- [gateway-service] [or-http-epoll-6] reactor.netty.channel.FluxReceive        : [f756f92f-1, L:/127.0.0.1:57034 - R:localhost/127.0.0.1:8081] [terminated=false, cancelled=false, pending=0, error=null]: subscribing inbound receiver
2025-10-18T05:55:38.605Z DEBUG 119791 --- [gateway-service] [or-http-epoll-6] r.n.http.client.HttpClientOperations     : [f756f92f-1, L:/127.0.0.1:57034 - R:localhost/127.0.0.1:8081] Received last HTTP packet
2025-10-18T05:55:38.607Z DEBUG 119791 --- [gateway-service] [or-http-epoll-6] r.n.r.DefaultPooledConnectionProvider    : [f756f92f, L:/127.0.0.1:57034 - R:localhost/127.0.0.1:8081] onStateChange(GET{uri=/user/public, connection=PooledConnection{channel=[id: 0xf756f92f, L:/127.0.0.1:57034 - R:localhost/127.0.0.1:8081]}}, [response_completed])
2025-10-18T05:55:38.608Z DEBUG 119791 --- [gateway-service] [or-http-epoll-6] r.n.r.DefaultPooledConnectionProvider    : [f756f92f, L:/127.0.0.1:57034 - R:localhost/127.0.0.1:8081] onStateChange(GET{uri=/user/public, connection=PooledConnection{channel=[id: 0xf756f92f, L:/127.0.0.1:57034 - R:localhost/127.0.0.1:8081]}}, [disconnecting])
2025-10-18T05:55:38.608Z DEBUG 119791 --- [gateway-service] [or-http-epoll-6] r.n.r.DefaultPooledConnectionProvider    : [f756f92f, L:/127.0.0.1:57034 - R:localhost/127.0.0.1:8081] Releasing channel
2025-10-18T05:55:38.608Z DEBUG 119791 --- [gateway-service] [or-http-epoll-6] r.n.resources.PooledConnectionProvider   : [f756f92f, L:/127.0.0.1:57034 - R:localhost/127.0.0.1:8081] Channel cleaned, now: 0 active connections, 1 inactive connections 0 pending acquire requests.
2025-10-18T05:55:42.157Z DEBUG 119791 --- [gateway-service] [     parallel-3] o.s.c.g.h.RoutePredicateHandlerMapping   : Route matched: user-service-protected
2025-10-18T05:55:42.157Z DEBUG 119791 --- [gateway-service] [     parallel-3] o.s.c.g.h.RoutePredicateHandlerMapping   : Mapping [Exchange: POST http://localhost:8082/api/users/user/register] to Route{id='user-service-protected', uri=http://localhost:8081, order=0, predicate=Paths: [/api/users/user/**], match trailing slash: true, gatewayFilters=[[[AddRequestHeader X-Forwarded-Host = 'localhost:8080'], order = 1], [[StripPrefix parts = 2], order = 1], [[DedupeResponseHeader Access-Control-Allow-Origin Access-Control-Allow-Credentials = RETAIN_UNIQUE], order = 2], [[AddResponseHeader X-Gateway-Routed = 'true'], order = 2]], metadata={}}
2025-10-18T05:55:42.157Z DEBUG 119791 --- [gateway-service] [     parallel-3] o.s.c.g.h.RoutePredicateHandlerMapping   : [6da75b20] Mapped to org.springframework.cloud.gateway.handler.FilteringWebHandler@685e6a68
2025-10-18T05:55:42.157Z DEBUG 119791 --- [gateway-service] [     parallel-3] o.s.c.g.handler.FilteringWebHandler      : Sorted gatewayFilterFactories: [[GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.RemoveCachedBodyFilter@c6a692e}, order = -2147483648], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.AdaptCachedBodyGlobalFilter@350d26f3}, order = -2147482648], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.NettyWriteResponseFilter@33215ffb}, order = -1], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ForwardPathFilter@17d2b646}, order = 0], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.GatewayMetricsFilter@7b3a6e95}, order = 0], [[AddRequestHeader X-Forwarded-Host = 'localhost:8080'], order = 1], [[StripPrefix parts = 2], order = 1], [[DedupeResponseHeader Access-Control-Allow-Origin Access-Control-Allow-Credentials = RETAIN_UNIQUE], order = 2], [[AddResponseHeader X-Gateway-Routed = 'true'], order = 2], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.RouteToRequestUrlFilter@27502e5c}, order = 10000], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.config.GatewayNoLoadBalancerClientAutoConfiguration$NoLoadBalancerClientFilter@8ac512e}, order = 10150], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.WebsocketRoutingFilter@323e026d}, order = 2147483646], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.NettyRoutingFilter@2bf3ec4}, order = 2147483647], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ForwardRoutingFilter@4b343b6d}, order = 2147483647]]
2025-10-18T05:55:42.158Z DEBUG 119791 --- [gateway-service] [     parallel-3] g.f.h.o.ObservedRequestHttpHeadersFilter : Will instrument the HTTP request headers [host:"localhost:8082", user-agent:"curl/7.81.0", accept:"*/*", content-type:"application/json", content-length:"76", X-Forwarded-Host:"localhost:8080,localhost:8082", Forwarded:"proto=http;host="localhost:8082";for="127.0.0.1:46776"", X-Forwarded-For:"127.0.0.1", X-Forwarded-Proto:"http", X-Forwarded-Prefix:"/api/users", X-Forwarded-Port:"8082"]
2025-10-18T05:55:42.158Z DEBUG 119791 --- [gateway-service] [     parallel-3] g.f.h.o.ObservedRequestHttpHeadersFilter : Client observation  {name=http.client.requests(null), error=null, context=name='http.client.requests', contextualName='null', error='null', lowCardinalityKeyValues=[http.method='POST', http.status_code='UNKNOWN', spring.cloud.gateway.route.id='user-service-protected', spring.cloud.gateway.route.uri='http://localhost:8081'], highCardinalityKeyValues=[http.uri='http://localhost:8082/user/register'], map=[class io.micrometer.core.instrument.LongTaskTimer$Sample='SampleImpl{duration(seconds)=8.9968E-5, duration(nanos)=89968.0, startTimeNanos=10240578464912}', class io.micrometer.core.instrument.Timer$Sample='io.micrometer.core.instrument.Timer$Sample@77ad7f33'], parentObservation=org.springframework.security.web.server.ObservationWebFilterChainDecorator$PhasedObservation@390d06c1} created for the request. New headers are [host:"localhost:8082", user-agent:"curl/7.81.0", accept:"*/*", content-type:"application/json", content-length:"76", X-Forwarded-Host:"localhost:8080,localhost:8082", Forwarded:"proto=http;host="localhost:8082";for="127.0.0.1:46776"", X-Forwarded-For:"127.0.0.1", X-Forwarded-Proto:"http", X-Forwarded-Prefix:"/api/users", X-Forwarded-Port:"8082"]
2025-10-18T05:55:42.159Z DEBUG 119791 --- [gateway-service] [or-http-epoll-6] r.n.resources.PooledConnectionProvider   : [f756f92f, L:/127.0.0.1:57034 - R:localhost/127.0.0.1:8081] Channel acquired, now: 1 active connections, 0 inactive connections 0 pending acquire requests.
2025-10-18T05:55:42.159Z DEBUG 119791 --- [gateway-service] [or-http-epoll-6] r.netty.http.client.HttpClientConnect    : [f756f92f-2, L:/127.0.0.1:57034 - R:localhost/127.0.0.1:8081] Handler is being applied: {uri=http://localhost:8081/user/register, method=POST}
2025-10-18T05:55:42.159Z DEBUG 119791 --- [gateway-service] [or-http-epoll-6] r.n.r.DefaultPooledConnectionProvider    : [f756f92f-2, L:/127.0.0.1:57034 - R:localhost/127.0.0.1:8081] onStateChange(POST{uri=/user/register, connection=PooledConnection{channel=[id: 0xf756f92f, L:/127.0.0.1:57034 - R:localhost/127.0.0.1:8081]}}, [request_prepared])
2025-10-18T05:55:42.161Z DEBUG 119791 --- [gateway-service] [or-http-epoll-6] r.n.r.DefaultPooledConnectionProvider    : [f756f92f-2, L:/127.0.0.1:57034 - R:localhost/127.0.0.1:8081] onStateChange(POST{uri=/user/register, connection=PooledConnection{channel=[id: 0xf756f92f, L:/127.0.0.1:57034 - R:localhost/127.0.0.1:8081]}}, [request_sent])
2025-10-18T05:55:42.213Z DEBUG 119791 --- [gateway-service] [or-http-epoll-6] r.n.http.client.HttpClientOperations     : [f756f92f-2, L:/127.0.0.1:57034 - R:localhost/127.0.0.1:8081] Received response (auto-read:false) : RESPONSE(decodeResult: success, version: HTTP/1.1)
HTTP/1.1 400 
X-Content-Type-Options: <filtered>
X-XSS-Protection: <filtered>
Cache-Control: <filtered>
Pragma: <filtered>
Expires: <filtered>
X-Frame-Options: <filtered>
Content-Type: <filtered>
Transfer-Encoding: <filtered>
Date: <filtered>
Connection: <filtered>
2025-10-18T05:55:42.213Z DEBUG 119791 --- [gateway-service] [or-http-epoll-6] r.n.r.DefaultPooledConnectionProvider    : [f756f92f-2, L:/127.0.0.1:57034 - R:localhost/127.0.0.1:8081] onStateChange(POST{uri=/user/register, connection=PooledConnection{channel=[id: 0xf756f92f, L:/127.0.0.1:57034 - R:localhost/127.0.0.1:8081]}}, [response_received])
2025-10-18T05:55:42.214Z DEBUG 119791 --- [gateway-service] [or-http-epoll-6] .f.h.o.ObservedResponseHttpHeadersFilter : Will instrument the response
2025-10-18T05:55:42.214Z DEBUG 119791 --- [gateway-service] [or-http-epoll-6] .f.h.o.ObservedResponseHttpHeadersFilter : The response was handled for observation {name=http.client.requests(null), error=null, context=name='http.client.requests', contextualName='null', error='null', lowCardinalityKeyValues=[http.method='POST', http.status_code='UNKNOWN', spring.cloud.gateway.route.id='user-service-protected', spring.cloud.gateway.route.uri='http://localhost:8081'], highCardinalityKeyValues=[http.uri='http://localhost:8082/user/register'], map=[class io.micrometer.core.instrument.LongTaskTimer$Sample='SampleImpl{duration(seconds)=0.056395695, duration(nanos)=5.6395695E7, startTimeNanos=10240578464912}', class io.micrometer.core.instrument.Timer$Sample='io.micrometer.core.instrument.Timer$Sample@77ad7f33'], parentObservation=org.springframework.security.web.server.ObservationWebFilterChainDecorator$PhasedObservation@390d06c1}
2025-10-18T05:55:42.216Z DEBUG 119791 --- [gateway-service] [or-http-epoll-6] reactor.netty.channel.FluxReceive        : [f756f92f-2, L:/127.0.0.1:57034 - R:localhost/127.0.0.1:8081] [terminated=false, cancelled=false, pending=0, error=null]: subscribing inbound receiver
2025-10-18T05:55:42.216Z DEBUG 119791 --- [gateway-service] [or-http-epoll-6] r.n.http.client.HttpClientOperations     : [f756f92f-2, L:/127.0.0.1:57034 - R:localhost/127.0.0.1:8081] Received last HTTP packet
2025-10-18T05:55:42.218Z DEBUG 119791 --- [gateway-service] [or-http-epoll-6] r.n.r.DefaultPooledConnectionProvider    : [f756f92f, L:/127.0.0.1:57034 - R:localhost/127.0.0.1:8081] onStateChange(POST{uri=/user/register, connection=PooledConnection{channel=[id: 0xf756f92f, L:/127.0.0.1:57034 - R:localhost/127.0.0.1:8081]}}, [response_completed])
2025-10-18T05:55:42.218Z DEBUG 119791 --- [gateway-service] [or-http-epoll-6] r.n.r.DefaultPooledConnectionProvider    : [f756f92f, L:/127.0.0.1:57034 - R:localhost/127.0.0.1:8081] onStateChange(POST{uri=/user/register, connection=PooledConnection{channel=[id: 0xf756f92f, L:/127.0.0.1:57034 - R:localhost/127.0.0.1:8081]}}, [disconnecting])
2025-10-18T05:55:42.219Z DEBUG 119791 --- [gateway-service] [or-http-epoll-6] r.n.resources.PooledConnectionProvider   : [f756f92f, L:/127.0.0.1:57034 ! R:localhost/127.0.0.1:8081] Channel closed, now: 0 active connections, 0 inactive connections 0 pending acquire requests.
2025-10-18T05:55:42.219Z DEBUG 119791 --- [gateway-service] [or-http-epoll-6] r.n.r.DefaultPooledConnectionProvider    : [f756f92f, L:/127.0.0.1:57034 ! R:localhost/127.0.0.1:8081] onStateChange(PooledConnection{channel=[id: 0xf756f92f, L:/127.0.0.1:57034 ! R:localhost/127.0.0.1:8081]}, [disconnecting])
2025-10-18T05:55:45.866Z DEBUG 119791 --- [gateway-service] [     parallel-4] o.s.c.g.h.RoutePredicateHandlerMapping   : Route matched: user-service-protected
2025-10-18T05:55:45.866Z DEBUG 119791 --- [gateway-service] [     parallel-4] o.s.c.g.h.RoutePredicateHandlerMapping   : Mapping [Exchange: POST http://localhost:8082/api/users/user/login] to Route{id='user-service-protected', uri=http://localhost:8081, order=0, predicate=Paths: [/api/users/user/**], match trailing slash: true, gatewayFilters=[[[AddRequestHeader X-Forwarded-Host = 'localhost:8080'], order = 1], [[StripPrefix parts = 2], order = 1], [[DedupeResponseHeader Access-Control-Allow-Origin Access-Control-Allow-Credentials = RETAIN_UNIQUE], order = 2], [[AddResponseHeader X-Gateway-Routed = 'true'], order = 2]], metadata={}}
2025-10-18T05:55:45.866Z DEBUG 119791 --- [gateway-service] [     parallel-4] o.s.c.g.h.RoutePredicateHandlerMapping   : [43279728] Mapped to org.springframework.cloud.gateway.handler.FilteringWebHandler@685e6a68
2025-10-18T05:55:45.866Z DEBUG 119791 --- [gateway-service] [     parallel-4] o.s.c.g.handler.FilteringWebHandler      : Sorted gatewayFilterFactories: [[GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.RemoveCachedBodyFilter@c6a692e}, order = -2147483648], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.AdaptCachedBodyGlobalFilter@350d26f3}, order = -2147482648], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.NettyWriteResponseFilter@33215ffb}, order = -1], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ForwardPathFilter@17d2b646}, order = 0], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.GatewayMetricsFilter@7b3a6e95}, order = 0], [[AddRequestHeader X-Forwarded-Host = 'localhost:8080'], order = 1], [[StripPrefix parts = 2], order = 1], [[DedupeResponseHeader Access-Control-Allow-Origin Access-Control-Allow-Credentials = RETAIN_UNIQUE], order = 2], [[AddResponseHeader X-Gateway-Routed = 'true'], order = 2], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.RouteToRequestUrlFilter@27502e5c}, order = 10000], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.config.GatewayNoLoadBalancerClientAutoConfiguration$NoLoadBalancerClientFilter@8ac512e}, order = 10150], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.WebsocketRoutingFilter@323e026d}, order = 2147483646], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.NettyRoutingFilter@2bf3ec4}, order = 2147483647], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ForwardRoutingFilter@4b343b6d}, order = 2147483647]]
2025-10-18T05:55:45.867Z DEBUG 119791 --- [gateway-service] [     parallel-4] g.f.h.o.ObservedRequestHttpHeadersFilter : Will instrument the HTTP request headers [host:"localhost:8082", user-agent:"curl/7.81.0", accept:"*/*", content-type:"application/json", content-length:"49", X-Forwarded-Host:"localhost:8080,localhost:8082", Forwarded:"proto=http;host="localhost:8082";for="127.0.0.1:44072"", X-Forwarded-For:"127.0.0.1", X-Forwarded-Proto:"http", X-Forwarded-Prefix:"/api/users", X-Forwarded-Port:"8082"]
2025-10-18T05:55:45.868Z DEBUG 119791 --- [gateway-service] [     parallel-4] g.f.h.o.ObservedRequestHttpHeadersFilter : Client observation  {name=http.client.requests(null), error=null, context=name='http.client.requests', contextualName='null', error='null', lowCardinalityKeyValues=[http.method='POST', http.status_code='UNKNOWN', spring.cloud.gateway.route.id='user-service-protected', spring.cloud.gateway.route.uri='http://localhost:8081'], highCardinalityKeyValues=[http.uri='http://localhost:8082/user/login'], map=[class io.micrometer.core.instrument.LongTaskTimer$Sample='SampleImpl{duration(seconds)=4.3108E-5, duration(nanos)=43108.0, startTimeNanos=10244287930644}', class io.micrometer.core.instrument.Timer$Sample='io.micrometer.core.instrument.Timer$Sample@29c84d14'], parentObservation=org.springframework.security.web.server.ObservationWebFilterChainDecorator$PhasedObservation@1816c584} created for the request. New headers are [host:"localhost:8082", user-agent:"curl/7.81.0", accept:"*/*", content-type:"application/json", content-length:"49", X-Forwarded-Host:"localhost:8080,localhost:8082", Forwarded:"proto=http;host="localhost:8082";for="127.0.0.1:44072"", X-Forwarded-For:"127.0.0.1", X-Forwarded-Proto:"http", X-Forwarded-Prefix:"/api/users", X-Forwarded-Port:"8082"]
2025-10-18T05:55:45.869Z DEBUG 119791 --- [gateway-service] [or-http-epoll-7] r.n.resources.PooledConnectionProvider   : [180fc178] Created a new pooled channel, now: 0 active connections, 0 inactive connections 0 pending acquire requests.
2025-10-18T05:55:45.869Z DEBUG 119791 --- [gateway-service] [or-http-epoll-7] r.netty.transport.TransportConfig        : [180fc178] Initialized pipeline DefaultChannelPipeline{(reactor.left.httpCodec = io.netty.handler.codec.http.HttpClientCodec), (reactor.right.reactiveBridge = reactor.netty.channel.ChannelOperationsHandler)}
2025-10-18T05:55:45.870Z DEBUG 119791 --- [gateway-service] [or-http-epoll-7] r.netty.transport.TransportConnector     : [180fc178] Connecting to [localhost/127.0.0.1:8081].
2025-10-18T05:55:45.870Z DEBUG 119791 --- [gateway-service] [or-http-epoll-7] r.n.r.DefaultPooledConnectionProvider    : [180fc178, L:/127.0.0.1:46496 - R:localhost/127.0.0.1:8081] Registering pool release on close event for channel
2025-10-18T05:55:45.870Z DEBUG 119791 --- [gateway-service] [or-http-epoll-7] r.n.resources.PooledConnectionProvider   : [180fc178, L:/127.0.0.1:46496 - R:localhost/127.0.0.1:8081] Channel connected, now: 1 active connections, 0 inactive connections 0 pending acquire requests.
2025-10-18T05:55:45.870Z DEBUG 119791 --- [gateway-service] [or-http-epoll-7] r.n.r.DefaultPooledConnectionProvider    : [180fc178, L:/127.0.0.1:46496 - R:localhost/127.0.0.1:8081] onStateChange(PooledConnection{channel=[id: 0x180fc178, L:/127.0.0.1:46496 - R:localhost/127.0.0.1:8081]}, [connected])
2025-10-18T05:55:45.871Z DEBUG 119791 --- [gateway-service] [or-http-epoll-7] r.n.r.DefaultPooledConnectionProvider    : [180fc178-1, L:/127.0.0.1:46496 - R:localhost/127.0.0.1:8081] onStateChange(GET{uri=/, connection=PooledConnection{channel=[id: 0x180fc178, L:/127.0.0.1:46496 - R:localhost/127.0.0.1:8081]}}, [configured])
2025-10-18T05:55:45.871Z DEBUG 119791 --- [gateway-service] [or-http-epoll-7] r.netty.http.client.HttpClientConnect    : [180fc178-1, L:/127.0.0.1:46496 - R:localhost/127.0.0.1:8081] Handler is being applied: {uri=http://localhost:8081/user/login, method=POST}
2025-10-18T05:55:45.871Z DEBUG 119791 --- [gateway-service] [or-http-epoll-7] r.n.r.DefaultPooledConnectionProvider    : [180fc178-1, L:/127.0.0.1:46496 - R:localhost/127.0.0.1:8081] onStateChange(POST{uri=/user/login, connection=PooledConnection{channel=[id: 0x180fc178, L:/127.0.0.1:46496 - R:localhost/127.0.0.1:8081]}}, [request_prepared])
2025-10-18T05:55:45.874Z DEBUG 119791 --- [gateway-service] [or-http-epoll-7] r.n.r.DefaultPooledConnectionProvider    : [180fc178-1, L:/127.0.0.1:46496 - R:localhost/127.0.0.1:8081] onStateChange(POST{uri=/user/login, connection=PooledConnection{channel=[id: 0x180fc178, L:/127.0.0.1:46496 - R:localhost/127.0.0.1:8081]}}, [request_sent])
2025-10-18T05:55:45.981Z DEBUG 119791 --- [gateway-service] [or-http-epoll-7] r.n.http.client.HttpClientOperations     : [180fc178-1, L:/127.0.0.1:46496 - R:localhost/127.0.0.1:8081] Received response (auto-read:false) : RESPONSE(decodeResult: success, version: HTTP/1.1)
HTTP/1.1 200 
X-Content-Type-Options: <filtered>
X-XSS-Protection: <filtered>
Cache-Control: <filtered>
Pragma: <filtered>
Expires: <filtered>
X-Frame-Options: <filtered>
Content-Type: <filtered>
Transfer-Encoding: <filtered>
Date: <filtered>
2025-10-18T05:55:45.981Z DEBUG 119791 --- [gateway-service] [or-http-epoll-7] r.n.r.DefaultPooledConnectionProvider    : [180fc178-1, L:/127.0.0.1:46496 - R:localhost/127.0.0.1:8081] onStateChange(POST{uri=/user/login, connection=PooledConnection{channel=[id: 0x180fc178, L:/127.0.0.1:46496 - R:localhost/127.0.0.1:8081]}}, [response_received])
2025-10-18T05:55:45.982Z DEBUG 119791 --- [gateway-service] [or-http-epoll-7] .f.h.o.ObservedResponseHttpHeadersFilter : Will instrument the response
2025-10-18T05:55:45.982Z DEBUG 119791 --- [gateway-service] [or-http-epoll-7] .f.h.o.ObservedResponseHttpHeadersFilter : The response was handled for observation {name=http.client.requests(null), error=null, context=name='http.client.requests', contextualName='null', error='null', lowCardinalityKeyValues=[http.method='POST', http.status_code='UNKNOWN', spring.cloud.gateway.route.id='user-service-protected', spring.cloud.gateway.route.uri='http://localhost:8081'], highCardinalityKeyValues=[http.uri='http://localhost:8082/user/login'], map=[class io.micrometer.core.instrument.LongTaskTimer$Sample='SampleImpl{duration(seconds)=0.114434475, duration(nanos)=1.14434475E8, startTimeNanos=10244287930644}', class io.micrometer.core.instrument.Timer$Sample='io.micrometer.core.instrument.Timer$Sample@29c84d14'], parentObservation=org.springframework.security.web.server.ObservationWebFilterChainDecorator$PhasedObservation@1816c584}
2025-10-18T05:55:45.982Z DEBUG 119791 --- [gateway-service] [or-http-epoll-7] reactor.netty.channel.FluxReceive        : [180fc178-1, L:/127.0.0.1:46496 - R:localhost/127.0.0.1:8081] [terminated=false, cancelled=false, pending=0, error=null]: subscribing inbound receiver
2025-10-18T05:55:45.983Z DEBUG 119791 --- [gateway-service] [or-http-epoll-7] r.n.http.client.HttpClientOperations     : [180fc178-1, L:/127.0.0.1:46496 - R:localhost/127.0.0.1:8081] Received last HTTP packet
2025-10-18T05:55:45.984Z DEBUG 119791 --- [gateway-service] [or-http-epoll-7] r.n.r.DefaultPooledConnectionProvider    : [180fc178, L:/127.0.0.1:46496 - R:localhost/127.0.0.1:8081] onStateChange(POST{uri=/user/login, connection=PooledConnection{channel=[id: 0x180fc178, L:/127.0.0.1:46496 - R:localhost/127.0.0.1:8081]}}, [response_completed])
2025-10-18T05:55:45.984Z DEBUG 119791 --- [gateway-service] [or-http-epoll-7] r.n.r.DefaultPooledConnectionProvider    : [180fc178, L:/127.0.0.1:46496 - R:localhost/127.0.0.1:8081] onStateChange(POST{uri=/user/login, connection=PooledConnection{channel=[id: 0x180fc178, L:/127.0.0.1:46496 - R:localhost/127.0.0.1:8081]}}, [disconnecting])
2025-10-18T05:55:45.984Z DEBUG 119791 --- [gateway-service] [or-http-epoll-7] r.n.r.DefaultPooledConnectionProvider    : [180fc178, L:/127.0.0.1:46496 - R:localhost/127.0.0.1:8081] Releasing channel
2025-10-18T05:55:45.984Z DEBUG 119791 --- [gateway-service] [or-http-epoll-7] r.n.resources.PooledConnectionProvider   : [180fc178, L:/127.0.0.1:46496 - R:localhost/127.0.0.1:8081] Channel cleaned, now: 0 active connections, 1 inactive connections 0 pending acquire requests.
2025-10-18T05:55:50.583Z DEBUG 119791 --- [gateway-service] [     parallel-5] o.s.c.g.h.RoutePredicateHandlerMapping   : Route matched: user-service-protected
2025-10-18T05:55:50.583Z DEBUG 119791 --- [gateway-service] [     parallel-5] o.s.c.g.h.RoutePredicateHandlerMapping   : Mapping [Exchange: POST http://localhost:8082/api/users/user/profile] to Route{id='user-service-protected', uri=http://localhost:8081, order=0, predicate=Paths: [/api/users/user/**], match trailing slash: true, gatewayFilters=[[[AddRequestHeader X-Forwarded-Host = 'localhost:8080'], order = 1], [[StripPrefix parts = 2], order = 1], [[DedupeResponseHeader Access-Control-Allow-Origin Access-Control-Allow-Credentials = RETAIN_UNIQUE], order = 2], [[AddResponseHeader X-Gateway-Routed = 'true'], order = 2]], metadata={}}
2025-10-18T05:55:50.583Z DEBUG 119791 --- [gateway-service] [     parallel-5] o.s.c.g.h.RoutePredicateHandlerMapping   : [26a3dbb1] Mapped to org.springframework.cloud.gateway.handler.FilteringWebHandler@685e6a68
2025-10-18T05:55:50.583Z DEBUG 119791 --- [gateway-service] [     parallel-5] o.s.c.g.handler.FilteringWebHandler      : Sorted gatewayFilterFactories: [[GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.RemoveCachedBodyFilter@c6a692e}, order = -2147483648], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.AdaptCachedBodyGlobalFilter@350d26f3}, order = -2147482648], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.NettyWriteResponseFilter@33215ffb}, order = -1], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ForwardPathFilter@17d2b646}, order = 0], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.GatewayMetricsFilter@7b3a6e95}, order = 0], [[AddRequestHeader X-Forwarded-Host = 'localhost:8080'], order = 1], [[StripPrefix parts = 2], order = 1], [[DedupeResponseHeader Access-Control-Allow-Origin Access-Control-Allow-Credentials = RETAIN_UNIQUE], order = 2], [[AddResponseHeader X-Gateway-Routed = 'true'], order = 2], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.RouteToRequestUrlFilter@27502e5c}, order = 10000], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.config.GatewayNoLoadBalancerClientAutoConfiguration$NoLoadBalancerClientFilter@8ac512e}, order = 10150], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.WebsocketRoutingFilter@323e026d}, order = 2147483646], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.NettyRoutingFilter@2bf3ec4}, order = 2147483647], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ForwardRoutingFilter@4b343b6d}, order = 2147483647]]
2025-10-18T05:55:50.584Z DEBUG 119791 --- [gateway-service] [     parallel-5] g.f.h.o.ObservedRequestHttpHeadersFilter : Will instrument the HTTP request headers [host:"localhost:8082", user-agent:"curl/7.81.0", accept:"*/*", content-type:"application/json", authorization:"Bearer eyJhbGciOiJIUzI1NiJ9.eyJzdWIiOiJ0ZXN0dXNlciIsImlhdCI6MTc2MDc2Njk0NSwiZXhwIjoxNzYwODUzMzQ1fQ.WlNXoa_3FP1l7ToqJKlbok2j1EVKstrVzjPyTQDaskw", content-length:"105", X-Forwarded-Host:"localhost:8080,localhost:8082", Forwarded:"proto=http;host="localhost:8082";for="127.0.0.1:44082"", X-Forwarded-For:"127.0.0.1", X-Forwarded-Proto:"http", X-Forwarded-Prefix:"/api/users", X-Forwarded-Port:"8082"]
2025-10-18T05:55:50.585Z DEBUG 119791 --- [gateway-service] [     parallel-5] g.f.h.o.ObservedRequestHttpHeadersFilter : Client observation  {name=http.client.requests(null), error=null, context=name='http.client.requests', contextualName='null', error='null', lowCardinalityKeyValues=[http.method='POST', http.status_code='UNKNOWN', spring.cloud.gateway.route.id='user-service-protected', spring.cloud.gateway.route.uri='http://localhost:8081'], highCardinalityKeyValues=[http.uri='http://localhost:8082/user/profile'], map=[class io.micrometer.core.instrument.LongTaskTimer$Sample='SampleImpl{duration(seconds)=8.3871E-5, duration(nanos)=83871.0, startTimeNanos=10249004833383}', class io.micrometer.core.instrument.Timer$Sample='io.micrometer.core.instrument.Timer$Sample@4d79b398'], parentObservation=org.springframework.security.web.server.ObservationWebFilterChainDecorator$PhasedObservation@5bfa5755} created for the request. New headers are [host:"localhost:8082", user-agent:"curl/7.81.0", accept:"*/*", content-type:"application/json", authorization:"Bearer eyJhbGciOiJIUzI1NiJ9.eyJzdWIiOiJ0ZXN0dXNlciIsImlhdCI6MTc2MDc2Njk0NSwiZXhwIjoxNzYwODUzMzQ1fQ.WlNXoa_3FP1l7ToqJKlbok2j1EVKstrVzjPyTQDaskw", content-length:"105", X-Forwarded-Host:"localhost:8080,localhost:8082", Forwarded:"proto=http;host="localhost:8082";for="127.0.0.1:44082"", X-Forwarded-For:"127.0.0.1", X-Forwarded-Proto:"http", X-Forwarded-Prefix:"/api/users", X-Forwarded-Port:"8082"]
2025-10-18T05:55:50.586Z DEBUG 119791 --- [gateway-service] [or-http-epoll-7] r.n.resources.PooledConnectionProvider   : [180fc178, L:/127.0.0.1:46496 - R:localhost/127.0.0.1:8081] Channel acquired, now: 1 active connections, 0 inactive connections 0 pending acquire requests.
2025-10-18T05:55:50.586Z DEBUG 119791 --- [gateway-service] [or-http-epoll-7] r.netty.http.client.HttpClientConnect    : [180fc178-2, L:/127.0.0.1:46496 - R:localhost/127.0.0.1:8081] Handler is being applied: {uri=http://localhost:8081/user/profile, method=POST}
2025-10-18T05:55:50.586Z DEBUG 119791 --- [gateway-service] [or-http-epoll-7] r.n.r.DefaultPooledConnectionProvider    : [180fc178-2, L:/127.0.0.1:46496 - R:localhost/127.0.0.1:8081] onStateChange(POST{uri=/user/profile, connection=PooledConnection{channel=[id: 0x180fc178, L:/127.0.0.1:46496 - R:localhost/127.0.0.1:8081]}}, [request_prepared])
2025-10-18T05:55:50.587Z DEBUG 119791 --- [gateway-service] [or-http-epoll-7] r.n.r.DefaultPooledConnectionProvider    : [180fc178-2, L:/127.0.0.1:46496 - R:localhost/127.0.0.1:8081] onStateChange(POST{uri=/user/profile, connection=PooledConnection{channel=[id: 0x180fc178, L:/127.0.0.1:46496 - R:localhost/127.0.0.1:8081]}}, [request_sent])
2025-10-18T05:55:50.617Z DEBUG 119791 --- [gateway-service] [or-http-epoll-7] r.n.http.client.HttpClientOperations     : [180fc178-2, L:/127.0.0.1:46496 - R:localhost/127.0.0.1:8081] Received response (auto-read:false) : RESPONSE(decodeResult: success, version: HTTP/1.1)
HTTP/1.1 201 
X-Content-Type-Options: <filtered>
X-XSS-Protection: <filtered>
Cache-Control: <filtered>
Pragma: <filtered>
Expires: <filtered>
X-Frame-Options: <filtered>
Content-Type: <filtered>
Transfer-Encoding: <filtered>
Date: <filtered>
2025-10-18T05:55:50.618Z DEBUG 119791 --- [gateway-service] [or-http-epoll-7] r.n.r.DefaultPooledConnectionProvider    : [180fc178-2, L:/127.0.0.1:46496 - R:localhost/127.0.0.1:8081] onStateChange(POST{uri=/user/profile, connection=PooledConnection{channel=[id: 0x180fc178, L:/127.0.0.1:46496 - R:localhost/127.0.0.1:8081]}}, [response_received])
2025-10-18T05:55:50.618Z DEBUG 119791 --- [gateway-service] [or-http-epoll-7] .f.h.o.ObservedResponseHttpHeadersFilter : Will instrument the response
2025-10-18T05:55:50.618Z DEBUG 119791 --- [gateway-service] [or-http-epoll-7] .f.h.o.ObservedResponseHttpHeadersFilter : The response was handled for observation {name=http.client.requests(null), error=null, context=name='http.client.requests', contextualName='null', error='null', lowCardinalityKeyValues=[http.method='POST', http.status_code='UNKNOWN', spring.cloud.gateway.route.id='user-service-protected', spring.cloud.gateway.route.uri='http://localhost:8081'], highCardinalityKeyValues=[http.uri='http://localhost:8082/user/profile'], map=[class io.micrometer.core.instrument.LongTaskTimer$Sample='SampleImpl{duration(seconds)=0.033522972, duration(nanos)=3.3522972E7, startTimeNanos=10249004833383}', class io.micrometer.core.instrument.Timer$Sample='io.micrometer.core.instrument.Timer$Sample@4d79b398'], parentObservation=org.springframework.security.web.server.ObservationWebFilterChainDecorator$PhasedObservation@5bfa5755}
2025-10-18T05:55:50.618Z DEBUG 119791 --- [gateway-service] [or-http-epoll-7] reactor.netty.channel.FluxReceive        : [180fc178-2, L:/127.0.0.1:46496 - R:localhost/127.0.0.1:8081] [terminated=false, cancelled=false, pending=0, error=null]: subscribing inbound receiver
2025-10-18T05:55:50.619Z DEBUG 119791 --- [gateway-service] [or-http-epoll-7] r.n.http.client.HttpClientOperations     : [180fc178-2, L:/127.0.0.1:46496 - R:localhost/127.0.0.1:8081] Received last HTTP packet
2025-10-18T05:55:50.620Z DEBUG 119791 --- [gateway-service] [or-http-epoll-7] r.n.r.DefaultPooledConnectionProvider    : [180fc178, L:/127.0.0.1:46496 - R:localhost/127.0.0.1:8081] onStateChange(POST{uri=/user/profile, connection=PooledConnection{channel=[id: 0x180fc178, L:/127.0.0.1:46496 - R:localhost/127.0.0.1:8081]}}, [response_completed])
2025-10-18T05:55:50.620Z DEBUG 119791 --- [gateway-service] [or-http-epoll-7] r.n.r.DefaultPooledConnectionProvider    : [180fc178, L:/127.0.0.1:46496 - R:localhost/127.0.0.1:8081] onStateChange(POST{uri=/user/profile, connection=PooledConnection{channel=[id: 0x180fc178, L:/127.0.0.1:46496 - R:localhost/127.0.0.1:8081]}}, [disconnecting])
2025-10-18T05:55:50.620Z DEBUG 119791 --- [gateway-service] [or-http-epoll-7] r.n.r.DefaultPooledConnectionProvider    : [180fc178, L:/127.0.0.1:46496 - R:localhost/127.0.0.1:8081] Releasing channel
2025-10-18T05:55:50.620Z DEBUG 119791 --- [gateway-service] [or-http-epoll-7] r.n.resources.PooledConnectionProvider   : [180fc178, L:/127.0.0.1:46496 - R:localhost/127.0.0.1:8081] Channel cleaned, now: 0 active connections, 1 inactive connections 0 pending acquire requests.
2025-10-18T05:55:55.667Z DEBUG 119791 --- [gateway-service] [     parallel-6] o.s.c.g.h.RoutePredicateHandlerMapping   : Route matched: user-service-protected
2025-10-18T05:55:55.667Z DEBUG 119791 --- [gateway-service] [     parallel-6] o.s.c.g.h.RoutePredicateHandlerMapping   : Mapping [Exchange: GET http://localhost:8082/api/users/user/profile] to Route{id='user-service-protected', uri=http://localhost:8081, order=0, predicate=Paths: [/api/users/user/**], match trailing slash: true, gatewayFilters=[[[AddRequestHeader X-Forwarded-Host = 'localhost:8080'], order = 1], [[StripPrefix parts = 2], order = 1], [[DedupeResponseHeader Access-Control-Allow-Origin Access-Control-Allow-Credentials = RETAIN_UNIQUE], order = 2], [[AddResponseHeader X-Gateway-Routed = 'true'], order = 2]], metadata={}}
2025-10-18T05:55:55.667Z DEBUG 119791 --- [gateway-service] [     parallel-6] o.s.c.g.h.RoutePredicateHandlerMapping   : [2c16213c] Mapped to org.springframework.cloud.gateway.handler.FilteringWebHandler@685e6a68
2025-10-18T05:55:55.668Z DEBUG 119791 --- [gateway-service] [     parallel-6] o.s.c.g.handler.FilteringWebHandler      : Sorted gatewayFilterFactories: [[GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.RemoveCachedBodyFilter@c6a692e}, order = -2147483648], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.AdaptCachedBodyGlobalFilter@350d26f3}, order = -2147482648], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.NettyWriteResponseFilter@33215ffb}, order = -1], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ForwardPathFilter@17d2b646}, order = 0], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.GatewayMetricsFilter@7b3a6e95}, order = 0], [[AddRequestHeader X-Forwarded-Host = 'localhost:8080'], order = 1], [[StripPrefix parts = 2], order = 1], [[DedupeResponseHeader Access-Control-Allow-Origin Access-Control-Allow-Credentials = RETAIN_UNIQUE], order = 2], [[AddResponseHeader X-Gateway-Routed = 'true'], order = 2], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.RouteToRequestUrlFilter@27502e5c}, order = 10000], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.config.GatewayNoLoadBalancerClientAutoConfiguration$NoLoadBalancerClientFilter@8ac512e}, order = 10150], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.WebsocketRoutingFilter@323e026d}, order = 2147483646], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.NettyRoutingFilter@2bf3ec4}, order = 2147483647], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ForwardRoutingFilter@4b343b6d}, order = 2147483647]]
2025-10-18T05:55:55.669Z DEBUG 119791 --- [gateway-service] [     parallel-6] g.f.h.o.ObservedRequestHttpHeadersFilter : Will instrument the HTTP request headers [host:"localhost:8082", user-agent:"curl/7.81.0", accept:"*/*", authorization:"Bearer eyJhbGciOiJIUzI1NiJ9.eyJzdWIiOiJ0ZXN0dXNlciIsImlhdCI6MTc2MDc2Njk0NSwiZXhwIjoxNzYwODUzMzQ1fQ.WlNXoa_3FP1l7ToqJKlbok2j1EVKstrVzjPyTQDaskw", X-Forwarded-Host:"localhost:8080,localhost:8082", Forwarded:"proto=http;host="localhost:8082";for="127.0.0.1:42460"", X-Forwarded-For:"127.0.0.1", X-Forwarded-Proto:"http", X-Forwarded-Prefix:"/api/users", X-Forwarded-Port:"8082"]
2025-10-18T05:55:55.670Z DEBUG 119791 --- [gateway-service] [     parallel-6] g.f.h.o.ObservedRequestHttpHeadersFilter : Client observation  {name=http.client.requests(null), error=null, context=name='http.client.requests', contextualName='null', error='null', lowCardinalityKeyValues=[http.method='GET', http.status_code='UNKNOWN', spring.cloud.gateway.route.id='user-service-protected', spring.cloud.gateway.route.uri='http://localhost:8081'], highCardinalityKeyValues=[http.uri='http://localhost:8082/user/profile'], map=[class io.micrometer.core.instrument.LongTaskTimer$Sample='SampleImpl{duration(seconds)=6.5985E-5, duration(nanos)=65985.0, startTimeNanos=10254090083666}', class io.micrometer.core.instrument.Timer$Sample='io.micrometer.core.instrument.Timer$Sample@7820b191'], parentObservation=org.springframework.security.web.server.ObservationWebFilterChainDecorator$PhasedObservation@256ce517} created for the request. New headers are [host:"localhost:8082", user-agent:"curl/7.81.0", accept:"*/*", authorization:"Bearer eyJhbGciOiJIUzI1NiJ9.eyJzdWIiOiJ0ZXN0dXNlciIsImlhdCI6MTc2MDc2Njk0NSwiZXhwIjoxNzYwODUzMzQ1fQ.WlNXoa_3FP1l7ToqJKlbok2j1EVKstrVzjPyTQDaskw", X-Forwarded-Host:"localhost:8080,localhost:8082", Forwarded:"proto=http;host="localhost:8082";for="127.0.0.1:42460"", X-Forwarded-For:"127.0.0.1", X-Forwarded-Proto:"http", X-Forwarded-Prefix:"/api/users", X-Forwarded-Port:"8082"]
2025-10-18T05:55:55.670Z DEBUG 119791 --- [gateway-service] [or-http-epoll-7] r.n.resources.PooledConnectionProvider   : [180fc178, L:/127.0.0.1:46496 - R:localhost/127.0.0.1:8081] Channel acquired, now: 1 active connections, 0 inactive connections 0 pending acquire requests.
2025-10-18T05:55:55.670Z DEBUG 119791 --- [gateway-service] [or-http-epoll-7] r.netty.http.client.HttpClientConnect    : [180fc178-3, L:/127.0.0.1:46496 - R:localhost/127.0.0.1:8081] Handler is being applied: {uri=http://localhost:8081/user/profile, method=GET}
2025-10-18T05:55:55.671Z DEBUG 119791 --- [gateway-service] [or-http-epoll-7] r.n.r.DefaultPooledConnectionProvider    : [180fc178-3, L:/127.0.0.1:46496 - R:localhost/127.0.0.1:8081] onStateChange(GET{uri=/user/profile, connection=PooledConnection{channel=[id: 0x180fc178, L:/127.0.0.1:46496 - R:localhost/127.0.0.1:8081]}}, [request_prepared])
2025-10-18T05:55:55.671Z DEBUG 119791 --- [gateway-service] [or-http-epoll-7] r.n.r.DefaultPooledConnectionProvider    : [180fc178-3, L:/127.0.0.1:46496 - R:localhost/127.0.0.1:8081] onStateChange(GET{uri=/user/profile, connection=PooledConnection{channel=[id: 0x180fc178, L:/127.0.0.1:46496 - R:localhost/127.0.0.1:8081]}}, [request_sent])
2025-10-18T05:55:55.690Z DEBUG 119791 --- [gateway-service] [or-http-epoll-7] r.n.http.client.HttpClientOperations     : [180fc178-3, L:/127.0.0.1:46496 - R:localhost/127.0.0.1:8081] Received response (auto-read:false) : RESPONSE(decodeResult: success, version: HTTP/1.1)
HTTP/1.1 200 
X-Content-Type-Options: <filtered>
X-XSS-Protection: <filtered>
Cache-Control: <filtered>
Pragma: <filtered>
Expires: <filtered>
X-Frame-Options: <filtered>
Content-Type: <filtered>
Transfer-Encoding: <filtered>
Date: <filtered>
2025-10-18T05:55:55.690Z DEBUG 119791 --- [gateway-service] [or-http-epoll-7] r.n.r.DefaultPooledConnectionProvider    : [180fc178-3, L:/127.0.0.1:46496 - R:localhost/127.0.0.1:8081] onStateChange(GET{uri=/user/profile, connection=PooledConnection{channel=[id: 0x180fc178, L:/127.0.0.1:46496 - R:localhost/127.0.0.1:8081]}}, [response_received])
2025-10-18T05:55:55.690Z DEBUG 119791 --- [gateway-service] [or-http-epoll-7] .f.h.o.ObservedResponseHttpHeadersFilter : Will instrument the response
2025-10-18T05:55:55.690Z DEBUG 119791 --- [gateway-service] [or-http-epoll-7] .f.h.o.ObservedResponseHttpHeadersFilter : The response was handled for observation {name=http.client.requests(null), error=null, context=name='http.client.requests', contextualName='null', error='null', lowCardinalityKeyValues=[http.method='GET', http.status_code='UNKNOWN', spring.cloud.gateway.route.id='user-service-protected', spring.cloud.gateway.route.uri='http://localhost:8081'], highCardinalityKeyValues=[http.uri='http://localhost:8082/user/profile'], map=[class io.micrometer.core.instrument.LongTaskTimer$Sample='SampleImpl{duration(seconds)=0.020531349, duration(nanos)=2.0531349E7, startTimeNanos=10254090083666}', class io.micrometer.core.instrument.Timer$Sample='io.micrometer.core.instrument.Timer$Sample@7820b191'], parentObservation=org.springframework.security.web.server.ObservationWebFilterChainDecorator$PhasedObservation@256ce517}
2025-10-18T05:55:55.690Z DEBUG 119791 --- [gateway-service] [or-http-epoll-7] reactor.netty.channel.FluxReceive        : [180fc178-3, L:/127.0.0.1:46496 - R:localhost/127.0.0.1:8081] [terminated=false, cancelled=false, pending=0, error=null]: subscribing inbound receiver
2025-10-18T05:55:55.717Z DEBUG 119791 --- [gateway-service] [or-http-epoll-7] r.n.http.client.HttpClientOperations     : [180fc178-3, L:/127.0.0.1:46496 - R:localhost/127.0.0.1:8081] Received last HTTP packet
2025-10-18T05:55:55.718Z DEBUG 119791 --- [gateway-service] [or-http-epoll-7] r.n.r.DefaultPooledConnectionProvider    : [180fc178, L:/127.0.0.1:46496 - R:localhost/127.0.0.1:8081] onStateChange(GET{uri=/user/profile, connection=PooledConnection{channel=[id: 0x180fc178, L:/127.0.0.1:46496 - R:localhost/127.0.0.1:8081]}}, [response_completed])
2025-10-18T05:55:55.718Z DEBUG 119791 --- [gateway-service] [or-http-epoll-7] r.n.r.DefaultPooledConnectionProvider    : [180fc178, L:/127.0.0.1:46496 - R:localhost/127.0.0.1:8081] onStateChange(GET{uri=/user/profile, connection=PooledConnection{channel=[id: 0x180fc178, L:/127.0.0.1:46496 - R:localhost/127.0.0.1:8081]}}, [disconnecting])
2025-10-18T05:55:55.718Z DEBUG 119791 --- [gateway-service] [or-http-epoll-7] r.n.r.DefaultPooledConnectionProvider    : [180fc178, L:/127.0.0.1:46496 - R:localhost/127.0.0.1:8081] Releasing channel
2025-10-18T05:55:55.718Z DEBUG 119791 --- [gateway-service] [or-http-epoll-7] r.n.resources.PooledConnectionProvider   : [180fc178, L:/127.0.0.1:46496 - R:localhost/127.0.0.1:8081] Channel cleaned, now: 0 active connections, 1 inactive connections 0 pending acquire requests.
2025-10-18T05:56:00.644Z DEBUG 119791 --- [gateway-service] [     parallel-7] o.s.c.g.h.RoutePredicateHandlerMapping   : Route matched: user-service-protected
2025-10-18T05:56:00.644Z DEBUG 119791 --- [gateway-service] [     parallel-7] o.s.c.g.h.RoutePredicateHandlerMapping   : Mapping [Exchange: PUT http://localhost:8082/api/users/user/profile] to Route{id='user-service-protected', uri=http://localhost:8081, order=0, predicate=Paths: [/api/users/user/**], match trailing slash: true, gatewayFilters=[[[AddRequestHeader X-Forwarded-Host = 'localhost:8080'], order = 1], [[StripPrefix parts = 2], order = 1], [[DedupeResponseHeader Access-Control-Allow-Origin Access-Control-Allow-Credentials = RETAIN_UNIQUE], order = 2], [[AddResponseHeader X-Gateway-Routed = 'true'], order = 2]], metadata={}}
2025-10-18T05:56:00.644Z DEBUG 119791 --- [gateway-service] [     parallel-7] o.s.c.g.h.RoutePredicateHandlerMapping   : [4f6df302] Mapped to org.springframework.cloud.gateway.handler.FilteringWebHandler@685e6a68
2025-10-18T05:56:00.644Z DEBUG 119791 --- [gateway-service] [     parallel-7] o.s.c.g.handler.FilteringWebHandler      : Sorted gatewayFilterFactories: [[GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.RemoveCachedBodyFilter@c6a692e}, order = -2147483648], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.AdaptCachedBodyGlobalFilter@350d26f3}, order = -2147482648], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.NettyWriteResponseFilter@33215ffb}, order = -1], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ForwardPathFilter@17d2b646}, order = 0], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.GatewayMetricsFilter@7b3a6e95}, order = 0], [[AddRequestHeader X-Forwarded-Host = 'localhost:8080'], order = 1], [[StripPrefix parts = 2], order = 1], [[DedupeResponseHeader Access-Control-Allow-Origin Access-Control-Allow-Credentials = RETAIN_UNIQUE], order = 2], [[AddResponseHeader X-Gateway-Routed = 'true'], order = 2], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.RouteToRequestUrlFilter@27502e5c}, order = 10000], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.config.GatewayNoLoadBalancerClientAutoConfiguration$NoLoadBalancerClientFilter@8ac512e}, order = 10150], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.WebsocketRoutingFilter@323e026d}, order = 2147483646], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.NettyRoutingFilter@2bf3ec4}, order = 2147483647], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ForwardRoutingFilter@4b343b6d}, order = 2147483647]]
2025-10-18T05:56:00.645Z DEBUG 119791 --- [gateway-service] [     parallel-7] g.f.h.o.ObservedRequestHttpHeadersFilter : Will instrument the HTTP request headers [host:"localhost:8082", user-agent:"curl/7.81.0", accept:"*/*", content-type:"application/json", authorization:"Bearer eyJhbGciOiJIUzI1NiJ9.eyJzdWIiOiJ0ZXN0dXNlciIsImlhdCI6MTc2MDc2Njk0NSwiZXhwIjoxNzYwODUzMzQ1fQ.WlNXoa_3FP1l7ToqJKlbok2j1EVKstrVzjPyTQDaskw", content-length:"48", X-Forwarded-Host:"localhost:8080,localhost:8082", Forwarded:"proto=http;host="localhost:8082";for="127.0.0.1:42472"", X-Forwarded-For:"127.0.0.1", X-Forwarded-Proto:"http", X-Forwarded-Prefix:"/api/users", X-Forwarded-Port:"8082"]
2025-10-18T05:56:00.645Z DEBUG 119791 --- [gateway-service] [     parallel-7] g.f.h.o.ObservedRequestHttpHeadersFilter : Client observation  {name=http.client.requests(null), error=null, context=name='http.client.requests', contextualName='null', error='null', lowCardinalityKeyValues=[http.method='PUT', http.status_code='UNKNOWN', spring.cloud.gateway.route.id='user-service-protected', spring.cloud.gateway.route.uri='http://localhost:8081'], highCardinalityKeyValues=[http.uri='http://localhost:8082/user/profile'], map=[class io.micrometer.core.instrument.LongTaskTimer$Sample='SampleImpl{duration(seconds)=4.5896E-5, duration(nanos)=45896.0, startTimeNanos=10259065528935}', class io.micrometer.core.instrument.Timer$Sample='io.micrometer.core.instrument.Timer$Sample@70b454da'], parentObservation=org.springframework.security.web.server.ObservationWebFilterChainDecorator$PhasedObservation@294b93ab} created for the request. New headers are [host:"localhost:8082", user-agent:"curl/7.81.0", accept:"*/*", content-type:"application/json", authorization:"Bearer eyJhbGciOiJIUzI1NiJ9.eyJzdWIiOiJ0ZXN0dXNlciIsImlhdCI6MTc2MDc2Njk0NSwiZXhwIjoxNzYwODUzMzQ1fQ.WlNXoa_3FP1l7ToqJKlbok2j1EVKstrVzjPyTQDaskw", content-length:"48", X-Forwarded-Host:"localhost:8080,localhost:8082", Forwarded:"proto=http;host="localhost:8082";for="127.0.0.1:42472"", X-Forwarded-For:"127.0.0.1", X-Forwarded-Proto:"http", X-Forwarded-Prefix:"/api/users", X-Forwarded-Port:"8082"]
2025-10-18T05:56:00.646Z DEBUG 119791 --- [gateway-service] [or-http-epoll-7] r.n.resources.PooledConnectionProvider   : [180fc178, L:/127.0.0.1:46496 - R:localhost/127.0.0.1:8081] Channel acquired, now: 1 active connections, 0 inactive connections 0 pending acquire requests.
2025-10-18T05:56:00.646Z DEBUG 119791 --- [gateway-service] [or-http-epoll-7] r.netty.http.client.HttpClientConnect    : [180fc178-4, L:/127.0.0.1:46496 - R:localhost/127.0.0.1:8081] Handler is being applied: {uri=http://localhost:8081/user/profile, method=PUT}
2025-10-18T05:56:00.646Z DEBUG 119791 --- [gateway-service] [or-http-epoll-7] r.n.r.DefaultPooledConnectionProvider    : [180fc178-4, L:/127.0.0.1:46496 - R:localhost/127.0.0.1:8081] onStateChange(PUT{uri=/user/profile, connection=PooledConnection{channel=[id: 0x180fc178, L:/127.0.0.1:46496 - R:localhost/127.0.0.1:8081]}}, [request_prepared])
2025-10-18T05:56:00.647Z DEBUG 119791 --- [gateway-service] [or-http-epoll-7] r.n.r.DefaultPooledConnectionProvider    : [180fc178-4, L:/127.0.0.1:46496 - R:localhost/127.0.0.1:8081] onStateChange(PUT{uri=/user/profile, connection=PooledConnection{channel=[id: 0x180fc178, L:/127.0.0.1:46496 - R:localhost/127.0.0.1:8081]}}, [request_sent])
2025-10-18T05:56:00.686Z DEBUG 119791 --- [gateway-service] [or-http-epoll-7] r.n.http.client.HttpClientOperations     : [180fc178-4, L:/127.0.0.1:46496 - R:localhost/127.0.0.1:8081] Received response (auto-read:false) : RESPONSE(decodeResult: success, version: HTTP/1.1)
HTTP/1.1 200 
X-Content-Type-Options: <filtered>
X-XSS-Protection: <filtered>
Cache-Control: <filtered>
Pragma: <filtered>
Expires: <filtered>
X-Frame-Options: <filtered>
Content-Type: <filtered>
Transfer-Encoding: <filtered>
Date: <filtered>
2025-10-18T05:56:00.687Z DEBUG 119791 --- [gateway-service] [or-http-epoll-7] r.n.r.DefaultPooledConnectionProvider    : [180fc178-4, L:/127.0.0.1:46496 - R:localhost/127.0.0.1:8081] onStateChange(PUT{uri=/user/profile, connection=PooledConnection{channel=[id: 0x180fc178, L:/127.0.0.1:46496 - R:localhost/127.0.0.1:8081]}}, [response_received])
2025-10-18T05:56:00.687Z DEBUG 119791 --- [gateway-service] [or-http-epoll-7] .f.h.o.ObservedResponseHttpHeadersFilter : Will instrument the response
2025-10-18T05:56:00.687Z DEBUG 119791 --- [gateway-service] [or-http-epoll-7] .f.h.o.ObservedResponseHttpHeadersFilter : The response was handled for observation {name=http.client.requests(null), error=null, context=name='http.client.requests', contextualName='null', error='null', lowCardinalityKeyValues=[http.method='PUT', http.status_code='UNKNOWN', spring.cloud.gateway.route.id='user-service-protected', spring.cloud.gateway.route.uri='http://localhost:8081'], highCardinalityKeyValues=[http.uri='http://localhost:8082/user/profile'], map=[class io.micrometer.core.instrument.LongTaskTimer$Sample='SampleImpl{duration(seconds)=0.042042338, duration(nanos)=4.2042338E7, startTimeNanos=10259065528935}', class io.micrometer.core.instrument.Timer$Sample='io.micrometer.core.instrument.Timer$Sample@70b454da'], parentObservation=org.springframework.security.web.server.ObservationWebFilterChainDecorator$PhasedObservation@294b93ab}
2025-10-18T05:56:00.687Z DEBUG 119791 --- [gateway-service] [or-http-epoll-7] reactor.netty.channel.FluxReceive        : [180fc178-4, L:/127.0.0.1:46496 - R:localhost/127.0.0.1:8081] [terminated=false, cancelled=false, pending=0, error=null]: subscribing inbound receiver
2025-10-18T05:56:00.699Z DEBUG 119791 --- [gateway-service] [or-http-epoll-7] r.n.http.client.HttpClientOperations     : [180fc178-4, L:/127.0.0.1:46496 - R:localhost/127.0.0.1:8081] Received last HTTP packet
2025-10-18T05:56:00.699Z DEBUG 119791 --- [gateway-service] [or-http-epoll-7] r.n.r.DefaultPooledConnectionProvider    : [180fc178, L:/127.0.0.1:46496 - R:localhost/127.0.0.1:8081] onStateChange(PUT{uri=/user/profile, connection=PooledConnection{channel=[id: 0x180fc178, L:/127.0.0.1:46496 - R:localhost/127.0.0.1:8081]}}, [response_completed])
2025-10-18T05:56:00.699Z DEBUG 119791 --- [gateway-service] [or-http-epoll-7] r.n.r.DefaultPooledConnectionProvider    : [180fc178, L:/127.0.0.1:46496 - R:localhost/127.0.0.1:8081] onStateChange(PUT{uri=/user/profile, connection=PooledConnection{channel=[id: 0x180fc178, L:/127.0.0.1:46496 - R:localhost/127.0.0.1:8081]}}, [disconnecting])
2025-10-18T05:56:00.699Z DEBUG 119791 --- [gateway-service] [or-http-epoll-7] r.n.r.DefaultPooledConnectionProvider    : [180fc178, L:/127.0.0.1:46496 - R:localhost/127.0.0.1:8081] Releasing channel
2025-10-18T05:56:00.699Z DEBUG 119791 --- [gateway-service] [or-http-epoll-7] r.n.resources.PooledConnectionProvider   : [180fc178, L:/127.0.0.1:46496 - R:localhost/127.0.0.1:8081] Channel cleaned, now: 0 active connections, 1 inactive connections 0 pending acquire requests.
2025-10-18T05:56:06.135Z DEBUG 119791 --- [gateway-service] [     parallel-8] o.s.c.g.h.RoutePredicateHandlerMapping   : Route matched: user-service-protected
2025-10-18T05:56:06.135Z DEBUG 119791 --- [gateway-service] [     parallel-8] o.s.c.g.h.RoutePredicateHandlerMapping   : Mapping [Exchange: DELETE http://localhost:8082/api/users/user/profile] to Route{id='user-service-protected', uri=http://localhost:8081, order=0, predicate=Paths: [/api/users/user/**], match trailing slash: true, gatewayFilters=[[[AddRequestHeader X-Forwarded-Host = 'localhost:8080'], order = 1], [[StripPrefix parts = 2], order = 1], [[DedupeResponseHeader Access-Control-Allow-Origin Access-Control-Allow-Credentials = RETAIN_UNIQUE], order = 2], [[AddResponseHeader X-Gateway-Routed = 'true'], order = 2]], metadata={}}
2025-10-18T05:56:06.135Z DEBUG 119791 --- [gateway-service] [     parallel-8] o.s.c.g.h.RoutePredicateHandlerMapping   : [46b0907c] Mapped to org.springframework.cloud.gateway.handler.FilteringWebHandler@685e6a68
2025-10-18T05:56:06.135Z DEBUG 119791 --- [gateway-service] [     parallel-8] o.s.c.g.handler.FilteringWebHandler      : Sorted gatewayFilterFactories: [[GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.RemoveCachedBodyFilter@c6a692e}, order = -2147483648], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.AdaptCachedBodyGlobalFilter@350d26f3}, order = -2147482648], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.NettyWriteResponseFilter@33215ffb}, order = -1], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ForwardPathFilter@17d2b646}, order = 0], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.GatewayMetricsFilter@7b3a6e95}, order = 0], [[AddRequestHeader X-Forwarded-Host = 'localhost:8080'], order = 1], [[StripPrefix parts = 2], order = 1], [[DedupeResponseHeader Access-Control-Allow-Origin Access-Control-Allow-Credentials = RETAIN_UNIQUE], order = 2], [[AddResponseHeader X-Gateway-Routed = 'true'], order = 2], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.RouteToRequestUrlFilter@27502e5c}, order = 10000], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.config.GatewayNoLoadBalancerClientAutoConfiguration$NoLoadBalancerClientFilter@8ac512e}, order = 10150], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.WebsocketRoutingFilter@323e026d}, order = 2147483646], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.NettyRoutingFilter@2bf3ec4}, order = 2147483647], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ForwardRoutingFilter@4b343b6d}, order = 2147483647]]
2025-10-18T05:56:06.136Z DEBUG 119791 --- [gateway-service] [     parallel-8] g.f.h.o.ObservedRequestHttpHeadersFilter : Will instrument the HTTP request headers [host:"localhost:8082", user-agent:"curl/7.81.0", accept:"*/*", authorization:"Bearer eyJhbGciOiJIUzI1NiJ9.eyJzdWIiOiJ0ZXN0dXNlciIsImlhdCI6MTc2MDc2Njk0NSwiZXhwIjoxNzYwODUzMzQ1fQ.WlNXoa_3FP1l7ToqJKlbok2j1EVKstrVzjPyTQDaskw", X-Forwarded-Host:"localhost:8080,localhost:8082", Forwarded:"proto=http;host="localhost:8082";for="127.0.0.1:48090"", X-Forwarded-For:"127.0.0.1", X-Forwarded-Proto:"http", X-Forwarded-Prefix:"/api/users", X-Forwarded-Port:"8082"]
2025-10-18T05:56:06.137Z DEBUG 119791 --- [gateway-service] [     parallel-8] g.f.h.o.ObservedRequestHttpHeadersFilter : Client observation  {name=http.client.requests(null), error=null, context=name='http.client.requests', contextualName='null', error='null', lowCardinalityKeyValues=[http.method='DELETE', http.status_code='UNKNOWN', spring.cloud.gateway.route.id='user-service-protected', spring.cloud.gateway.route.uri='http://localhost:8081'], highCardinalityKeyValues=[http.uri='http://localhost:8082/user/profile'], map=[class io.micrometer.core.instrument.LongTaskTimer$Sample='SampleImpl{duration(seconds)=4.9958E-5, duration(nanos)=49958.0, startTimeNanos=10264556869818}', class io.micrometer.core.instrument.Timer$Sample='io.micrometer.core.instrument.Timer$Sample@7101ffc1'], parentObservation=org.springframework.security.web.server.ObservationWebFilterChainDecorator$PhasedObservation@6b9dd9de} created for the request. New headers are [host:"localhost:8082", user-agent:"curl/7.81.0", accept:"*/*", authorization:"Bearer eyJhbGciOiJIUzI1NiJ9.eyJzdWIiOiJ0ZXN0dXNlciIsImlhdCI6MTc2MDc2Njk0NSwiZXhwIjoxNzYwODUzMzQ1fQ.WlNXoa_3FP1l7ToqJKlbok2j1EVKstrVzjPyTQDaskw", X-Forwarded-Host:"localhost:8080,localhost:8082", Forwarded:"proto=http;host="localhost:8082";for="127.0.0.1:48090"", X-Forwarded-For:"127.0.0.1", X-Forwarded-Proto:"http", X-Forwarded-Prefix:"/api/users", X-Forwarded-Port:"8082"]
2025-10-18T05:56:06.138Z DEBUG 119791 --- [gateway-service] [or-http-epoll-7] r.n.resources.PooledConnectionProvider   : [180fc178, L:/127.0.0.1:46496 - R:localhost/127.0.0.1:8081] Channel acquired, now: 1 active connections, 0 inactive connections 0 pending acquire requests.
2025-10-18T05:56:06.138Z DEBUG 119791 --- [gateway-service] [or-http-epoll-7] r.netty.http.client.HttpClientConnect    : [180fc178-5, L:/127.0.0.1:46496 - R:localhost/127.0.0.1:8081] Handler is being applied: {uri=http://localhost:8081/user/profile, method=DELETE}
2025-10-18T05:56:06.138Z DEBUG 119791 --- [gateway-service] [or-http-epoll-7] r.n.r.DefaultPooledConnectionProvider    : [180fc178-5, L:/127.0.0.1:46496 - R:localhost/127.0.0.1:8081] onStateChange(DELETE{uri=/user/profile, connection=PooledConnection{channel=[id: 0x180fc178, L:/127.0.0.1:46496 - R:localhost/127.0.0.1:8081]}}, [request_prepared])
2025-10-18T05:56:06.138Z DEBUG 119791 --- [gateway-service] [or-http-epoll-7] r.n.r.DefaultPooledConnectionProvider    : [180fc178-5, L:/127.0.0.1:46496 - R:localhost/127.0.0.1:8081] onStateChange(DELETE{uri=/user/profile, connection=PooledConnection{channel=[id: 0x180fc178, L:/127.0.0.1:46496 - R:localhost/127.0.0.1:8081]}}, [request_sent])
2025-10-18T05:56:06.161Z DEBUG 119791 --- [gateway-service] [or-http-epoll-7] r.n.http.client.HttpClientOperations     : [180fc178-5, L:/127.0.0.1:46496 - R:localhost/127.0.0.1:8081] Received response (auto-read:false) : RESPONSE(decodeResult: success, version: HTTP/1.1)
HTTP/1.1 204 
X-Content-Type-Options: <filtered>
X-XSS-Protection: <filtered>
Cache-Control: <filtered>
Pragma: <filtered>
Expires: <filtered>
X-Frame-Options: <filtered>
Date: <filtered>
2025-10-18T05:56:06.161Z DEBUG 119791 --- [gateway-service] [or-http-epoll-7] r.n.r.DefaultPooledConnectionProvider    : [180fc178-5, L:/127.0.0.1:46496 - R:localhost/127.0.0.1:8081] onStateChange(DELETE{uri=/user/profile, connection=PooledConnection{channel=[id: 0x180fc178, L:/127.0.0.1:46496 - R:localhost/127.0.0.1:8081]}}, [response_received])
2025-10-18T05:56:06.161Z DEBUG 119791 --- [gateway-service] [or-http-epoll-7] .f.h.o.ObservedResponseHttpHeadersFilter : Will instrument the response
2025-10-18T05:56:06.161Z DEBUG 119791 --- [gateway-service] [or-http-epoll-7] .f.h.o.ObservedResponseHttpHeadersFilter : The response was handled for observation {name=http.client.requests(null), error=null, context=name='http.client.requests', contextualName='null', error='null', lowCardinalityKeyValues=[http.method='DELETE', http.status_code='UNKNOWN', spring.cloud.gateway.route.id='user-service-protected', spring.cloud.gateway.route.uri='http://localhost:8081'], highCardinalityKeyValues=[http.uri='http://localhost:8082/user/profile'], map=[class io.micrometer.core.instrument.LongTaskTimer$Sample='SampleImpl{duration(seconds)=0.024939313, duration(nanos)=2.4939313E7, startTimeNanos=10264556869818}', class io.micrometer.core.instrument.Timer$Sample='io.micrometer.core.instrument.Timer$Sample@7101ffc1'], parentObservation=org.springframework.security.web.server.ObservationWebFilterChainDecorator$PhasedObservation@6b9dd9de}
2025-10-18T05:56:06.162Z DEBUG 119791 --- [gateway-service] [or-http-epoll-7] reactor.netty.channel.FluxReceive        : [180fc178-5, L:/127.0.0.1:46496 - R:localhost/127.0.0.1:8081] [terminated=false, cancelled=false, pending=0, error=null]: subscribing inbound receiver
2025-10-18T05:56:06.162Z DEBUG 119791 --- [gateway-service] [or-http-epoll-7] r.n.http.client.HttpClientOperations     : [180fc178-5, L:/127.0.0.1:46496 - R:localhost/127.0.0.1:8081] Received last HTTP packet
2025-10-18T05:56:06.164Z DEBUG 119791 --- [gateway-service] [or-http-epoll-7] r.n.r.DefaultPooledConnectionProvider    : [180fc178, L:/127.0.0.1:46496 - R:localhost/127.0.0.1:8081] onStateChange(DELETE{uri=/user/profile, connection=PooledConnection{channel=[id: 0x180fc178, L:/127.0.0.1:46496 - R:localhost/127.0.0.1:8081]}}, [response_completed])
2025-10-18T05:56:06.164Z DEBUG 119791 --- [gateway-service] [or-http-epoll-7] r.n.r.DefaultPooledConnectionProvider    : [180fc178, L:/127.0.0.1:46496 - R:localhost/127.0.0.1:8081] onStateChange(DELETE{uri=/user/profile, connection=PooledConnection{channel=[id: 0x180fc178, L:/127.0.0.1:46496 - R:localhost/127.0.0.1:8081]}}, [disconnecting])
2025-10-18T05:56:06.164Z DEBUG 119791 --- [gateway-service] [or-http-epoll-7] r.n.r.DefaultPooledConnectionProvider    : [180fc178, L:/127.0.0.1:46496 - R:localhost/127.0.0.1:8081] Releasing channel
2025-10-18T05:56:06.164Z DEBUG 119791 --- [gateway-service] [or-http-epoll-7] r.n.resources.PooledConnectionProvider   : [180fc178, L:/127.0.0.1:46496 - R:localhost/127.0.0.1:8081] Channel cleaned, now: 0 active connections, 1 inactive connections 0 pending acquire requests.
2025-10-18T05:57:06.220Z DEBUG 119791 --- [gateway-service] [or-http-epoll-7] r.n.r.DefaultPooledConnectionProvider    : [180fc178, L:/127.0.0.1:46496 ! R:localhost/127.0.0.1:8081] onStateChange(PooledConnection{channel=[id: 0x180fc178, L:/127.0.0.1:46496 ! R:localhost/127.0.0.1:8081]}, [disconnecting])
[INFO] ------------------------------------------------------------------------
[INFO] BUILD FAILURE
[INFO] ------------------------------------------------------------------------
[INFO] Total time:  57:53 min
[INFO] Finished at: 2025-10-18T06:08:25Z
[INFO] ------------------------------------------------------------------------
[ERROR] Failed to execute goal org.springframework.boot:spring-boot-maven-plugin:3.4.10:run (default-cli) on project gateway-service: Process terminated with exit code: 137 -> [Help 1]
[ERROR] 
[ERROR] To see the full stack trace of the errors, re-run Maven with the -e switch.
[ERROR] Re-run Maven using the -X switch to enable full debug logging.
[ERROR] 
[ERROR] For more information about the errors and possible solutions, please read the following articles:
[ERROR] [Help 1] http://cwiki.apache.org/confluence/display/MAVEN/MojoExecutionException
